<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MercuryDPM: Beginner tutorials</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../MDPM.css" rel="stylesheet" type="text/css"/>
<link href="../../codeLabels.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-fork-corner.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-dropdown-version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../MDPM-fragment-copy-button.js"></script>
<script type="text/javascript">
DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="../../MDPM-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="../../MDPM-interactive-toc.js"></script>
<script type="text/javascript">
DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="../../MDPM-darkmode-toggle.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
  <div id="bitbucket-corner">
   <a href="https://bitbucket.org/mercurydpm/mercurydpm/src/master/" target="_blank" id="fork-corner" class="fork-corner fc-pos-tr fc-animate fc-theme-bitbucket"></a>
  </div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../mercury-logo-chosen-light-slogan.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"> <!--MercuryDPM--!>
   <!-- BEGIN version select -->
   <div class="dropdown" id="projectnumber">
    <button class="dropbtn">v1.0</button>
    <div class="dropdown-content">
    </div>
   </div>
   <script type="text/javascript" src="../../MDPM-dropdown-version.js"></script>
<!-- END version select -->
   <!--&#160;<span id="projectnumber">revision: v1.0</span>-->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<script type="text/javascript" src="../../MDPM-fork-corner.js"></script>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d0/db0/BeginnerTutorials.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Beginner tutorials </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page contains the following tutorials: <br  />
</p><ul>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T1">T1: Particle motion in outer space</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T2">T2: Particle motion on earth</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T3">T3: Bouncing ball (elastic)</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T4">T4: Bouncing ball with dissipation (inelastic)</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T5">T5: Elastic collision (2 particles)</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T6">T6: Elastic collisions with periodic boundaries</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T7">T7: Motion of a particle in a two dimensional (2D) box</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T8">T8: Motion of a particle in a box with an obstacle</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T9">T9: Motion of a ball over an inclined plane (Sliding + Rolling)</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T10">T10: How to load restart and data files</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T11">T11: Axisymmetric walls inside a cylindrical domain</a></li>
<li><a class="el" href="../../d0/db0/BeginnerTutorials.html#T12">T12: Creating objects by using Prisms</a></li>
</ul>
<h1><a class="anchor" id="T1"></a>
T1: Particle motion in outer space</h1>
<div class="image">
<img src="../../Tutorial1.jpg" alt=""/>
<div class="caption">
Particle moving with a constant velocity in outer space.</div></div>
<h4><a class="anchor" id="autotoc_md54"></a>
Problem description:</h4>
<p>The first tutorial is setup to simulate a particle moving with a constant velocity in the absence of gravity. You can find the simulation setup in <b>Tutorial1_ParticleInOuterSpace.cpp</b> The detailed description of this tutorial is presented below.<br  />
 </p>
<h3><a class="anchor" id="autotoc_md55"></a>
Headers:</h3>
<p>First, include all headers that are necessary to setup the simulations. They come from the MercuryDPM kernel and the C++ standard libraries (see <a class="el" href="../../d3/da2/DevelopersGuideKernel.html">Developing a kernel feature</a>). Headers files usually have a <em> .h </em> or <em> .hpp </em> extensions. For example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/dd9/Species_8h.html">Species/Species.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&gt;</span></div>
<div class="ttc" id="aLinearViscoelasticSpecies_8h_html"><div class="ttname"><a href="../../da/d68/LinearViscoelasticSpecies_8h.html">LinearViscoelasticSpecies.h</a></div></div>
<div class="ttc" id="aMercury3D_8h_html"><div class="ttname"><a href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a></div></div>
<div class="ttc" id="aSpecies_8h_html"><div class="ttname"><a href="../../d7/dd9/Species_8h.html">Species.h</a></div></div>
</div><!-- fragment --><p> So here we include three headers. The first</p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&gt;</span> </div>
</div><!-- fragment --><p> means we are going to do a 3D problem. The second two </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/dd9/Species_8h.html">Species/Species.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&gt;</span></div>
</div><!-- fragment --><p> means we include the linear viscoelastic contact model.</p>
<h3><a class="anchor" id="autotoc_md56"></a>
Before main function:</h3>
<p>Before the main function, a new class (named Tutorial1) is derived from <a class="el" href="../../d3/db1/classMercury3D.html">Mercury3D</a> (or <a class="el" href="../../d6/de5/classMercury2D.html">Mercury2D</a>).</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="../../d9/dcf/classTutorial1.html">Tutorial1</a> : <span class="keyword">public</span> <a class="code" href="../../d3/db1/classMercury3D.html">Mercury3D</a> </div>
<div class="ttc" id="aclassMercury3D_html"><div class="ttname"><a href="../../d3/db1/classMercury3D.html">Mercury3D</a></div><div class="ttdoc">This adds on the hierarchical grid code for 3D problems.</div><div class="ttdef"><b>Definition:</b> Mercury3D.h:16</div></div>
<div class="ttc" id="aclassTutorial1_html"><div class="ttname"><a href="../../d9/dcf/classTutorial1.html">Tutorial1</a></div><div class="ttdoc">[T1:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial1_ParticleInOuterSpace.cpp:22</div></div>
</div><!-- fragment --><p>Next, we override (modify) some of the functions of the inherited class. Most importantly, we override setupInitialConditions:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="../../d9/dcf/classTutorial1.html#a54a6e794defc8cdf0983040e3f09faf7">setupInitialConditions</a>() override </div>
<div class="ttc" id="aclassTutorial1_html_a54a6e794defc8cdf0983040e3f09faf7"><div class="ttname"><a href="../../d9/dcf/classTutorial1.html#a54a6e794defc8cdf0983040e3f09faf7">Tutorial1::setupInitialConditions</a></div><div class="ttdeci">void setupInitialConditions() override</div><div class="ttdoc">Use setupInitialConditions to define your particle and wall positions.</div><div class="ttdef"><b>Definition:</b> Tutorial1_ParticleInOuterSpace.cpp:27</div></div>
</div><!-- fragment --><p>In setupInitialConditions, we define the initial state of the system (particle and wall positions). In this case, we only create a single particle. An object of type SphericalParticle is created, and the particle properties (positions, radius and velocities) are set. Then the defined information is sent to the classParticleHandler, using the function classParticleHandler::copyAndAddObject</p>
<div class="fragment"><div class="line">        <span class="comment">// create a new particle</span></div>
<div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <span class="comment">// set species (material type)</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(speciesHandler.getObject(0));</div>
<div class="line">        <span class="comment">// set particle radius, position, velocity</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.01);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.1 , 0.1, 0.1 ));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.1, 0.0, 0.0));</div>
<div class="line">        <span class="comment">// pass particle to the particle handler (which contains all particles in the simulation)</span></div>
<div class="line">        particleHandler.copyAndAddObject(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="ttc" id="aMatrixBase__all_8cpp_html_a9b22b0b79984d73a58b20bc0c88a7c5f"><div class="ttname"><a href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a></div><div class="ttdeci">Vector3f p0</div><div class="ttdef"><b>Definition:</b> MatrixBase_all.cpp:2</div></div>
<div class="ttc" id="aclassSphericalParticle_html"><div class="ttname"><a href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a></div><div class="ttdoc">A spherical particle is the most simple particle used in MercuryDPM.</div><div class="ttdef"><b>Definition:</b> SphericalParticle.h:16</div></div>
<div class="ttc" id="aclassVec3D_html"><div class="ttname"><a href="../../d5/dc1/classVec3D.html">Vec3D</a></div><div class="ttdef"><b>Definition:</b> Kernel/Math/Vector.h:30</div></div>
</div><!-- fragment --><p> Note, the species will be defined later. Here we create a particle on radius 0.01 which is initial at position (0.1,0.1,0.1) and has initial velocity (0.1,0.0,0.0) so it is moving in the x-direction.</p>
<h3><a class="anchor" id="autotoc_md57"></a>
Main function:</h3>
<p>In the main function, the global parameters of the problem are defined. It includes gravity, spatial dimensions (x,y,z), total run time, the type of contact law, etc. <br  />
 The object 'problem' is an instance of the defined class <a class="el" href="../../d9/dcf/classTutorial1.html">Tutorial1</a>. Global parameters and species will point to the object 'problem'.</p>
<div class="fragment"><div class="line"><a class="code" href="../../d9/dcf/classTutorial1.html">Tutorial1</a> <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>;</div>
<div class="ttc" id="asteady__axisym__advection__diffusion_8cc_html_a569d6908c13cebe207584b3d146c851e"><div class="ttname"><a href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a></div><div class="ttdeci">Constructor for SteadyAxisymAdvectionDiffusion problem</div><div class="ttdef"><b>Definition:</b> steady_axisym_advection_diffusion.cc:213</div></div>
</div><!-- fragment --><p>Then, the data members are defined as:</p>
<div class="fragment"><div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setName(<span class="stringliteral">&quot;Tutorial1&quot;</span>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setGravity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, 0.0));</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setXMax(1.0);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setYMax(1.0);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setZMax(1.0);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setTimeMax(1.0);</div>
</div><!-- fragment --><p> Subsequently, the <a class="el" href="../../dd/da4/HowToCreateANewSpecies.html#species">Species</a> of the problem are defined. It means, the properties (density,stiffness) and the corresponding contact law (for this tutorial, see <a class="el" href="../../da/d68/LinearViscoelasticSpecies_8h.html#a7730596a0943f07edefc6cd410449dbc">LinearViscoelasticSpecies</a>). Initially, when a particle is created, it attains the properties of a default species type with ‘0’ as its index.</p>
<div class="fragment"><div class="line">    <a class="code" href="../../d9/d0c/classSpecies.html">LinearViscoelasticSpecies</a> species;</div>
<div class="line">    species.<a class="code" href="../../dc/d02/classParticleSpecies.html#a274df9fa08ef5580e54f8e9301f1b348">setDensity</a>(2500.0); <span class="comment">//sets the species type_0 density in kg/m3</span></div>
<div class="line">    <span class="comment">// The normal spring stiffness and normal dissipation is computed such that</span></div>
<div class="line">    <span class="comment">// collision time tc=0.005 and restitution coefficient rc=1.0</span></div>
<div class="line">    species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad179cd0c4c13e4d54ae243956ce5a07d">setStiffness</a>(258.5);<span class="comment">//sets the spring stiffness in kN/m.</span></div>
<div class="line">    species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a73d0ff3e1ac4c6cb75dae0b623d7a13b">setDissipation</a>(0.0); <span class="comment">//sets the dissipation.</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.speciesHandler.copyAndAddObject(species);</div>
<div class="ttc" id="aclassLinearViscoelasticNormalSpecies_html_a73d0ff3e1ac4c6cb75dae0b623d7a13b"><div class="ttname"><a href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a73d0ff3e1ac4c6cb75dae0b623d7a13b">LinearViscoelasticNormalSpecies::setDissipation</a></div><div class="ttdeci">void setDissipation(Mdouble dissipation)</div><div class="ttdoc">Allows the normal dissipation to be changed.</div><div class="ttdef"><b>Definition:</b> LinearViscoelasticNormalSpecies.cc:96</div></div>
<div class="ttc" id="aclassLinearViscoelasticNormalSpecies_html_ad179cd0c4c13e4d54ae243956ce5a07d"><div class="ttname"><a href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad179cd0c4c13e4d54ae243956ce5a07d">LinearViscoelasticNormalSpecies::setStiffness</a></div><div class="ttdeci">void setStiffness(Mdouble new_k)</div><div class="ttdoc">Allows the spring constant to be changed.</div><div class="ttdef"><b>Definition:</b> LinearViscoelasticNormalSpecies.cc:72</div></div>
<div class="ttc" id="aclassParticleSpecies_html_a274df9fa08ef5580e54f8e9301f1b348"><div class="ttname"><a href="../../dc/d02/classParticleSpecies.html#a274df9fa08ef5580e54f8e9301f1b348">ParticleSpecies::setDensity</a></div><div class="ttdeci">void setDensity(Mdouble density)</div><div class="ttdef"><b>Definition:</b> ParticleSpecies.cc:88</div></div>
<div class="ttc" id="aclassSpecies_html"><div class="ttname"><a href="../../d9/d0c/classSpecies.html">Species&lt; LinearViscoelasticNormalSpecies &gt;</a></div></div>
</div><!-- fragment --><p> Here, 'species' is an object of the class: <a class="el" href="../../da/d68/LinearViscoelasticSpecies_8h.html#a7730596a0943f07edefc6cd410449dbc">LinearViscoelasticSpecies</a>. Data members are fitted to point to this object, and then, copied and added to their corresponding handler classSpeciesHandler.</p>
<p>Outputs:<br  />
 Data output is vital to analyse simulations, which leads to defining ways to save the simulation data for post processing.<br  />
The simulations generate several types of data files.</p>
<div class="fragment"><div class="line">    <span class="comment">// number of time steps skipped between saves (i.e. every 10-th time step is written to file)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setSaveCount(50);</div>
<div class="line">    <span class="comment">// creates file with particle positions, velocities, radii for multiple time steps (for plotting)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.dataFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <span class="comment">// file with contact forces, overlaps for multiple time steps (for plotting)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.fStatFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a>);</div>
<div class="line">    <span class="comment">// file with all parameters of the last saved time step (for restarting)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.restartFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <span class="comment">// writes global properties like kinetic/potential energy and center of mass (for quick analysis)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.eneFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a>);</div>
<div class="ttc" id="aFile_8h_html_abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2"><div class="ttname"><a href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a></div><div class="ttdeci">@ NO_FILE</div><div class="ttdoc">file will not be created/read</div></div>
<div class="ttc" id="aFile_8h_html_abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69"><div class="ttname"><a href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a></div><div class="ttdeci">@ ONE_FILE</div><div class="ttdoc">all data will be written into/ read from a single file called name_</div></div>
</div><!-- fragment --><p> Thereby, data members and member functions are pointed to the object 'problem'.<br  />
 For Paraview users, additional display options can be set as below</p>
<div class="fragment"><div class="line">    <span class="comment">// whether the wall geometry is written into a vtu file (either once initially or for several time steps)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.wallHandler.setWriteVTK(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <span class="comment">// whether the particle positions are written into a vtu file</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setParticlesWriteVTK(<span class="keyword">true</span>);</div>
</div><!-- fragment --><p> After all the simulation parameters are set, we reach a point where we put all the above bits of code in action by the following statements</p>
<div class="fragment"><div class="line">    <span class="comment">// set a time step 1/50th of collision time</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setTimeStep(0.005 / 50.0);</div>
<div class="line">    <span class="comment">// start the solver (calls setupInitialConditions and initiates time loop)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.solve(argc, argv);</div>
</div><!-- fragment --><p> <br  />
<br  />
<b>To run this problem</b> go to the corresponding folder (like: MercuryDPM/MercuryBuild/Drivers/Tutorials) and start </p><div class="fragment"><div class="line">./Tutorial1_ParticleInOuterSpace</div>
</div><!-- fragment --><p> The program runs until tmax is reached. Now all data is generated like Tutorial1.data, .restart and .xballs<br  />
 If you turned on XBalls support in cmake, you can visualize the information in the .data file using </p><div class="fragment"><div class="line">./<a class="code" href="../../d9/dcf/classTutorial1.html">Tutorial1</a>.xballs </div>
</div><!-- fragment --><p>Alternatively, you can use ParaView to visualize the vtu fields </p><div class="fragment"><div class="line">paraview --script=<a class="code" href="../../d9/dcf/classTutorial1.html">Tutorial1</a>.py</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md58"></a>
Exercises</h2>
<ol type="1">
<li>Run Tutorial 1 <div class="fragment"><div class="line">cd ~/MercuryDPM/MercuryBuild/Drivers/Tutorials/</div>
<div class="line">make                             # compile</div>
<div class="line">./Tutorial1_ParticleInOuterSpace # <a class="code" href="../../dd/d94/two__d__poisson__compare__solvers_8cc.html#a23bdfecb707db57cd809897a41b71297">run</a></div>
<div class="ttc" id="atwo__d__poisson__compare__solvers_8cc_html_a23bdfecb707db57cd809897a41b71297"><div class="ttname"><a href="../../dd/d94/two__d__poisson__compare__solvers_8cc.html#a23bdfecb707db57cd809897a41b71297">run</a></div><div class="ttdeci">void run(const string &amp;dir_name, LinearSolver *linear_solver_pt, const unsigned nel_1d, bool mess_up_order)</div><div class="ttdef"><b>Definition:</b> two_d_poisson_compare_solvers.cc:317</div></div>
</div><!-- fragment --></li>
<li>Plot in ParaView<div class="fragment"><div class="line">paraview --script=<a class="code" href="../../d9/dcf/classTutorial1.html">Tutorial1</a>.py </div>
</div><!-- fragment --> Confirm the particle is moving in x-direction.</li>
<li>Change the code so that the particle is moving on the y-direction. Remove the old output files before re-running the code, to avoid plotting old data. <div class="fragment"><div class="line">vi ~/MercuryDPM/MercurySource/Drivers/Tutorials/Tutorial1_ParticleInOuterSpace.cpp #edit the <a class="code" href="../../db/d3a/namespaceTestProblem.html#aa165fe38c8c54de5a6b629e81d53eadb">source</a> file</div>
<div class="line">rm <a class="code" href="../../d9/dcf/classTutorial1.html">Tutorial1</a>*.*                  # remove old <a class="code" href="../../d8/dec/overloaded__element__body_8h.html#a0dff62e10016dd79c3981e216c3a3091">output</a> files</div>
<div class="line">make                             # re-compile</div>
<div class="line">./Tutorial1_ParticleInOuterSpace # re-<a class="code" href="../../dd/d94/two__d__poisson__compare__solvers_8cc.html#a23bdfecb707db57cd809897a41b71297">run</a></div>
<div class="line">paraview --script=<a class="code" href="../../d9/dcf/classTutorial1.html">Tutorial1</a>.py   # re-<a class="code" href="../../d3/d17/namespacePlanarWave.html#afe1e9812d1b1dc40a89f7a1f18d1165f">plot</a></div>
<div class="ttc" id="anamespacePlanarWave_html_afe1e9812d1b1dc40a89f7a1f18d1165f"><div class="ttname"><a href="../../d3/d17/namespacePlanarWave.html#afe1e9812d1b1dc40a89f7a1f18d1165f">PlanarWave::plot</a></div><div class="ttdeci">void plot()</div><div class="ttdoc">Plot.</div><div class="ttdef"><b>Definition:</b> sphere_scattering.cc:180</div></div>
<div class="ttc" id="anamespaceTestProblem_html_aa165fe38c8c54de5a6b629e81d53eadb"><div class="ttname"><a href="../../db/d3a/namespaceTestProblem.html#aa165fe38c8c54de5a6b629e81d53eadb">TestProblem::source</a></div><div class="ttdeci">void source(const Vector&lt; double &gt; &amp;x, Vector&lt; double &gt; &amp;f)</div><div class="ttdoc">Source function.</div><div class="ttdef"><b>Definition:</b> unstructured_two_d_circle.cc:46</div></div>
<div class="ttc" id="aoverloaded__element__body_8h_html_a0dff62e10016dd79c3981e216c3a3091"><div class="ttname"><a href="../../d8/dec/overloaded__element__body_8h.html#a0dff62e10016dd79c3981e216c3a3091">output</a></div><div class="ttdeci">void output(std::ostream &amp;outfile, const unsigned &amp;nplot)</div><div class="ttdoc">Overload output function.</div><div class="ttdef"><b>Definition:</b> overloaded_element_body.h:490</div></div>
</div><!-- fragment --></li>
<li>Change the code so that the particle is moving diagonally in x,y and z.</li>
</ol>
<p><br  />
</p>
<h1><a class="anchor" id="T2"></a>
T2: Particle motion on earth</h1>
<div class="image">
<img src="../../Tutorial2.jpg" alt=""/>
<div class="caption">
Particle falling due to gravity.</div></div>
<h4><a class="anchor" id="autotoc_md59"></a>
Problem description:</h4>
<p>In <b>Tutorial2_ParticleUnderGravity.cpp</b>, we simulate a particle when dropped under the influence of gravity. Basically, this tutorial is an extension of <b>Tutorial1_ParticleInOuterSpace.cpp</b> with few minor changes.<br  />
All we need to do is to change the initial particle position and velocity in the inherited class Tutorial2.<br  />
 </p><div class="fragment"><div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(speciesHandler.getObject(0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.05);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.5 * getXMax(), 0.5 * getYMax(), getZMax()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, 0.0));</div>
<div class="line">        particleHandler.copyAndAddObject(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
</div><!-- fragment --><p> Also, gravity is turned on in the negative z-direction, using setGravity:</p>
<div class="fragment"><div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setName(<span class="stringliteral">&quot;Tutorial2&quot;</span>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setGravity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, -9.81));</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setXMax(1.0);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setYMax(1.0);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setZMax(5.0);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setTimeMax(1.5);</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md60"></a>
Exercises</h2>
<ol type="1">
<li>Run the code. <div class="fragment"><div class="line">cd ~/MercuryDPM/MercuryBuild/Drivers/Tutorials/</div>
<div class="line">make                             # compile</div>
<div class="line">./Tutorial2_ParticleUnderGravity # <a class="code" href="../../dd/d94/two__d__poisson__compare__solvers_8cc.html#a23bdfecb707db57cd809897a41b71297">run</a></div>
</div><!-- fragment --></li>
<li>Plot the particle falling under gravity in ParaView <div class="fragment"><div class="line">paraview --script=<a class="code" href="../../db/de6/classTutorial2.html">Tutorial2</a>.py</div>
<div class="ttc" id="aclassTutorial2_html"><div class="ttname"><a href="../../db/de6/classTutorial2.html">Tutorial2</a></div><div class="ttdoc">[T2:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial2_ParticleUnderGravity.cpp:22</div></div>
</div><!-- fragment --></li>
<li>Give the particle an initial velocity in the x-direction so you can see the parabolic flight. <div class="fragment"><div class="line">vi ~/MercuryDPM/MercurySource/Drivers/Tutorials/Tutorial2_ParticleUnderGravity.cpp #edit the <a class="code" href="../../db/d3a/namespaceTestProblem.html#aa165fe38c8c54de5a6b629e81d53eadb">source</a> file</div>
<div class="line">rm <a class="code" href="../../db/de6/classTutorial2.html">Tutorial2</a>*.*                  # remove old <a class="code" href="../../d8/dec/overloaded__element__body_8h.html#a0dff62e10016dd79c3981e216c3a3091">output</a> files</div>
<div class="line">make                             # re-compile</div>
<div class="line">./Tutorial2_ParticleUnderGravity # re-<a class="code" href="../../dd/d94/two__d__poisson__compare__solvers_8cc.html#a23bdfecb707db57cd809897a41b71297">run</a></div>
<div class="line">paraview --script=<a class="code" href="../../db/de6/classTutorial2.html">Tutorial2</a>.py   # re-<a class="code" href="../../d3/d17/namespacePlanarWave.html#afe1e9812d1b1dc40a89f7a1f18d1165f">plot</a></div>
</div><!-- fragment --></li>
<li>Change the direction of gravity to point in the positive y-direction.</li>
</ol>
<p><br  />
</p>
<h1><a class="anchor" id="T3"></a>
T3: Bouncing ball (elastic)</h1>
<div class="image">
<img src="../../Tutorial3.jpg" alt=""/>
<div class="caption">
Particle bouncing off the blue wall.</div></div>
<h4><a class="anchor" id="autotoc_md61"></a>
Problem description:</h4>
<p>The <b>Tutorial3_BouncingBallElastic.cpp</b> simulates a particle bouncing off a wall. It is assumed the collision between the particle and the wall is elastic by implying that the restitution coefficient is unity. It means that the particle velocity before and after collision remains the same. Additionally, we will learn how to add a wall over which the ball bounces.</p>
<h3><a class="anchor" id="autotoc_md62"></a>
Headers:</h3>
<p>The header <a class="el" href="../../db/d14/InfiniteWall_8h.html">InfiniteWall.h</a> is included.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d14/InfiniteWall_8h.html">Walls/InfiniteWall.h</a>&gt;</span></div>
<div class="ttc" id="aInfiniteWall_8h_html"><div class="ttname"><a href="../../db/d14/InfiniteWall_8h.html">InfiniteWall.h</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md63"></a>
Before the main class:</h3>
<p>The class <a class="el" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a> is included in the inherited class Tutorial3:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="../../d9/d2b/classTutorial3.html">Tutorial3</a> : <span class="keyword">public</span> <a class="code" href="../../d3/db1/classMercury3D.html">Mercury3D</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="../../d9/d2b/classTutorial3.html#aec20671224c94774c428ec261899aa33">setupInitialConditions</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <span class="comment">// add a particle of 1cm diameter at height zMax</span></div>
<div class="line"><span class="comment"></span>        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), <a class="code" href="../../d5/d89/classDPMBase.html#aeb5d605c94c0e43823aee73673149414">getZMax</a>()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// add a bottom wall at zMin</span></div>
<div class="line"><span class="comment"></span>        <a class="code" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a> w0;</div>
<div class="line">        w0.<a class="code" href="../../d0/dd3/classBaseWall.html#ad54e8dd98fbf371d129bdc0e8aff37a9">setSpecies</a>(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, -1.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0, 0, <a class="code" href="../../d5/d89/classDPMBase.html#af026e1dc982411932a7517d81da7ceba">getZMin</a>()));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(w0);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">};</div>
<div class="ttc" id="aclassBaseHandler_html_a754b1413287a1c07e42bc2096e62ce6e"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">BaseHandler::copyAndAddObject</a></div><div class="ttdeci">std::enable_if&lt;!std::is_pointer&lt; U &gt;::value, U * &gt;::type copyAndAddObject(const U &amp;object)</div><div class="ttdoc">Creates a copy of a Object and adds it to the BaseHandler.</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:360</div></div>
<div class="ttc" id="aclassBaseHandler_html_add9ef43ffd48e502f93fce796ca05701"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">BaseHandler::getObject</a></div><div class="ttdeci">T * getObject(const unsigned int id)</div><div class="ttdoc">Gets a pointer to the Object at the specified index in the BaseHandler.</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:621</div></div>
<div class="ttc" id="aclassBaseWall_html_ad54e8dd98fbf371d129bdc0e8aff37a9"><div class="ttname"><a href="../../d0/dd3/classBaseWall.html#ad54e8dd98fbf371d129bdc0e8aff37a9">BaseWall::setSpecies</a></div><div class="ttdeci">void setSpecies(const ParticleSpecies *species)</div><div class="ttdoc">Defines the species of the current wall.</div><div class="ttdef"><b>Definition:</b> BaseWall.cc:148</div></div>
<div class="ttc" id="aclassDPMBase_html_a0f9143d2d678960d4afe8a40b5af4a88"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">DPMBase::getXMax</a></div><div class="ttdeci">Mdouble getXMax() const</div><div class="ttdoc">If the length of the problem domain in x-direction is XMax - XMin, then getXMax() returns XMax.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:610</div></div>
<div class="ttc" id="aclassDPMBase_html_a1b7e235821697ce3f5680b6482ee784b"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">DPMBase::speciesHandler</a></div><div class="ttdeci">SpeciesHandler speciesHandler</div><div class="ttdoc">A handler to that stores the species type i.e. LinearViscoelasticSpecies, etc.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1433</div></div>
<div class="ttc" id="aclassDPMBase_html_a63d4452eb048b1213a3876834032153c"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">DPMBase::wallHandler</a></div><div class="ttdeci">WallHandler wallHandler</div><div class="ttdoc">An object of the class WallHandler. Contains pointers to all the walls created.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1453</div></div>
<div class="ttc" id="aclassDPMBase_html_aa22f67770bd177c2527680ef54b3a9f2"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">DPMBase::particleHandler</a></div><div class="ttdeci">ParticleHandler particleHandler</div><div class="ttdoc">An object of the class ParticleHandler, contains the pointers to all the particles created.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1443</div></div>
<div class="ttc" id="aclassDPMBase_html_ab4d3d7764d634cd56b7afc8325a0afb3"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">DPMBase::getYMax</a></div><div class="ttdeci">Mdouble getYMax() const</div><div class="ttdoc">If the length of the problem domain in y-direction is YMax - YMin, then getYMax() returns XMax.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:622</div></div>
<div class="ttc" id="aclassDPMBase_html_aeb5d605c94c0e43823aee73673149414"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#aeb5d605c94c0e43823aee73673149414">DPMBase::getZMax</a></div><div class="ttdeci">Mdouble getZMax() const</div><div class="ttdoc">If the length of the problem domain in z-direction is ZMax - ZMin, then getZMax() returns ZMax.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:634</div></div>
<div class="ttc" id="aclassDPMBase_html_af026e1dc982411932a7517d81da7ceba"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#af026e1dc982411932a7517d81da7ceba">DPMBase::getZMin</a></div><div class="ttdeci">Mdouble getZMin() const</div><div class="ttdoc">If the length of the problem domain in z-direction is ZMax - ZMin, then getZMin() returns ZMin.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:628</div></div>
<div class="ttc" id="aclassInfiniteWall_html"><div class="ttname"><a href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a></div><div class="ttdoc">A infinite wall fills the half-space {point: (position_-point)*normal_&lt;=0}.</div><div class="ttdef"><b>Definition:</b> InfiniteWall.h:27</div></div>
<div class="ttc" id="aclassInfiniteWall_html_a4e254821329d1a9ffcad3a39c786a654"><div class="ttname"><a href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">InfiniteWall::set</a></div><div class="ttdeci">void set(Vec3D normal, Vec3D point)</div><div class="ttdoc">Defines a standard wall, given an outward normal vector s.t. normal*x=normal*point for all x of the w...</div><div class="ttdef"><b>Definition:</b> InfiniteWall.cc:97</div></div>
<div class="ttc" id="aclassTutorial3_html"><div class="ttname"><a href="../../d9/d2b/classTutorial3.html">Tutorial3</a></div><div class="ttdoc">[T3:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial3_BouncingBallElastic.cpp:26</div></div>
<div class="ttc" id="aclassTutorial3_html_aec20671224c94774c428ec261899aa33"><div class="ttname"><a href="../../d9/d2b/classTutorial3.html#aec20671224c94774c428ec261899aa33">Tutorial3::setupInitialConditions</a></div><div class="ttdeci">void setupInitialConditions() override</div><div class="ttdoc">Use setupInitialConditions to define your particle and wall positions.</div><div class="ttdef"><b>Definition:</b> Tutorial3_BouncingBallElastic.cpp:30</div></div>
</div><!-- fragment --><p> Where the object "w0" is an instance of the class <b>InfiniteWall</b>. Then, the function "copyAndAddObject" copy and add the object to its corresponding handler. The above set of statements, create and place the wall at \( Z_{min} \).<br  />
 <b>Note:</b> Don’t forget to include the InfiniteWall.h header, as shown in the header section. In some sense, creation and addition of a wall is similar to creation and addition of a particle.<br  />
<br  />
 </p>
<h2><a class="anchor" id="autotoc_md64"></a>
Exercises:</h2>
<ol type="1">
<li>Run Tutorial3 and visualise the outcome in ParaView.</li>
<li>Visualise the gravitational ($mgh$) and kinetic energy ( \(\frac12mv^2\)) of the particle over time using gnuplot. <div class="fragment"><div class="line">&gt;<a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a></div>
<div class="line"><a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a>&gt; <a class="code" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">set</a> xlabel <span class="stringliteral">&quot;Time (s)&quot;</span></div>
<div class="line"><a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a>&gt; <a class="code" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">set</a> ylabel <span class="stringliteral">&quot;Kinetic Energy (J)&quot;</span></div>
<div class="line"><a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a>&gt; <a class="code" href="../../d3/d17/namespacePlanarWave.html#afe1e9812d1b1dc40a89f7a1f18d1165f">plot</a> <span class="stringliteral">&#39;Tutorial3.ene&#39;</span> <span class="keyword">using</span> 1:3 with linespoints</div>
<div class="ttc" id="anamespacehelpers_html_af9bb1d3c7148970d7c1c9c2cf2646e35"><div class="ttname"><a href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">helpers::gnuplot</a></div><div class="ttdeci">void gnuplot(std::string command)</div><div class="ttdoc">Plots to a gnuplot window.</div><div class="ttdef"><b>Definition:</b> MiscHelpers.cc:17</div></div>
<div class="ttc" id="astdlist__overload_8cpp_html_a69b63b72995af592c652824ddc454356"><div class="ttname"><a href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">set</a></div><div class="ttdeci">void set(Container &amp;c, Position position, const Value &amp;value)</div><div class="ttdef"><b>Definition:</b> stdlist_overload.cpp:36</div></div>
</div><!-- fragment --> What collision time/restitution coefficient do you expect/observe?</li>
<li>Increase contact time by a factor 100 and rerun the simulation. What do you observe?</li>
<li>Set restitution to \(0.5\) and rerun the simulation. What do you observe? This idea is expanded in the next exercise</li>
</ol>
<p><br  />
</p>
<h1><a class="anchor" id="T4"></a>
T4: Bouncing ball with dissipation (inelastic)</h1>
<div class="image">
<img src="../../Tutorial4.jpg" alt=""/>
<div class="caption">
Particle bouncing off the blue wall with restitution coefficient.</div></div>
<h4><a class="anchor" id="autotoc_md65"></a>
Problem description:</h4>
<p>In <b>Tutorial4_BouncingBallInelastic.cpp</b>, the difference between an elastic and inelastic collision between a particle and a wall is illustrated. The only difference between <a class="el" href="../../d9/d17/Tutorial3__BouncingBallElastic_8cpp.html">Tutorial3_BouncingBallElastic.cpp</a> and <a class="el" href="../../d2/d08/Tutorial4__BouncingBallInelastic_8cpp.html">Tutorial4_BouncingBallInelastic.cpp</a> is the value of the restitution coefficient: </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> <a class="code" href="../../db/d46/namespaceplotDoE.html#af62b1a6b17213242c14d00e36bf33a21">rc</a> = 0.88; <span class="comment">// restitution coefficient </span></div>
<div class="ttc" id="anamespaceplotDoE_html_af62b1a6b17213242c14d00e36bf33a21"><div class="ttname"><a href="../../db/d46/namespaceplotDoE.html#af62b1a6b17213242c14d00e36bf33a21">plotDoE.rc</a></div><div class="ttdeci">list rc</div><div class="ttdef"><b>Definition:</b> plotDoE.py:16</div></div>
</div><!-- fragment --><p> See <a class="el" href="../../de/dbe/Tcodes.html#T4code">Bouncing ball - inelastic (code)</a> for more details.</p>
<h3><a class="anchor" id="autotoc_md66"></a>
Exercises:</h3>
<ol type="1">
<li>In the .cpp file change 'problem.eneFile.setFileType' from NO_FILE to ONE_FILE to create the .ene file, recompile using make and start the code again. Now we can show the energy graph in gnuplot using<br  />
<div class="fragment"><div class="line">&gt;<a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a></div>
<div class="line"><a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a>&gt; <a class="code" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">set</a> xlabel <span class="stringliteral">&quot;Time (s)&quot;</span></div>
<div class="line"><a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a>&gt; <a class="code" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">set</a> ylabel <span class="stringliteral">&quot;Particle&#39;s centre of mass in z-direction (m)&quot;</span></div>
<div class="line"><a class="code" href="../../d9/d41/namespacehelpers.html#af9bb1d3c7148970d7c1c9c2cf2646e35">gnuplot</a>&gt; <a class="code" href="../../d3/d17/namespacePlanarWave.html#afe1e9812d1b1dc40a89f7a1f18d1165f">plot</a> <span class="stringliteral">&#39;Tutorial4.ene&#39;</span> <span class="keyword">using</span> 1:8 with linespoints</div>
</div><!-- fragment --></li>
<li>Change the coefficient of restitution rc to 1.0 and replot the energy.</li>
<li>Now try 0.2.</li>
<li>Now try 0.0.</li>
<li>Now add the commands to create the vtu files so you can visualise in ParaView.</li>
</ol>
<p><br  />
</p>
<h1><a class="anchor" id="T5"></a>
T5: Elastic collision (2 particles)</h1>
<div class="image">
<img src="../../Tutorial5.jpg" alt=""/>
<div class="caption">
Particles moving towards each other.</div></div>
<p>Problem description:<br  />
So far, in the above tutorials, we have seen how a particle and a wall interact during a collision. In this tutorial, we illustrate how two particles interact using <b>Tutorial5_ElasticCollision.cpp</b>. For this purpose, we need two particles. The particles may or may not be of the same species type. But, here we shall assume they are of same species and same size.<br  />
 </p>
<h3><a class="anchor" id="autotoc_md67"></a>
Before the main function</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="../../da/d27/classTutorial5.html">Tutorial5</a> : <span class="keyword">public</span> <a class="code" href="../../d3/db1/classMercury3D.html">Mercury3D</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="../../da/d27/classTutorial5.html#a2821c616dc0878d63e4bc144bf4b38aa">setupInitialConditions</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        </div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005); <span class="comment">//particle-1 radius</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#aeb5d605c94c0e43823aee73673149414">getZMax</a>()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>); <span class="comment">// 1st particle created</span></div>
<div class="line">        </div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005); <span class="comment">// particle-2 radius</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.75 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#aeb5d605c94c0e43823aee73673149414">getZMax</a>()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-0.25, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>); <span class="comment">// 2nd particle created</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">};</div>
<div class="ttc" id="aclassTutorial5_html"><div class="ttname"><a href="../../da/d27/classTutorial5.html">Tutorial5</a></div><div class="ttdoc">[T5:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial5_ElasticCollision.cpp:22</div></div>
<div class="ttc" id="aclassTutorial5_html_a2821c616dc0878d63e4bc144bf4b38aa"><div class="ttname"><a href="../../da/d27/classTutorial5.html#a2821c616dc0878d63e4bc144bf4b38aa">Tutorial5::setupInitialConditions</a></div><div class="ttdeci">void setupInitialConditions() override</div><div class="ttdoc">This function allows to set the initial conditions for our problem to be solved, by default particle ...</div><div class="ttdef"><b>Definition:</b> Tutorial5_ElasticCollision.cpp:25</div></div>
</div><!-- fragment --><p>On comparison between the above class and class Tutorial1, we see how an additional particle is added. Two particles are created, and positioned oppositely apart at a certain distance between them. Both the particles, have a certain velocity directing them towards each other.</p>
<h3><a class="anchor" id="autotoc_md68"></a>
Exercises:</h3>
<ol type="1">
<li>Add the lines to create the particle and wall vtu files so you can plot in ParaView.</li>
<li>Change the size of the 1st ball from 0.05 m to 0.07 m and re-plot to see the difference.</li>
</ol>
<h1><a class="anchor" id="T6"></a>
T6: Elastic collisions with periodic boundaries</h1>
<div class="image">
<img src="../../Tutorial6.jpg" alt=""/>
<div class="caption">
(a) Illustrates the idea behind periodic boundaries, particle exiting boundary b2 re-enters through boundary b1  (b) Illustrates the problem setup.</div></div>
<h4><a class="anchor" id="autotoc_md69"></a>
Problem description:</h4>
<p>In order to have multiple collisions, <a class="el" href="../../d3/d2e/Tutorial5__ElasticCollision_8cpp.html">Tutorial5_ElasticCollision.cpp</a> is fitted with <a href="https://en.wikipedia.org/wiki/Periodic_boundary_conditions">periodic boundaries</a> in X.</p>
<h3><a class="anchor" id="autotoc_md70"></a>
Headers:</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d0/d17/PeriodicBoundary_8h.html">Boundaries/PeriodicBoundary.h</a>&gt;</span></div>
<div class="ttc" id="aPeriodicBoundary_8h_html"><div class="ttname"><a href="../../d0/d17/PeriodicBoundary_8h.html">PeriodicBoundary.h</a></div></div>
</div><!-- fragment --><p>The header <a class="el" href="../../d0/d17/PeriodicBoundary_8h.html">PeriodicBoundary.h</a> is included.</p>
<h3><a class="anchor" id="autotoc_md71"></a>
Before the main function:</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="../../d4/d44/classTutorial6.html">Tutorial6</a> : <span class="keyword">public</span> <a class="code" href="../../d3/db1/classMercury3D.html">Mercury3D</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="../../d4/d44/classTutorial6.html#a36578f66f32d28447dcf87e93c3a232f">setupInitialConditions</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.015);<span class="comment">//particle-1</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.15 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#aeb5d605c94c0e43823aee73673149414">getZMax</a>()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line">        </div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);<span class="comment">// particle-2</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.75 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#aeb5d605c94c0e43823aee73673149414">getZMax</a>()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-0.25, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="../../d0/d82/classPeriodicBoundary.html">PeriodicBoundary</a> b0;</div>
<div class="line">        b0.<a class="code" href="../../d0/d82/classPeriodicBoundary.html#ae36edfefabc1609163c78ec1b6ae9e25">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.0, 0.0, 0.0), <a class="code" href="../../d5/d89/classDPMBase.html#a0c92107786afa17a04d82cf1baf102e0">getXMin</a>(), <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>());</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#a8b0806884abee47afb5f5ff4eea503dd">boundaryHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(b0);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">};</div>
<div class="ttc" id="aclassDPMBase_html_a0c92107786afa17a04d82cf1baf102e0"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a0c92107786afa17a04d82cf1baf102e0">DPMBase::getXMin</a></div><div class="ttdeci">Mdouble getXMin() const</div><div class="ttdoc">If the length of the problem domain in x-direction is XMax - XMin, then getXMin() returns XMin.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:603</div></div>
<div class="ttc" id="aclassDPMBase_html_a8b0806884abee47afb5f5ff4eea503dd"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a8b0806884abee47afb5f5ff4eea503dd">DPMBase::boundaryHandler</a></div><div class="ttdeci">BoundaryHandler boundaryHandler</div><div class="ttdoc">An object of the class BoundaryHandler which concerns insertion and deletion of particles into or fro...</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1458</div></div>
<div class="ttc" id="aclassPeriodicBoundary_html"><div class="ttname"><a href="../../d0/d82/classPeriodicBoundary.html">PeriodicBoundary</a></div><div class="ttdoc">Defines a pair of periodic walls. Inherits from BaseBoundary.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundary.h:20</div></div>
<div class="ttc" id="aclassPeriodicBoundary_html_ae36edfefabc1609163c78ec1b6ae9e25"><div class="ttname"><a href="../../d0/d82/classPeriodicBoundary.html#ae36edfefabc1609163c78ec1b6ae9e25">PeriodicBoundary::set</a></div><div class="ttdeci">void set(Vec3D normal, Mdouble distanceLeft, Mdouble distanceRight)</div><div class="ttdoc">Defines a PeriodicBoundary by its normal and positions.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundary.cc:63</div></div>
<div class="ttc" id="aclassTutorial6_html"><div class="ttname"><a href="../../d4/d44/classTutorial6.html">Tutorial6</a></div><div class="ttdoc">[T6:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial6_ElasticCollisionPeriodic.cpp:23</div></div>
<div class="ttc" id="aclassTutorial6_html_a36578f66f32d28447dcf87e93c3a232f"><div class="ttname"><a href="../../d4/d44/classTutorial6.html#a36578f66f32d28447dcf87e93c3a232f">Tutorial6::setupInitialConditions</a></div><div class="ttdeci">void setupInitialConditions() override</div><div class="ttdoc">This function allows to set the initial conditions for our problem to be solved, by default particle ...</div><div class="ttdef"><b>Definition:</b> Tutorial6_ElasticCollisionPeriodic.cpp:26</div></div>
</div><!-- fragment --><p>In the Class Tutorial6<br  />
(i) we create two particles of same type and different sizes. (ii) we setup periodic boundaries in X-direction as </p><div class="fragment"><div class="line">        <a class="code" href="../../d0/d82/classPeriodicBoundary.html">PeriodicBoundary</a> b0;</div>
<div class="line">        b0.<a class="code" href="../../d0/d82/classPeriodicBoundary.html#ae36edfefabc1609163c78ec1b6ae9e25">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.0, 0.0, 0.0), getXMin(), getXMax());</div>
<div class="line">        boundaryHandler.copyAndAddObject(b0);</div>
</div><!-- fragment --><p> Where "b0" is an instance of the class <a class="el" href="../../d0/d82/classPeriodicBoundary.html">PeriodicBoundary</a>. Then, the object is copied and added to its corresponding handler: classBoundaryHandler.</p>
<h3><a class="anchor" id="autotoc_md72"></a>
Exercise</h3>
<ol type="1">
<li>Add a second periodic wall in the y-direction.</li>
<li>Change the initial velocity of wall of the particles so that it goes through both periodic walls.</li>
<li>Advanced: How do you think the two-periodic walls interact in the corner? <br  />
</li>
</ol>
<h1><a class="anchor" id="T7"></a>
T7: Motion of a particle in a two dimensional (2D) box</h1>
<div class="image">
<img src="../../Tutorial7.jpg" alt=""/>
<div class="caption">
Particle motion in a box (blue and black denote the walls).</div></div>
<h4><a class="anchor" id="autotoc_md73"></a>
Problem description:</h4>
<p>In previous tutorials, we have seen how a particle interacts with a wall and itself. In this tutorial, we will design boxes of different shapes by using more than one wall. As an example, in absence of gravity, we will simulate a particle moving in a two dimensional square shaped box. We consider two dimensions only for the sake of simplicity. The same idea was introduced in <a class="el" href="../../d9/d17/Tutorial3__BouncingBallElastic_8cpp.html">Tutorial3_BouncingBallElastic.cpp</a>.</p>
<h3><a class="anchor" id="autotoc_md74"></a>
Before the main function:</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="../../d6/dff/classTutorial7.html">Tutorial7</a> : <span class="keyword">public</span> <a class="code" href="../../d3/db1/classMercury3D.html">Mercury3D</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="../../d6/dff/classTutorial7.html#a22d538c2a9d6b6805e2d9355b79e01ef">setupInitialConditions</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), 0.0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.2, 1.3, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line">        </div>
<div class="line">        <a class="code" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a> w0;</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d0/dd3/classBaseWall.html#ad54e8dd98fbf371d129bdc0e8aff37a9">setSpecies</a>(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(<a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(<a class="code" href="../../d5/d89/classDPMBase.html#a0c92107786afa17a04d82cf1baf102e0">getXMin</a>(), 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, -1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, <a class="code" href="../../d5/d89/classDPMBase.html#a2cddf8cf3227e10e9a6a451067ed6d99">getYMin</a>(), 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(w0);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">};</div>
<div class="ttc" id="aclassDPMBase_html_a2cddf8cf3227e10e9a6a451067ed6d99"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a2cddf8cf3227e10e9a6a451067ed6d99">DPMBase::getYMin</a></div><div class="ttdeci">Mdouble getYMin() const</div><div class="ttdoc">If the length of the problem domain in y-direction is YMax - YMin, then getYMin() returns YMin.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:616</div></div>
<div class="ttc" id="aclassTutorial7_html"><div class="ttname"><a href="../../d6/dff/classTutorial7.html">Tutorial7</a></div><div class="ttdoc">[T7:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial7_ParticleIn2DBox.cpp:23</div></div>
<div class="ttc" id="aclassTutorial7_html_a22d538c2a9d6b6805e2d9355b79e01ef"><div class="ttname"><a href="../../d6/dff/classTutorial7.html#a22d538c2a9d6b6805e2d9355b79e01ef">Tutorial7::setupInitialConditions</a></div><div class="ttdeci">void setupInitialConditions() override</div><div class="ttdoc">This function allows to set the initial conditions for our problem to be solved, by default particle ...</div><div class="ttdef"><b>Definition:</b> Tutorial7_ParticleIn2DBox.cpp:26</div></div>
</div><!-- fragment --><p>In this class, we setup a 2D square shaped box or a polygon by adding more walls as shown above. In total, we have 4 walls forming our box within which the particle will traverse. <br  />
 <b>Note:</b> As we simulate in 2D, no walls are set in z-direction.</p>
<h3><a class="anchor" id="autotoc_md75"></a>
Main function:</h3>
<p>As our simulation is two dimensional, we set the system dimensions as 2 </p><div class="fragment"><div class="line"><a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setSystemDimensions(2);</div>
</div><!-- fragment --><p>The complete code for the above problem description can be found in <a class="el" href="../../d4/d61/Tutorial7__ParticleIn2DBox_8cpp.html">Tutorial7_ParticleIn2DBox.cpp</a>.</p>
<h3><a class="anchor" id="autotoc_md76"></a>
Exercise</h3>
<ol type="1">
<li>Change the angle of left (x-wall) so it tilts at 45 degrees.</li>
<li>Add a 5th wall and change the positions of each such that you are simulating particles in a pentagon. <br  />
</li>
</ol>
<h1><a class="anchor" id="T8"></a>
T8: Motion of a particle in a box with an obstacle</h1>
<div class="image">
<img src="../../Tutorial8.jpg" alt=""/>
</div>
<h4><a class="anchor" id="autotoc_md77"></a>
Problem description:</h4>
<p>We extend the problem setup of Tutorial 7, by adding a rectangular block as shown in the above figure. To create this block of wall or obstacle, we will use the Class <a class="el" href="../../de/d70/classIntersectionOfWalls.html">IntersectionOfWalls</a>. Before we go ahead it is advised to know the difference between an infinite wall and finite wall, see <a class="el" href="../../de/dec/WallTypes.html">Different types of walls</a>. As an example, we create an obstacle using a set of finite walls and place it within the box created using a set of infinite walls. See the above figure.</p>
<h3><a class="anchor" id="autotoc_md78"></a>
Headers:</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d14/InfiniteWall_8h.html">Walls/InfiniteWall.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/df4/IntersectionOfWalls_8h.html">Walls/IntersectionOfWalls.h</a>&gt;</span></div>
<div class="ttc" id="aIntersectionOfWalls_8h_html"><div class="ttname"><a href="../../d7/df4/IntersectionOfWalls_8h.html">IntersectionOfWalls.h</a></div></div>
</div><!-- fragment --><p> The header <a class="el" href="../../d7/df4/IntersectionOfWalls_8h.html">IntersectionOfWalls.h</a> is included.</p>
<h3><a class="anchor" id="autotoc_md79"></a>
Before the main function:</h3>
<div class="image">
<img src="../../Tutorial8b.jpg" alt=""/>
</div>
<p>To add intersection walls, we use: </p><div class="fragment"><div class="line">        <a class="code" href="../../de/d70/classIntersectionOfWalls.html">IntersectionOfWalls</a> w1;</div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#af38fc9c5738da408dfb04d4ab4ba1e86">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        </div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a484d1569fb68b47cd26ee33e90b242ec">addObject</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.75 * getXMax(), 0.0, 0.0));</div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a484d1569fb68b47cd26ee33e90b242ec">addObject</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25 * getXMax(), 0.0, 0.0));</div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a484d1569fb68b47cd26ee33e90b242ec">addObject</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, -1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.75 * getYMax(), 0.0));</div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a484d1569fb68b47cd26ee33e90b242ec">addObject</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.25 * getYMax(), 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w1);</div>
<div class="ttc" id="aclassIntersectionOfWalls_html"><div class="ttname"><a href="../../de/d70/classIntersectionOfWalls.html">IntersectionOfWalls</a></div><div class="ttdoc">A IntersectionOfWalls is convex polygon defined as an intersection of InfiniteWall's.</div><div class="ttdef"><b>Definition:</b> IntersectionOfWalls.h:38</div></div>
<div class="ttc" id="aclassIntersectionOfWalls_html_a484d1569fb68b47cd26ee33e90b242ec"><div class="ttname"><a href="../../de/d70/classIntersectionOfWalls.html#a484d1569fb68b47cd26ee33e90b242ec">IntersectionOfWalls::addObject</a></div><div class="ttdeci">void addObject(Vec3D normal, Vec3D point)</div><div class="ttdoc">Adds a wall to the set of infinite walls, given a normal vector pointing into the wall (i....</div><div class="ttdef"><b>Definition:</b> IntersectionOfWalls.cc:117</div></div>
<div class="ttc" id="aclassIntersectionOfWalls_html_af38fc9c5738da408dfb04d4ab4ba1e86"><div class="ttname"><a href="../../de/d70/classIntersectionOfWalls.html#af38fc9c5738da408dfb04d4ab4ba1e86">IntersectionOfWalls::setSpecies</a></div><div class="ttdeci">void setSpecies(const ParticleSpecies *species)</div><div class="ttdoc">sets species of subwalls as well</div><div class="ttdef"><b>Definition:</b> IntersectionOfWalls.cc:51</div></div>
</div><!-- fragment --><p> where "w1" is an instance of the class <a class="el" href="../../de/d70/classIntersectionOfWalls.html">IntersectionOfWalls</a>. This surface (wall) will have the properties of the index 0: "getObject(0)". Then, the object is copied and added to its corresponding handler: wallHandler. <br  />
<br  />
 </p>
<h3><a class="anchor" id="autotoc_md80"></a>
Exercise</h3>
<ol type="1">
<li>Change the inner shape to a triangle.</li>
<li>Change the outer wall to a doubly periodic box.</li>
</ol>
<h1><a class="anchor" id="T9"></a>
T9: Motion of a ball over an inclined plane (Sliding + Rolling)</h1>
<div class="image">
<img src="../../Tutorial9.jpg" alt=""/>
</div>
<h4><a class="anchor" id="autotoc_md81"></a>
Problem description:</h4>
<p>the motion of three particles over an inclined plane is presented in <a class="el" href="../../d5/d4b/Tutorial9__InclinedPlane_8cpp.html">Tutorial9_InclinedPlane.cpp</a>. Here, the particles are fitted with different features.</p>
<h3><a class="anchor" id="autotoc_md82"></a>
Headers:</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/deb/LinearViscoelasticFrictionSpecies_8h.html">Species/LinearViscoelasticFrictionSpecies.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d14/InfiniteWall_8h.html">Walls/InfiniteWall.h</a>&gt;</span></div>
<div class="ttc" id="aLinearViscoelasticFrictionSpecies_8h_html"><div class="ttname"><a href="../../d8/deb/LinearViscoelasticFrictionSpecies_8h.html">LinearViscoelasticFrictionSpecies.h</a></div></div>
</div><!-- fragment --><p> For <a class="el" href="../../d5/d4b/Tutorial9__InclinedPlane_8cpp.html">Tutorial9_InclinedPlane.cpp</a>, the header which implements the elastic properties and contact force model has been changed. In order to include the rolling and sliding effects, <a class="el" href="../../d8/deb/LinearViscoelasticFrictionSpecies_8h.html">LinearViscoelasticFrictionSpecies.h</a> is used.</p>
<h3><a class="anchor" id="autotoc_md83"></a>
Before the main function:</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="../../dc/df1/classTutorial9.html">Tutorial9</a> : <span class="keyword">public</span> <a class="code" href="../../d3/db1/classMercury3D.html">Mercury3D</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="../../dc/df1/classTutorial9.html#a964389e9a778a3012f8073d7bac41dcd">setupInitialConditions</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//sets the particle to species type-1</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.05 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.25 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), <a class="code" href="../../d5/d89/classDPMBase.html#af026e1dc982411932a7517d81da7ceba">getZMin</a>() + <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.getRadius()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//sets the particle to species type-2</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(1));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.05 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.5 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), <a class="code" href="../../d5/d89/classDPMBase.html#af026e1dc982411932a7517d81da7ceba">getZMin</a>() + <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.getRadius()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//sets the particle to species type-3</span></div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(2));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.05 * <a class="code" href="../../d5/d89/classDPMBase.html#a0f9143d2d678960d4afe8a40b5af4a88">getXMax</a>(), 0.75 * <a class="code" href="../../d5/d89/classDPMBase.html#ab4d3d7764d634cd56b7afc8325a0afb3">getYMax</a>(), <a class="code" href="../../d5/d89/classDPMBase.html#af026e1dc982411932a7517d81da7ceba">getZMin</a>() + <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.getRadius()));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, 0.0));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a> w0;</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d0/dd3/classBaseWall.html#ad54e8dd98fbf371d129bdc0e8aff37a9">setSpecies</a>(<a class="code" href="../../d5/d89/classDPMBase.html#a1b7e235821697ce3f5680b6482ee784b">speciesHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a>(0));</div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, -1.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, <a class="code" href="../../d5/d89/classDPMBase.html#af026e1dc982411932a7517d81da7ceba">getZMin</a>()));</div>
<div class="line">        <a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a>(w0);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclassTutorial9_html"><div class="ttname"><a href="../../dc/df1/classTutorial9.html">Tutorial9</a></div><div class="ttdoc">[T9:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial9_InclinedPlane.cpp:23</div></div>
<div class="ttc" id="aclassTutorial9_html_a964389e9a778a3012f8073d7bac41dcd"><div class="ttname"><a href="../../dc/df1/classTutorial9.html#a964389e9a778a3012f8073d7bac41dcd">Tutorial9::setupInitialConditions</a></div><div class="ttdeci">void setupInitialConditions() override</div><div class="ttdoc">This function allows to set the initial conditions for our problem to be solved, by default particle ...</div><div class="ttdef"><b>Definition:</b> Tutorial9_InclinedPlane.cpp:26</div></div>
</div><!-- fragment --><p> Three particles are fitted with radius, initial positions and initial velocities.Then, all particles are copied and added to their corresponding handler. <br  />
It is defined the object 'w0' as an instance of the class InfiniteWall. For this tutorial, the surface will have the same properties of "object0". It means the surface and the first particle will have the same elastic properties.</p>
<h3><a class="anchor" id="autotoc_md84"></a>
Main function:</h3>
<p>This simulation contains particles and walls made from three different species (particle-0 and the wall belongs to species-0, particle-1 belongs to species-1, particle-2 belongs to species-2) Hence, three species, and the interactions between the three species, need to be defined.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="../../d9/d18/T__protectiveWall_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Instantiate an object of class Tutorial 9</span></div>
<div class="line">    <a class="code" href="../../dc/df1/classTutorial9.html">Tutorial9</a> <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Problem setup</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setName(<span class="stringliteral">&quot;Tutorial9&quot;</span>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.removeOldFiles();</div>
<div class="line">    <span class="keywordtype">double</span> <a class="code" href="../../de/d8e/namespaceJeffery__Solution.html#ad3bd18834ecba370674e34242f8125c1">angle</a> = <a class="code" href="../../d7/d28/namespaceconstants.html#a5f695d1bf98bf8537048b2eee827659d">constants::pi</a> / 180.0 * 20.0;</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setGravity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(<a class="code" href="../../d8/de9/AnnoyingScalar_8h.html#a939da3fa92e2b1644903eb16eaa7d480">sin</a>(<a class="code" href="../../de/d8e/namespaceJeffery__Solution.html#ad3bd18834ecba370674e34242f8125c1">angle</a>), 0.0, -<a class="code" href="../../d8/de9/AnnoyingScalar_8h.html#a276d77b58bb09a055ceb286679760f61">cos</a>(<a class="code" href="../../de/d8e/namespaceJeffery__Solution.html#ad3bd18834ecba370674e34242f8125c1">angle</a>)) * 9.81);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setXMax(0.3);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setYMax(0.3);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setZMax(0.05);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setTimeMax(0.4);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the species (material properties such as density and stiffness) of particles and walls</span></div>
<div class="line">    <span class="comment">// (in this case, particle-0 and the wall are made from species-0, particle-1 belongs to species-1, particle-2 belongs to species-2)</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Species-0 properties</span></div>
<div class="line">    <a class="code" href="../../d9/d0c/classSpecies.html">LinearViscoelasticFrictionSpecies</a> species0;</div>
<div class="line">    <span class="comment">// The normal spring stiffness and normal dissipation is computed and set as</span></div>
<div class="line">    <span class="comment">// For collision time tc=0.005 and restitution coefficient rc=0.88,</span></div>
<div class="line">    species0.<a class="code" href="../../dc/d02/classParticleSpecies.html#a274df9fa08ef5580e54f8e9301f1b348">setDensity</a>(2500.0);<span class="comment">//sets the species type_0 density</span></div>
<div class="line">    species0.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad179cd0c4c13e4d54ae243956ce5a07d">setStiffness</a>(259.018);<span class="comment">//sets the spring stiffness.</span></div>
<div class="line">    species0.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a73d0ff3e1ac4c6cb75dae0b623d7a13b">setDissipation</a>(0.0334);<span class="comment">//sets the dissipation.</span></div>
<div class="line">    species0.<a class="code" href="../../d7/d78/classSlidingFrictionSpecies.html#a2cd1b29908398a04467717d523bdbfc3">setSlidingStiffness</a>(2.0 / 7.0 * species0.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a4a710fcdd3a265361c3cb11c68fd3e2c">getStiffness</a>());</div>
<div class="line">    species0.<a class="code" href="../../d2/de3/classFrictionSpecies.html#ad666e4e01847bcb6776bb398c796fe14">setRollingStiffness</a>(2.0 / 5.0 * species0.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a4a710fcdd3a265361c3cb11c68fd3e2c">getStiffness</a>());</div>
<div class="line">    species0.<a class="code" href="../../d7/d78/classSlidingFrictionSpecies.html#a8c69c217e4962c8b5f9b3b236b8daf4a">setSlidingFrictionCoefficient</a>(0.0);</div>
<div class="line">    species0.<a class="code" href="../../d2/de3/classFrictionSpecies.html#a076a6965983e7e9cb6496a213362b61c">setRollingFrictionCoefficient</a>(0.0);</div>
<div class="line">    <span class="keyword">auto</span> ptrToSp0=<a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.speciesHandler.copyAndAddObject(species0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Species-1 properties</span></div>
<div class="line">    <a class="code" href="../../d9/d0c/classSpecies.html">LinearViscoelasticFrictionSpecies</a> species1;</div>
<div class="line">    species1.<a class="code" href="../../dc/d02/classParticleSpecies.html#a274df9fa08ef5580e54f8e9301f1b348">setDensity</a>(2500.0);<span class="comment">//sets the species type-1 density</span></div>
<div class="line">    species1.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad179cd0c4c13e4d54ae243956ce5a07d">setStiffness</a>(259.018);<span class="comment">//sets the spring stiffness</span></div>
<div class="line">    species1.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a73d0ff3e1ac4c6cb75dae0b623d7a13b">setDissipation</a>(0.0334);<span class="comment">//sets the dissipation</span></div>
<div class="line">    species1.<a class="code" href="../../d7/d78/classSlidingFrictionSpecies.html#a2cd1b29908398a04467717d523bdbfc3">setSlidingStiffness</a>(2.0 / 7.0 * species1.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a4a710fcdd3a265361c3cb11c68fd3e2c">getStiffness</a>());</div>
<div class="line">    species1.<a class="code" href="../../d2/de3/classFrictionSpecies.html#ad666e4e01847bcb6776bb398c796fe14">setRollingStiffness</a>(2.0 / 5.0 * species1.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a4a710fcdd3a265361c3cb11c68fd3e2c">getStiffness</a>());</div>
<div class="line">    species1.<a class="code" href="../../d7/d78/classSlidingFrictionSpecies.html#a8c69c217e4962c8b5f9b3b236b8daf4a">setSlidingFrictionCoefficient</a>(0.5);</div>
<div class="line">    species1.<a class="code" href="../../d2/de3/classFrictionSpecies.html#a076a6965983e7e9cb6496a213362b61c">setRollingFrictionCoefficient</a>(0.0);</div>
<div class="line">    <span class="keyword">auto</span> ptrToSp1=<a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.speciesHandler.copyAndAddObject(species1);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Properties of contacts between species-0 and species-1</span></div>
<div class="line">    <span class="comment">// (no new species is defined since the mixed species is automatically created)</span></div>
<div class="line">    <span class="keyword">auto</span> species01 = <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.speciesHandler.getMixedObject(ptrToSp0,ptrToSp1);</div>
<div class="line">    species01-&gt;setStiffness(259.018);<span class="comment">//sets the spring stiffness</span></div>
<div class="line">    species01-&gt;setDissipation(0.0334);<span class="comment">//sets the dissipation</span></div>
<div class="line">    species01-&gt;setSlidingStiffness(2.0 / 7.0 * species01-&gt;getStiffness());</div>
<div class="line">    species01-&gt;setRollingStiffness(2.0 / 5.0 * species01-&gt;getStiffness());</div>
<div class="line">    species01-&gt;setSlidingFrictionCoefficient(0.5);</div>
<div class="line">    species01-&gt;setRollingFrictionCoefficient(0.0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Species 2 properties</span></div>
<div class="line">    <a class="code" href="../../d9/d0c/classSpecies.html">LinearViscoelasticFrictionSpecies</a> species2;</div>
<div class="line">    species2.<a class="code" href="../../dc/d02/classParticleSpecies.html#a274df9fa08ef5580e54f8e9301f1b348">setDensity</a>(2500.0);<span class="comment">//sets the species type-2 density</span></div>
<div class="line">    species2.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad179cd0c4c13e4d54ae243956ce5a07d">setStiffness</a>(258.5);<span class="comment">//sets the spring stiffness</span></div>
<div class="line">    species2.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a73d0ff3e1ac4c6cb75dae0b623d7a13b">setDissipation</a>(0.0);<span class="comment">//sets the dissipation</span></div>
<div class="line">    species2.<a class="code" href="../../d7/d78/classSlidingFrictionSpecies.html#a2cd1b29908398a04467717d523bdbfc3">setSlidingStiffness</a>(2.0 / 7.0 * species2.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a4a710fcdd3a265361c3cb11c68fd3e2c">getStiffness</a>());</div>
<div class="line">    species2.<a class="code" href="../../d2/de3/classFrictionSpecies.html#ad666e4e01847bcb6776bb398c796fe14">setRollingStiffness</a>(2.0 / 5.0 * species2.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a4a710fcdd3a265361c3cb11c68fd3e2c">getStiffness</a>());</div>
<div class="line">    species2.<a class="code" href="../../d7/d78/classSlidingFrictionSpecies.html#a8c69c217e4962c8b5f9b3b236b8daf4a">setSlidingFrictionCoefficient</a>(0.5);</div>
<div class="line">    species2.<a class="code" href="../../d2/de3/classFrictionSpecies.html#a076a6965983e7e9cb6496a213362b61c">setRollingFrictionCoefficient</a>(0.5);</div>
<div class="line">    <span class="keyword">auto</span> ptrToSp2 = <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.speciesHandler.copyAndAddObject(species2);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Properties of contacts between species-0 and species-2</span></div>
<div class="line">    <span class="keyword">auto</span> species02 = <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.speciesHandler.getMixedObject(ptrToSp0, ptrToSp2);</div>
<div class="line">    species02-&gt;setStiffness(259.018);<span class="comment">//sets the stiffness</span></div>
<div class="line">    species02-&gt;setDissipation(0.0334);<span class="comment">//sets the dissipation</span></div>
<div class="line">    species02-&gt;setSlidingStiffness(2.0 / 7.0 * species02-&gt;getStiffness());</div>
<div class="line">    species02-&gt;setRollingStiffness(2.0 / 5.0 * species02-&gt;getStiffness());</div>
<div class="line">    species02-&gt;setSlidingFrictionCoefficient(0.5);</div>
<div class="line">    species02-&gt;setRollingFrictionCoefficient(0.5);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Note: Properties of contacts between species-0 and species-1 are never defined, since no contacts between those</span></div>
<div class="line">    <span class="comment">// two materials occurs in this simulation; note: if no properties are defined, then default properties are assumed,</span></div>
<div class="line">    <span class="comment">// mostly harmonic means of the properties of both individual species</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    <span class="comment">//Output</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setSaveCount(25);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.dataFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.restartFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.fStatFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.eneFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// whether the wall geometry is written into a vtu file (either once initially or for several time steps)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.wallHandler.setWriteVTK(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <span class="comment">// whether the particle positions are written into a vtu file</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setParticlesWriteVTK(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// set a time step 1/50th of collision time</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setTimeStep(0.005 / 50.0);</div>
<div class="line">    <span class="comment">// start the solver (calls setupInitialConditions and initiates time loop)</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.solve(argc, argv);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aAnnoyingScalar_8h_html_a276d77b58bb09a055ceb286679760f61"><div class="ttname"><a href="../../d8/de9/AnnoyingScalar_8h.html#a276d77b58bb09a055ceb286679760f61">cos</a></div><div class="ttdeci">AnnoyingScalar cos(const AnnoyingScalar &amp;x)</div><div class="ttdef"><b>Definition:</b> AnnoyingScalar.h:136</div></div>
<div class="ttc" id="aAnnoyingScalar_8h_html_a939da3fa92e2b1644903eb16eaa7d480"><div class="ttname"><a href="../../d8/de9/AnnoyingScalar_8h.html#a939da3fa92e2b1644903eb16eaa7d480">sin</a></div><div class="ttdeci">AnnoyingScalar sin(const AnnoyingScalar &amp;x)</div><div class="ttdef"><b>Definition:</b> AnnoyingScalar.h:137</div></div>
<div class="ttc" id="aT__protectiveWall_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="../../d9/d18/T__protectiveWall_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> T_protectiveWall.cpp:194</div></div>
<div class="ttc" id="aclassFrictionSpecies_html_a076a6965983e7e9cb6496a213362b61c"><div class="ttname"><a href="../../d2/de3/classFrictionSpecies.html#a076a6965983e7e9cb6496a213362b61c">FrictionSpecies::setRollingFrictionCoefficient</a></div><div class="ttdeci">void setRollingFrictionCoefficient(Mdouble new_mu)</div><div class="ttdoc">Allows the (dynamic) Coulomb friction coefficient to be changed; also sets mu_s by default.</div><div class="ttdef"><b>Definition:</b> FrictionSpecies.cc:165</div></div>
<div class="ttc" id="aclassFrictionSpecies_html_ad666e4e01847bcb6776bb398c796fe14"><div class="ttname"><a href="../../d2/de3/classFrictionSpecies.html#ad666e4e01847bcb6776bb398c796fe14">FrictionSpecies::setRollingStiffness</a></div><div class="ttdeci">void setRollingStiffness(Mdouble new_kt)</div><div class="ttdoc">Allows the spring constant to be changed.</div><div class="ttdef"><b>Definition:</b> FrictionSpecies.cc:128</div></div>
<div class="ttc" id="aclassLinearViscoelasticNormalSpecies_html_a4a710fcdd3a265361c3cb11c68fd3e2c"><div class="ttname"><a href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a4a710fcdd3a265361c3cb11c68fd3e2c">LinearViscoelasticNormalSpecies::getStiffness</a></div><div class="ttdeci">Mdouble getStiffness() const</div><div class="ttdoc">Allows the spring constant to be accessed.</div><div class="ttdef"><b>Definition:</b> LinearViscoelasticNormalSpecies.cc:83</div></div>
<div class="ttc" id="aclassSlidingFrictionSpecies_html_a2cd1b29908398a04467717d523bdbfc3"><div class="ttname"><a href="../../d7/d78/classSlidingFrictionSpecies.html#a2cd1b29908398a04467717d523bdbfc3">SlidingFrictionSpecies::setSlidingStiffness</a></div><div class="ttdeci">void setSlidingStiffness(Mdouble new_kt)</div><div class="ttdoc">Allows the spring constant to be changed.</div><div class="ttdef"><b>Definition:</b> SlidingFrictionSpecies.cc:83</div></div>
<div class="ttc" id="aclassSlidingFrictionSpecies_html_a8c69c217e4962c8b5f9b3b236b8daf4a"><div class="ttname"><a href="../../d7/d78/classSlidingFrictionSpecies.html#a8c69c217e4962c8b5f9b3b236b8daf4a">SlidingFrictionSpecies::setSlidingFrictionCoefficient</a></div><div class="ttdeci">void setSlidingFrictionCoefficient(Mdouble new_mu)</div><div class="ttdoc">Allows the (dynamic) Coulomb friction coefficient to be changed; also sets mu_s by default.</div><div class="ttdef"><b>Definition:</b> SlidingFrictionSpecies.cc:120</div></div>
<div class="ttc" id="anamespaceJeffery__Solution_html_ad3bd18834ecba370674e34242f8125c1"><div class="ttname"><a href="../../de/d8e/namespaceJeffery__Solution.html#ad3bd18834ecba370674e34242f8125c1">Jeffery_Solution::angle</a></div><div class="ttdeci">double angle(const double &amp;t)</div><div class="ttdoc">Angular position as a function of time t.</div><div class="ttdef"><b>Definition:</b> jeffery_orbit.cc:98</div></div>
<div class="ttc" id="anamespaceconstants_html_a5f695d1bf98bf8537048b2eee827659d"><div class="ttname"><a href="../../d7/d28/namespaceconstants.html#a5f695d1bf98bf8537048b2eee827659d">constants::pi</a></div><div class="ttdeci">const Mdouble pi</div><div class="ttdef"><b>Definition:</b> ExtendedMath.h:23</div></div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md85"></a>
Exercise</h3>
<ol type="1">
<li>Increase the plane angle until all three particles roll.</li>
<li>Set the rolling and sliding friction so that all the particles only roll at a 25 degree inclined plane</li>
<li>What happens when \( mu_s &lt; \mu_{ro}\) ?</li>
<li>Set \( \mu_{ro} = 0\); how does the speed of the particle at time tmax depend on \(\mu_s\) ? Can you explain it?</li>
</ol>
<p><br  />
</p>
<h1><a class="anchor" id="T10"></a>
T10: How to load restart and data files</h1>
<h4><a class="anchor" id="autotoc_md86"></a>
Problem description:</h4>
<p>Sometimes if your computer crashes or you want to start over with minor changes in the data, you like to restart.</p>
<h3><a class="anchor" id="autotoc_md87"></a>
Headers:</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d5/d10/Math_2Helpers_8h.html">Math/Helpers.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d7/df4/IntersectionOfWalls_8h.html">Walls/IntersectionOfWalls.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d7c/AxisymmetricIntersectionOfWalls_8h.html">Walls/AxisymmetricIntersectionOfWalls.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&quot;</span></div>
<div class="ttc" id="aAxisymmetricIntersectionOfWalls_8h_html"><div class="ttname"><a href="../../dc/d7c/AxisymmetricIntersectionOfWalls_8h.html">AxisymmetricIntersectionOfWalls.h</a></div></div>
<div class="ttc" id="aMath_2Helpers_8h_html"><div class="ttname"><a href="../../d5/d10/Math_2Helpers_8h.html">Helpers.h</a></div></div>
</div><!-- fragment --><p> No species, particles or walls are configured as in this tutorial this is already configured in the restart and data file. </p>
<h3><a class="anchor" id="autotoc_md88"></a>
Main function:</h3>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="../../d9/d18/T__protectiveWall_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//writeToFile is used here to create a restart and a data file, which will be loaded below.</span></div>
<div class="line">    <a class="code" href="../../d9/d41/namespacehelpers.html#ad3f742bddf172f427a0f0d0ee796b966">helpers::writeToFile</a>(<span class="stringliteral">&quot;Tutorial10.ini.restart&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;restart_version 1.0 name Tutorial10\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;dataFile name Tutorial10.data fileType ONE_FILE saveCount 10 counter 0 nextSavedTimeStep 0\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;fStatFile name Tutorial10.fstat fileType NO_FILE saveCount 10 counter 0 nextSavedTimeStep 0\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;eneFile name Tutorial10.ene fileType ONE_FILE saveCount 10 counter 0 nextSavedTimeStep 0\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;restartFile name Tutorial10.restart fileType ONE_FILE saveCount 10 counter 0 nextSavedTimeStep 0\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;statFile name Tutorial10.stat fileType ONE_FILE saveCount 10 counter 0 nextSavedTimeStep 0\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;xMin 0 xMax 2 yMin 0 yMax 2 zMin 0 zMax 2\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;timeStep 1e-03 time 0 ntimeSteps 0 timeMax 10\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;systemDimensions 3 particleDimensions 3 gravity 0 0 -1\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;Species 1\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;LinearViscoelasticSpecies id 0 density 1.9098593 stiffness 2000 dissipation 10\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;Walls 1\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;InfiniteWall id 0 indSpecies 0 position 0 0 0 orientation 0 0 0 1 velocity 0 0 0 angularVelocity 0 0 0 0 force 0 0 0 torque 0 0 0 normal 0 0 -1 factor 1\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;Boundaries 0\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;Particles 0\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;Interactions 0\n&quot;</span></div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="../../d9/d41/namespacehelpers.html#ad3f742bddf172f427a0f0d0ee796b966">helpers::writeToFile</a>(<span class="stringliteral">&quot;Tutorial10.ini.data&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;1 0 0 0 0 2 2 2\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;1 1 1.5  0 0 0  0.5  0 0 0  0 0 0  0\n&quot;</span></div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <a class="code" href="../../d5/d89/classDPMBase.html">DPMBase</a> Tutorial10;</div>
<div class="line">    <span class="comment">//use readRestartFile to load information from a restart file</span></div>
<div class="line">    Tutorial10.<a class="code" href="../../d5/d89/classDPMBase.html#afb014ff224f5cac1a7c43fa035cfbf40">readRestartFile</a>(<span class="stringliteral">&quot;Tutorial10.ini.restart&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//use readDataFile to load information from a data file</span></div>
<div class="line">    Tutorial10.<a class="code" href="../../d5/d89/classDPMBase.html#a3ec772928549ff31ea4b3914777825a0">readDataFile</a>(<span class="stringliteral">&quot;Tutorial10.ini.data&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//now start the calculations</span></div>
<div class="line">    Tutorial10.<a class="code" href="../../d5/d89/classDPMBase.html#ac5d9774a747939873a95f5e612b9e070">solve</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassDPMBase_html"><div class="ttname"><a href="../../d5/d89/classDPMBase.html">DPMBase</a></div><div class="ttdoc">The DPMBase header includes quite a few header files, defining all the handlers, which are essential....</div><div class="ttdef"><b>Definition:</b> DPMBase.h:56</div></div>
<div class="ttc" id="aclassDPMBase_html_a3ec772928549ff31ea4b3914777825a0"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a3ec772928549ff31ea4b3914777825a0">DPMBase::readDataFile</a></div><div class="ttdeci">bool readDataFile(std::string fileName=&quot;&quot;, unsigned int format=0)</div><div class="ttdoc">This allows particle data to be reloaded from data files.</div><div class="ttdef"><b>Definition:</b> DPMBase.cc:2457</div></div>
<div class="ttc" id="aclassDPMBase_html_ac5d9774a747939873a95f5e612b9e070"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#ac5d9774a747939873a95f5e612b9e070">DPMBase::solve</a></div><div class="ttdeci">void solve()</div><div class="ttdoc">The work horse of the code.</div><div class="ttdef"><b>Definition:</b> DPMBase.cc:4334</div></div>
<div class="ttc" id="aclassDPMBase_html_afb014ff224f5cac1a7c43fa035cfbf40"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#afb014ff224f5cac1a7c43fa035cfbf40">DPMBase::readRestartFile</a></div><div class="ttdeci">bool readRestartFile(ReadOptions opt=ReadOptions::ReadAll)</div><div class="ttdoc">Reads all the particle data corresponding to a given, existing . restart file (for more details regar...</div><div class="ttdef"><b>Definition:</b> DPMBase.cc:3043</div></div>
<div class="ttc" id="anamespacehelpers_html_ad3f742bddf172f427a0f0d0ee796b966"><div class="ttname"><a href="../../d9/d41/namespacehelpers.html#ad3f742bddf172f427a0f0d0ee796b966">helpers::writeToFile</a></div><div class="ttdeci">bool writeToFile(const std::string &amp;filename, const std::string &amp;filecontent)</div><div class="ttdoc">Writes a string to a file.</div><div class="ttdef"><b>Definition:</b> FileIOHelpers.cc:29</div></div>
</div><!-- fragment --><p> The main function of <a class="el" href="../../d8/d7a/Tutorial10__LoadingDataRestart_8cpp.html">Tutorial10_LoadingDataRestart.cpp</a> presents how to create a restart and a data file, then reads these files and subsequently solves it. Mostly however you don't create these files as you restart from a previous session.</p>
<p><br  />
</p>
<h1><a class="anchor" id="T11"></a>
T11: Axisymmetric walls inside a cylindrical domain</h1>
<div class="image">
<object type="image/svg+xml" data="../../Tutorial11.svg" width="750px" style="pointer-events: none;"></object>
</div>
 <h4><a class="anchor" id="autotoc_md89"></a>
Problem description:</h4>
<p>This tutorial explains how to include axisymmetric walls inside a cylindrical domain. Also, the user will find an useful implementation of how to create polydisperse particle size distribution and perform internal validation tests. The full code can be found in <a class="el" href="../../d4/dab/Tutorial11__AxisymmetricWalls_8cpp.html">Tutorial11_AxisymmetricWalls.cpp</a></p>
<h3><a class="anchor" id="autotoc_md90"></a>
Headers:</h3>
<p>To work with axisymmetric walls, the user needs to add the following headers:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d7/df4/IntersectionOfWalls_8h.html">Walls/IntersectionOfWalls.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d7c/AxisymmetricIntersectionOfWalls_8h.html">Walls/AxisymmetricIntersectionOfWalls.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&quot;</span></div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md91"></a>
Before the main function:</h3>
<p>The class Tutorial 11 contains the constructor Tutorial 11</p>
<div class="fragment"><div class="line">    <a class="code" href="../../d1/df6/classTutorial11.html">Tutorial11</a>(<span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> width, <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> <a class="code" href="../../de/dbd/namespaceGlobal__Physical__Variables.html#aad3f0468efff43e7f235a64c27d3acf2">height</a>){</div>
<div class="line">        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a>, <span class="stringliteral">&quot;Tutorial 11&quot;</span>);</div>
<div class="line">        setName(<span class="stringliteral">&quot;Tutorial11&quot;</span>);</div>
<div class="line">        setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">        restartFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">        fStatFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a>);</div>
<div class="line">        eneFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a>);</div>
<div class="line">        setParticlesWriteVTK(<span class="keyword">true</span>);</div>
<div class="line">        wallHandler.setWriteVTK(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">        setXBallsAdditionalArguments(<span class="stringliteral">&quot;-v0 -solidf&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//specify body forces</span></div>
<div class="line">        setGravity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, -9.8));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//set domain accordingly (domain boundaries are not walls!)</span></div>
<div class="line">        setXMin(0.0);</div>
<div class="line">        setXMax(width);</div>
<div class="line">        setYMin(0.0);</div>
<div class="line">        setYMax(width);</div>
<div class="line">        setZMin(0.0);</div>
<div class="line">        setZMax(<a class="code" href="../../de/dbd/namespaceGlobal__Physical__Variables.html#aad3f0468efff43e7f235a64c27d3acf2">height</a>);</div>
<div class="line">    }</div>
<div class="ttc" id="aGeneralDefine_8h_html_ac48214003841d463b1dea3233e0788a7"><div class="ttname"><a href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a></div><div class="ttdeci">double Mdouble</div><div class="ttdef"><b>Definition:</b> GeneralDefine.h:13</div></div>
<div class="ttc" id="aLogger_8cc_html_a6bb54690071023a814dfcb33b0a5d9a4"><div class="ttname"><a href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a></div><div class="ttdeci">Logger&lt; MERCURYDPM_LOGLEVEL &gt; logger(&quot;MercuryKernel&quot;)</div><div class="ttdoc">Definition of different loggers with certain modules. A user can define its own custom logger here.</div></div>
<div class="ttc" id="aclassTutorial11_html"><div class="ttname"><a href="../../d1/df6/classTutorial11.html">Tutorial11</a></div><div class="ttdoc">[T11:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial11_AxisymmetricWalls.cpp:24</div></div>
<div class="ttc" id="amumps__solver_8h_html_a02cc55424e6075b41dcb20cfe3178d54"><div class="ttname"><a href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a></div><div class="ttdeci">#define INFO(i)</div><div class="ttdef"><b>Definition:</b> mumps_solver.h:54</div></div>
<div class="ttc" id="anamespaceGlobal__Physical__Variables_html_aad3f0468efff43e7f235a64c27d3acf2"><div class="ttname"><a href="../../de/dbd/namespaceGlobal__Physical__Variables.html#aad3f0468efff43e7f235a64c27d3acf2">Global_Physical_Variables::height</a></div><div class="ttdeci">double height(const double &amp;x)</div><div class="ttdoc">Height of domain.</div><div class="ttdef"><b>Definition:</b> simple_spine_channel.cc:429</div></div>
</div><!-- fragment --><p> This constructor is an instance of the main class. Here it's defined the global output and non-changeable parameters.</p>
<p>In this tutorial, it overrides the member function setupInitialConditions(), which doesn't return any value (defined then as void).</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> setupInitialConditions()<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a> mid = {</div>
<div class="line">                (getXMin() + getXMax()) / 2.0,</div>
<div class="line">                (getYMin() + getYMax()) / 2.0,</div>
<div class="line">                (getZMin() + getZMax()) / 2.0};</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> halfWidth = (getXMax() - getXMin()) / 2.0;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//Cylinder</span></div>
<div class="line">        <a class="code" href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html">AxisymmetricIntersectionOfWalls</a> w1;</div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#af38fc9c5738da408dfb04d4ab4ba1e86">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        w1.<a class="code" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">setPosition</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(mid.<a class="code" href="../../d5/dc1/classVec3D.html#a4df5bc1b87642dfbcec2b9313e2a7d8b">X</a>, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a01ea97bb57a253a0b3b28786987ac124">Y</a>, 0));</div>
<div class="line">        w1.<a class="code" href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html#a2db8ba4302380ef71c438961be7b4705">setAxis</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0, 0, 1));</div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a484d1569fb68b47cd26ee33e90b242ec">addObject</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1, 0, 0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>((getXMax() - getXMin()) / 2.0, 0, 0));</div>
<div class="line">        <span class="comment">// Display the cylinder only, when not coinciding with the neck</span></div>
<div class="line">        std::vector&lt;Mdouble&gt; displayedSegmentsCylinder = {-<a class="code" href="../../d7/d28/namespaceconstants.html#ae4dcbfebb9368e14ed372ed6e91d74ec">constants::inf</a>, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a> - contractionHeight, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a> + contractionHeight, <a class="code" href="../../d7/d28/namespaceconstants.html#ae4dcbfebb9368e14ed372ed6e91d74ec">constants::inf</a>};</div>
<div class="line">        w1.<a class="code" href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html#ad8d8e86ca6dbeb76196ca8de7fe6f2d9">setDisplayedSegments</a>(displayedSegmentsCylinder);</div>
<div class="line">        wallHandler.copyAndAddObject(w1);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//Cone</span></div>
<div class="line">        <a class="code" href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html">AxisymmetricIntersectionOfWalls</a> w2;</div>
<div class="line">        w2.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#af38fc9c5738da408dfb04d4ab4ba1e86">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        w2.<a class="code" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">setPosition</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(mid.<a class="code" href="../../d5/dc1/classVec3D.html#a4df5bc1b87642dfbcec2b9313e2a7d8b">X</a>, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a01ea97bb57a253a0b3b28786987ac124">Y</a>, 0));</div>
<div class="line">        w2.<a class="code" href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html#a2db8ba4302380ef71c438961be7b4705">setAxis</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0, 0, 1));</div>
<div class="line">        std::vector&lt;Vec3D&gt; points(3);</div>
<div class="line">        <span class="comment">//define the neck as a prism through corners of your prismatic wall in clockwise direction</span></div>
<div class="line">        points[0] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(halfWidth, 0.0, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a> + contractionHeight);</div>
<div class="line">        points[1] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(halfWidth - contractionWidth, 0.0, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a>);</div>
<div class="line">        points[2] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(halfWidth, 0.0, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a> - contractionHeight);</div>
<div class="line">        w2.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a813855f943b0eeeccbb0124b2d629459">createOpenPrism</a>(points);</div>
<div class="line">        <span class="comment">// Display the neck only until reaching the cylinder</span></div>
<div class="line">        std::vector&lt;Mdouble&gt; displayedSegmentsPrism = {mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a> - contractionHeight, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a> + contractionHeight};</div>
<div class="line">        w2.<a class="code" href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html#ad8d8e86ca6dbeb76196ca8de7fe6f2d9">setDisplayedSegments</a>(displayedSegmentsPrism);</div>
<div class="line">        wallHandler.copyAndAddObject(w2);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//Flat surface</span></div>
<div class="line">        <a class="code" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a> w0;</div>
<div class="line">        w0.<a class="code" href="../../d0/dd3/classBaseWall.html#ad54e8dd98fbf371d129bdc0e8aff37a9">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0, 0, -1), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0, 0, mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a>));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../da/d21/constructor_8cpp.html#a4051a9225a2612a796f1506ecddafb00a2c63acbe79d9f41ba6bb7766e9c37702">N</a> = 600; <span class="comment">//maximum number of particles</span></div>
<div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(speciesHandler.getObject(0));</div>
<div class="line">        <span class="keywordflow">for</span> (<a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> z = mid.<a class="code" href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Z</a> + contractionHeight;</div>
<div class="line">             particleHandler.getNumberOfObjects() &lt;= <a class="code" href="../../da/d21/constructor_8cpp.html#a4051a9225a2612a796f1506ecddafb00a2c63acbe79d9f41ba6bb7766e9c37702">N</a>;</div>
<div class="line">             z += 2.0 * maxParticleRadius)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (<a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a> = halfWidth - maxParticleRadius; <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a> &gt; 0; <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a> -= 1.999 * maxParticleRadius)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">for</span> (<a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> <a class="code" href="../../d9/d33/namespacecalibrate.html#a1919e193275bfcb62d1e5b79a3aea213">c</a> = 2.0 * maxParticleRadius; <a class="code" href="../../d9/d33/namespacecalibrate.html#a1919e193275bfcb62d1e5b79a3aea213">c</a> &lt;= 2 * <a class="code" href="../../d7/d28/namespaceconstants.html#a5f695d1bf98bf8537048b2eee827659d">constants::pi</a> * <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a>; <a class="code" href="../../d9/d33/namespacecalibrate.html#a1919e193275bfcb62d1e5b79a3aea213">c</a> += 2.0 * maxParticleRadius)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(random.getRandomNumber(minParticleRadius, maxParticleRadius));</div>
<div class="line">                    <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(mid.<a class="code" href="../../d5/dc1/classVec3D.html#a4df5bc1b87642dfbcec2b9313e2a7d8b">X</a> + <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a> * <a class="code" href="../../d6/d6c/namespacemathsFunc.html#aa4cc78f4bc4d3c87d1bfd17041191bef">mathsFunc::sin</a>(<a class="code" href="../../d9/d33/namespacecalibrate.html#a1919e193275bfcb62d1e5b79a3aea213">c</a> / <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a>),</div>
<div class="line">                                         mid.<a class="code" href="../../d5/dc1/classVec3D.html#a01ea97bb57a253a0b3b28786987ac124">Y</a> + <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a> * <a class="code" href="../../d6/d6c/namespacemathsFunc.html#a08dc6f6169a56601f5cff5444ebbe1c0">mathsFunc::cos</a>(<a class="code" href="../../d9/d33/namespacecalibrate.html#a1919e193275bfcb62d1e5b79a3aea213">c</a> / <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a>),</div>
<div class="line">                                         z + <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.getRadius()));</div>
<div class="line">                    <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> vz = random.getRandomNumber(-1, 0);</div>
<div class="line">                    <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> <a class="code" href="../../d2/d2e/level1__cplx__impl_8h.html#a76b57f4654907ddf5e378e28cdac4835">vx</a> = random.getRandomNumber(-1, 1);</div>
<div class="line">                    <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(<a class="code" href="../../d2/d2e/level1__cplx__impl_8h.html#a76b57f4654907ddf5e378e28cdac4835">vx</a>,0.0,vz));</div>
<div class="line">                    particleHandler.copyAndAddObject(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="ttc" id="aclassAxisymmetricIntersectionOfWalls_html"><div class="ttname"><a href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html">AxisymmetricIntersectionOfWalls</a></div><div class="ttdoc">Use AxisymmetricIntersectionOfWalls to Screw Screw::read Screw::read Screw::read define axisymmetric ...</div><div class="ttdef"><b>Definition:</b> AxisymmetricIntersectionOfWalls.h:105</div></div>
<div class="ttc" id="aclassAxisymmetricIntersectionOfWalls_html_a2db8ba4302380ef71c438961be7b4705"><div class="ttname"><a href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html#a2db8ba4302380ef71c438961be7b4705">AxisymmetricIntersectionOfWalls::setAxis</a></div><div class="ttdeci">void setAxis(Vec3D a)</div><div class="ttdef"><b>Definition:</b> AxisymmetricIntersectionOfWalls.cc:149</div></div>
<div class="ttc" id="aclassAxisymmetricIntersectionOfWalls_html_ad8d8e86ca6dbeb76196ca8de7fe6f2d9"><div class="ttname"><a href="../../dc/d9f/classAxisymmetricIntersectionOfWalls.html#ad8d8e86ca6dbeb76196ca8de7fe6f2d9">AxisymmetricIntersectionOfWalls::setDisplayedSegments</a></div><div class="ttdeci">void setDisplayedSegments(const std::vector&lt; Mdouble &gt; &amp;displayedSegments)</div><div class="ttdoc">Sets the displayed segments.</div><div class="ttdef"><b>Definition:</b> AxisymmetricIntersectionOfWalls.h:189</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a8650c49093f29960083d755945e6cdfc"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">BaseInteractable::setPosition</a></div><div class="ttdeci">virtual void setPosition(const Vec3D &amp;position)</div><div class="ttdoc">Sets the position of this BaseInteractable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.h:218</div></div>
<div class="ttc" id="aclassIntersectionOfWalls_html_a813855f943b0eeeccbb0124b2d629459"><div class="ttname"><a href="../../de/d70/classIntersectionOfWalls.html#a813855f943b0eeeccbb0124b2d629459">IntersectionOfWalls::createOpenPrism</a></div><div class="ttdeci">void createOpenPrism(std::vector&lt; Vec3D &gt; points, Vec3D prismAxis)</div><div class="ttdoc">Creates an open prism which is a polygon between the points, except the first and last point,...</div><div class="ttdef"><b>Definition:</b> IntersectionOfWalls.cc:446</div></div>
<div class="ttc" id="aclassVec3D_html_a01ea97bb57a253a0b3b28786987ac124"><div class="ttname"><a href="../../d5/dc1/classVec3D.html#a01ea97bb57a253a0b3b28786987ac124">Vec3D::Y</a></div><div class="ttdeci">Mdouble Y</div><div class="ttdef"><b>Definition:</b> Kernel/Math/Vector.h:45</div></div>
<div class="ttc" id="aclassVec3D_html_a17f11fd797d812fefa332a514728e75f"><div class="ttname"><a href="../../d5/dc1/classVec3D.html#a17f11fd797d812fefa332a514728e75f">Vec3D::Z</a></div><div class="ttdeci">Mdouble Z</div><div class="ttdef"><b>Definition:</b> Kernel/Math/Vector.h:45</div></div>
<div class="ttc" id="aclassVec3D_html_a4df5bc1b87642dfbcec2b9313e2a7d8b"><div class="ttname"><a href="../../d5/dc1/classVec3D.html#a4df5bc1b87642dfbcec2b9313e2a7d8b">Vec3D::X</a></div><div class="ttdeci">Mdouble X</div><div class="ttdoc">the vector components</div><div class="ttdef"><b>Definition:</b> Kernel/Math/Vector.h:45</div></div>
<div class="ttc" id="aconstructor_8cpp_html_a4051a9225a2612a796f1506ecddafb00a2c63acbe79d9f41ba6bb7766e9c37702"><div class="ttname"><a href="../../da/d21/constructor_8cpp.html#a4051a9225a2612a796f1506ecddafb00a2c63acbe79d9f41ba6bb7766e9c37702">N</a></div><div class="ttdeci">@ N</div><div class="ttdef"><b>Definition:</b> constructor.cpp:22</div></div>
<div class="ttc" id="alevel1__cplx__impl_8h_html_a76b57f4654907ddf5e378e28cdac4835"><div class="ttname"><a href="../../d2/d2e/level1__cplx__impl_8h.html#a76b57f4654907ddf5e378e28cdac4835">vx</a></div><div class="ttdeci">StridedVectorType vx(make_vector(x, *n, std::abs(*incx)))</div></div>
<div class="ttc" id="anamespaceUniformPSDSelfTest_html_a9ef26be0d5673c9bb0c2bb8bce5229d8"><div class="ttname"><a href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">UniformPSDSelfTest.r</a></div><div class="ttdeci">r</div><div class="ttdef"><b>Definition:</b> UniformPSDSelfTest.py:20</div></div>
<div class="ttc" id="anamespacecalibrate_html_a1919e193275bfcb62d1e5b79a3aea213"><div class="ttname"><a href="../../d9/d33/namespacecalibrate.html#a1919e193275bfcb62d1e5b79a3aea213">calibrate.c</a></div><div class="ttdeci">int c</div><div class="ttdef"><b>Definition:</b> calibrate.py:100</div></div>
<div class="ttc" id="anamespaceconstants_html_ae4dcbfebb9368e14ed372ed6e91d74ec"><div class="ttname"><a href="../../d7/d28/namespaceconstants.html#ae4dcbfebb9368e14ed372ed6e91d74ec">constants::inf</a></div><div class="ttdeci">const Mdouble inf</div><div class="ttdef"><b>Definition:</b> GeneralDefine.h:23</div></div>
<div class="ttc" id="anamespacemathsFunc_html_a08dc6f6169a56601f5cff5444ebbe1c0"><div class="ttname"><a href="../../d6/d6c/namespacemathsFunc.html#a08dc6f6169a56601f5cff5444ebbe1c0">mathsFunc::cos</a></div><div class="ttdeci">Mdouble cos(Mdouble x)</div><div class="ttdef"><b>Definition:</b> ExtendedMath.cc:43</div></div>
<div class="ttc" id="anamespacemathsFunc_html_aa4cc78f4bc4d3c87d1bfd17041191bef"><div class="ttname"><a href="../../d6/d6c/namespacemathsFunc.html#aa4cc78f4bc4d3c87d1bfd17041191bef">mathsFunc::sin</a></div><div class="ttdeci">Mdouble sin(Mdouble x)</div><div class="ttdef"><b>Definition:</b> ExtendedMath.cc:23</div></div>
</div><!-- fragment --><p> First, it is added the cylinder, then the prism shape or cone that represents the outer part. A flat surface is included in the middle to stop the downforward flow until a specific time. After adding the walls, the species of the particles are included. All particles have the same properties and they are randomly distributed.</p>
<p>An additional member function is included.</p>
<div class="fragment"><div class="line">    <span class="comment">//Initially, a wall is inserted in the neck of the hourglass to prevent particles flowing through.</span></div>
<div class="line">    <span class="comment">//This wall is moved to form the base of the hourglass at time 0.9</span></div>
<div class="line">    <span class="keywordtype">void</span> actionsAfterTimeStep()<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordflow">if</span> (getTime() &lt; 0.9 &amp;&amp; getTime() + getTimeStep() &gt; 0.9)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a>, <span class="stringliteral">&quot;Shifting bottom wall downward&quot;</span>);</div>
<div class="line">            <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a>*<span class="keyword">&gt;</span>(wallHandler.getLastObject())-&gt;<a class="code" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0, 0, -1), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0, 0, getZMin()));</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment --><p> This overrides function moves the flat surface to the base domain. It happens at a defined time, thus the particles can continue to flow.</p>
<h3><a class="anchor" id="autotoc_md92"></a>
Main function:</h3>
<p>The main function of this tutorial includes the setup parameters and the tests for a valid collision time and restitution coefficient.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="../../d9/d18/T__protectiveWall_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> width = 10<a class="code" href="../../de/d2c/Cwise__array__power__array_8cpp.html#a9eb5e92d9d691c1393e5e7c914731dbf">e</a>-2; <span class="comment">// 10cm</span></div>
<div class="line">    <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> <a class="code" href="../../de/dbd/namespaceGlobal__Physical__Variables.html#aad3f0468efff43e7f235a64c27d3acf2">height</a> = 60<a class="code" href="../../de/d2c/Cwise__array__power__array_8cpp.html#a9eb5e92d9d691c1393e5e7c914731dbf">e</a>-2; <span class="comment">// 60cm</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Point the object HG to class</span></div>
<div class="line">    <a class="code" href="../../d1/df6/classTutorial11.html">Tutorial11</a> HG(width,<a class="code" href="../../de/dbd/namespaceGlobal__Physical__Variables.html#aad3f0468efff43e7f235a64c27d3acf2">height</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Specify particle radius:</span></div>
<div class="line">    <span class="comment">//these parameters are needed in setupInitialConditions()</span></div>
<div class="line">    HG.minParticleRadius = 6<a class="code" href="../../de/d2c/Cwise__array__power__array_8cpp.html#a9eb5e92d9d691c1393e5e7c914731dbf">e</a>-3; <span class="comment">// 6mm</span></div>
<div class="line">    HG.maxParticleRadius = 10<a class="code" href="../../de/d2c/Cwise__array__power__array_8cpp.html#a9eb5e92d9d691c1393e5e7c914731dbf">e</a>-3; <span class="comment">//10mm</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    <span class="comment">//Specify the number of particles</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">//specify how big the wedge of the contraction should be</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> contractionWidth = 2.5e-2; <span class="comment">//2.5cm</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> contractionHeight = 5<a class="code" href="../../de/d2c/Cwise__array__power__array_8cpp.html#a9eb5e92d9d691c1393e5e7c914731dbf">e</a>-2; <span class="comment">//5cm</span></div>
<div class="line">    HG.contractionWidth = contractionWidth;</div>
<div class="line">    HG.contractionHeight = contractionHeight;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//make the species of the particle and wall</span></div>
<div class="line">    <a class="code" href="../../d9/d0c/classSpecies.html">LinearViscoelasticSpecies</a> species;</div>
<div class="line">    species.<a class="code" href="../../dc/d02/classParticleSpecies.html#a274df9fa08ef5580e54f8e9301f1b348">setDensity</a>(2000);</div>
<div class="line"> </div>
<div class="line">    species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad179cd0c4c13e4d54ae243956ce5a07d">setStiffness</a>(1e5);</div>
<div class="line">    species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a73d0ff3e1ac4c6cb75dae0b623d7a13b">setDissipation</a>(0.63);</div>
<div class="line">    HG.speciesHandler.copyAndAddObject(species);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">//test normal forces</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> minParticleMass = species.<a class="code" href="../../dc/d02/classParticleSpecies.html#ad18b57ec2a669a903fa4deed0b595aef">getDensity</a>() * 4.0 / 3.0 * <a class="code" href="../../d7/d28/namespaceconstants.html#a5f695d1bf98bf8537048b2eee827659d">constants::pi</a> * <a class="code" href="../../d6/d6c/namespacemathsFunc.html#afc01d91820e7def6b01bcdb29b02d69c">mathsFunc::cubic</a>(HG.minParticleRadius);</div>
<div class="line">    <span class="comment">//Calculates collision time for two copies of a particle of given dissipation_, k, effective mass</span></div>
<div class="line">    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a>, <span class="stringliteral">&quot;minParticleMass = %&quot;</span>, minParticleMass);</div>
<div class="line">    <span class="comment">//Calculates collision time for two copies of a particle of given dissipation_, k, effective mass</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> tc = species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a5c8b0dd0c52d93f81e19a1969e5dd715">getCollisionTime</a>(minParticleMass);</div>
<div class="line">    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a>, <span class="stringliteral">&quot;tc  = %&quot;</span>, tc);</div>
<div class="line">    <span class="comment">//Calculates restitution coefficient for two copies of given dissipation_, k, effective mass</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a> = species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad88c4e9f01a270a28a4a283fc2cd68eb">getRestitutionCoefficient</a>(minParticleMass);</div>
<div class="line">    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a>, <span class="stringliteral">&quot;restitution coefficient = %&quot;</span>, <a class="code" href="../../de/d6c/namespaceUniformPSDSelfTest.html#a9ef26be0d5673c9bb0c2bb8bce5229d8">r</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//time integration parameters</span></div>
<div class="line">    HG.setTimeStep(tc / 10.0);</div>
<div class="line">    HG.setTimeMax(5.0);</div>
<div class="line">    HG.setSaveCount(500);</div>
<div class="line"> </div>
<div class="line">    HG.solve(argc, argv);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aCwise__array__power__array_8cpp_html_a9eb5e92d9d691c1393e5e7c914731dbf"><div class="ttname"><a href="../../de/d2c/Cwise__array__power__array_8cpp.html#a9eb5e92d9d691c1393e5e7c914731dbf">e</a></div><div class="ttdeci">Array&lt; double, 1, 3 &gt; e(1./3., 0.5, 2.)</div></div>
<div class="ttc" id="aclassLinearViscoelasticNormalSpecies_html_a5c8b0dd0c52d93f81e19a1969e5dd715"><div class="ttname"><a href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a5c8b0dd0c52d93f81e19a1969e5dd715">LinearViscoelasticNormalSpecies::getCollisionTime</a></div><div class="ttdeci">Mdouble getCollisionTime(Mdouble mass) const</div><div class="ttdoc">Calculates collision time for two copies of a particle of given disp, k, mass.</div><div class="ttdef"><b>Definition:</b> LinearViscoelasticNormalSpecies.cc:116</div></div>
<div class="ttc" id="aclassLinearViscoelasticNormalSpecies_html_ad88c4e9f01a270a28a4a283fc2cd68eb"><div class="ttname"><a href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad88c4e9f01a270a28a4a283fc2cd68eb">LinearViscoelasticNormalSpecies::getRestitutionCoefficient</a></div><div class="ttdeci">Mdouble getRestitutionCoefficient(Mdouble mass) const</div><div class="ttdoc">Calculates restitution coefficient for two copies of given disp, k, mass.</div><div class="ttdef"><b>Definition:</b> LinearViscoelasticNormalSpecies.cc:147</div></div>
<div class="ttc" id="aclassParticleSpecies_html_ad18b57ec2a669a903fa4deed0b595aef"><div class="ttname"><a href="../../dc/d02/classParticleSpecies.html#ad18b57ec2a669a903fa4deed0b595aef">ParticleSpecies::getDensity</a></div><div class="ttdeci">Mdouble getDensity() const</div><div class="ttdoc">Allows density_ to be accessed.</div><div class="ttdef"><b>Definition:</b> ParticleSpecies.cc:98</div></div>
<div class="ttc" id="anamespacemathsFunc_html_afc01d91820e7def6b01bcdb29b02d69c"><div class="ttname"><a href="../../d6/d6c/namespacemathsFunc.html#afc01d91820e7def6b01bcdb29b02d69c">mathsFunc::cubic</a></div><div class="ttdeci">T cubic(const T val)</div><div class="ttdoc">calculates the cube of a number</div><div class="ttdef"><b>Definition:</b> ExtendedMath.h:95</div></div>
</div><!-- fragment --><p> <b>note:</b> to produce the pictures as shown you can use Paraview.</p>
<p><br  />
</p>
<h1><a class="anchor" id="T12"></a>
T12: Creating objects by using Prisms</h1>
<div class="image">
<img src="../../Tutorials/T12/Tutorial12.png" alt=""/>
</div>
 <h4><a class="anchor" id="autotoc_md93"></a>
Problem description:</h4>
<p>This tutorial explains how to define objects in space with the Prism function. Also, the user will find that you can prescribe the location and motion of the object. The full code can be found in <a class="el" href="../../d6/da2/Tutorial12__PrismWalls_8cpp.html">Tutorial12_PrismWalls.cpp</a></p>
<h3><a class="anchor" id="autotoc_md94"></a>
Headers:</h3>
<p>To work with prismatic walls in this tutorial, the user needs to add the following headers:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d02/Mercury3D_8h.html">Mercury3D.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d14/InfiniteWall_8h.html">Walls/InfiniteWall.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/df4/IntersectionOfWalls_8h.html">Walls/IntersectionOfWalls.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../da/d68/LinearViscoelasticSpecies_8h.html">Species/LinearViscoelasticSpecies.h</a>&gt;</span></div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md95"></a>
Before the main function:</h3>
<p>The walls and Prism object are all predefined in the initial conditions.</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> setupInitialConditions()<span class="keyword"> override </span>{</div>
<div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(speciesHandler.getObject(0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.15 * getXMax(), 0.3335 * getYMax(), 0.0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.2, 0.2, 0.0));</div>
<div class="line">        particleHandler.copyAndAddObject(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Creating outer walls</span></div>
<div class="line">        <a class="code" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a> w0;</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d0/dd3/classBaseWall.html#ad54e8dd98fbf371d129bdc0e8aff37a9">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(getXMax(), 0.0, 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(getXMin(), 0.0, 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, getYMax(), 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, -1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, getYMin(), 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Defining the object in het center of the box</span></div>
<div class="line">        <span class="comment">// Create an intersection of walls object w1</span></div>
<div class="line">        <a class="code" href="../../de/d70/classIntersectionOfWalls.html">IntersectionOfWalls</a> w1;</div>
<div class="line">        <span class="comment">// Set the species of the wall</span></div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#af38fc9c5738da408dfb04d4ab4ba1e86">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        std::vector&lt;Vec3D&gt; <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>(4);</div>
<div class="line">        <span class="comment">// Define the vertices of the insert and ensure that points are in clockwise order</span></div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[0] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25 * getXMax(), -0.25 * getYMax(), 0.0);</div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[1] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-0.25 * getXMax(), -0.25 * getYMax(), 0.0);</div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[2] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-0.25 * getXMax(), 0.25 * getYMax(), 0.0);</div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[3] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25 * getXMax(), 0.25 * getYMax(), 0.0);</div>
<div class="line">        <span class="comment">// Creating the object from the vector containing points</span></div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a7680b102dc26b448b310dbecb642526e">createPrism</a>(<a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>);</div>
<div class="line">        <span class="comment">/* Define the angular velocity of the object (optional).</span></div>
<div class="line"><span class="comment">         * Setting the angular velocity of the object results in rotation of the object around</span></div>
<div class="line"><span class="comment">         * the origin (0.0,0.0,0.0). If the object is build such that the center of rotation of the object</span></div>
<div class="line"><span class="comment">         * coincides with the origin the object will rotate around its own axis. */</span></div>
<div class="line">        w1.<a class="code" href="../../d8/d84/classBaseInteractable.html#a24fcda4bbc9610b4cf3bb9d189e49da1">setAngularVelocity</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0,0.0,1.0));</div>
<div class="line">        <span class="comment">/* Define the translational velocity of the object (optional) */</span></div>
<div class="line">        w1.<a class="code" href="../../d8/d84/classBaseInteractable.html#a4c8943dbb3f56794eacf7261d2dffc37">setVelocity</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0,0.0,0.0));</div>
<div class="line">        <span class="comment">/* Set the desired position of center of the object (optional).</span></div>
<div class="line"><span class="comment">         * With this command you can position your object (with the set angular velocity)</span></div>
<div class="line"><span class="comment">         * at a specific location in the domain.*/</span></div>
<div class="line">        w1.<a class="code" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">setPosition</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.5 * getXMax(),0.5 * getYMax(),0.0));</div>
<div class="line">        <span class="comment">// Add the object to wall w1</span></div>
<div class="line">        wallHandler.copyAndAddObject(w1);</div>
<div class="line">        </div>
<div class="line">    }</div>
<div class="ttc" id="aclassBaseInteractable_html_a24fcda4bbc9610b4cf3bb9d189e49da1"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a24fcda4bbc9610b4cf3bb9d189e49da1">BaseInteractable::setAngularVelocity</a></div><div class="ttdeci">void setAngularVelocity(const Vec3D &amp;angularVelocity)</div><div class="ttdoc">set the angular velocity of the BaseInteractble.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.cc:338</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a4c8943dbb3f56794eacf7261d2dffc37"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a4c8943dbb3f56794eacf7261d2dffc37">BaseInteractable::setVelocity</a></div><div class="ttdeci">void setVelocity(const Vec3D &amp;velocity)</div><div class="ttdoc">set the velocity of the BaseInteractable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.cc:328</div></div>
<div class="ttc" id="aclassIntersectionOfWalls_html_a7680b102dc26b448b310dbecb642526e"><div class="ttname"><a href="../../de/d70/classIntersectionOfWalls.html#a7680b102dc26b448b310dbecb642526e">IntersectionOfWalls::createPrism</a></div><div class="ttdeci">void createPrism(std::vector&lt; Vec3D &gt; points, Vec3D prismAxis)</div><div class="ttdoc">Creates an open prism which is a polygon between the points and extends infinitely in the PrismAxis d...</div><div class="ttdef"><b>Definition:</b> IntersectionOfWalls.cc:461</div></div>
<div class="ttc" id="anamespacepebble__output_html_a59fc739f46efa41d6308dcf9a94e4a4c"><div class="ttname"><a href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">pebble_output.Points</a></div><div class="ttdeci">Points</div><div class="ttdef"><b>Definition:</b> pebble_output.py:56</div></div>
</div><!-- fragment --><p> The first part in the the initial conditions is defining the particle.</p>
<div class="fragment"><div class="line">        <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>;</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setSpecies(speciesHandler.getObject(0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setRadius(0.005);</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setPosition(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.15 * getXMax(), 0.3335 * getYMax(), 0.0));</div>
<div class="line">        <a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>.setVelocity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.2, 0.2, 0.0));</div>
<div class="line">        particleHandler.copyAndAddObject(<a class="code" href="../../db/d01/MatrixBase__all_8cpp.html#a9b22b0b79984d73a58b20bc0c88a7c5f">p0</a>);</div>
</div><!-- fragment --><p> After defining the particle that outer walls are generated by using four finite walls as seen in previous tutorials</p>
<div class="fragment"><div class="line">        <span class="comment">// Creating outer walls</span></div>
<div class="line">        <a class="code" href="../../d7/d91/classInfiniteWall.html">InfiniteWall</a> w0;</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d0/dd3/classBaseWall.html#ad54e8dd98fbf371d129bdc0e8aff37a9">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(getXMax(), 0.0, 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-1.0, 0.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(getXMin(), 0.0, 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, getYMax(), 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
<div class="line">        </div>
<div class="line">        w0.<a class="code" href="../../d7/d91/classInfiniteWall.html#a4e254821329d1a9ffcad3a39c786a654">set</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, -1.0, 0.0), <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, getYMin(), 0.0));</div>
<div class="line">        wallHandler.copyAndAddObject(w0);</div>
</div><!-- fragment --><p> To create the prism we have to do the following: First one creates an instance of IntersectionOfWalls "w1". Next the species are assigned. This line is followed by defining a 3D vector "Points" with space for four vertices. After that the location of the four vertices are defined. Then, by using w1.createPrism(Points) the prism is formed centered at the origin.</p>
<div class="fragment"><div class="line">        <span class="comment">// Defining the object in het center of the box</span></div>
<div class="line">        <span class="comment">// Create an intersection of walls object w1</span></div>
<div class="line">        <a class="code" href="../../de/d70/classIntersectionOfWalls.html">IntersectionOfWalls</a> w1;</div>
<div class="line">        <span class="comment">// Set the species of the wall</span></div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#af38fc9c5738da408dfb04d4ab4ba1e86">setSpecies</a>(speciesHandler.getObject(0));</div>
<div class="line">        std::vector&lt;Vec3D&gt; <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>(4);</div>
<div class="line">        <span class="comment">// Define the vertices of the insert and ensure that points are in clockwise order</span></div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[0] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25 * getXMax(), -0.25 * getYMax(), 0.0);</div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[1] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-0.25 * getXMax(), -0.25 * getYMax(), 0.0);</div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[2] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(-0.25 * getXMax(), 0.25 * getYMax(), 0.0);</div>
<div class="line">        <a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>[3] = <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.25 * getXMax(), 0.25 * getYMax(), 0.0);</div>
<div class="line">        <span class="comment">// Creating the object from the vector containing points</span></div>
<div class="line">        w1.<a class="code" href="../../de/d70/classIntersectionOfWalls.html#a7680b102dc26b448b310dbecb642526e">createPrism</a>(<a class="code" href="../../df/d53/namespacepebble__output.html#a59fc739f46efa41d6308dcf9a94e4a4c">Points</a>);</div>
</div><!-- fragment --><p> Now the object has been formed you can prescribe several properties of the object such as the angular velocity or translational velocity (using setVelocity). Notice that when using setAngularVelocity the object rotates around the origin, so if an object is located at the origin it will rotate around its own axis while located elsewhere it will rotate around the origin. It is essential that you set velocities and positions in the correct order such that you get the desired motion.</p>
<div class="fragment"><div class="line">        w1.<a class="code" href="../../d8/d84/classBaseInteractable.html#a24fcda4bbc9610b4cf3bb9d189e49da1">setAngularVelocity</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0,0.0,1.0));</div>
</div><!-- fragment --><div class="fragment"><div class="line">        w1.<a class="code" href="../../d8/d84/classBaseInteractable.html#a4c8943dbb3f56794eacf7261d2dffc37">setVelocity</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0,0.0,0.0));</div>
</div><!-- fragment --><div class="fragment"><div class="line">        w1.<a class="code" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">setPosition</a>(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.5 * getXMax(),0.5 * getYMax(),0.0));</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md96"></a>
Main:</h3>
<p>In the main function the problem is defined in the problem instance, an instance of class Tutorial 12.</p>
<div class="fragment"><div class="line">    <span class="comment">// Problem setup</span></div>
<div class="line">    <a class="code" href="../../db/d61/classTutorial12.html">Tutorial12</a> <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>; <span class="comment">// instantiate an object of class Tutorial 12</span></div>
<div class="line">    </div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setName(<span class="stringliteral">&quot;Tutorial12&quot;</span>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setGravity(<a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a>(0.0, 0.0, 0.0));</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setXMax(0.5);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setYMax(0.5);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setZMax(0.1);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setTimeMax(5.0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The normal spring stiffness and normal dissipation is computed and set as</span></div>
<div class="line">    <span class="comment">// For collision time tc=0.005 and restitution coefficient rc=1.0,</span></div>
<div class="line">    <a class="code" href="../../d9/d0c/classSpecies.html">LinearViscoelasticSpecies</a> species;</div>
<div class="line">    species.<a class="code" href="../../dc/d02/classParticleSpecies.html#a274df9fa08ef5580e54f8e9301f1b348">setDensity</a>(2500.0); <span class="comment">//sets the species type_0 density</span></div>
<div class="line">    species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#ad179cd0c4c13e4d54ae243956ce5a07d">setStiffness</a>(258.5);<span class="comment">//sets the spring stiffness.</span></div>
<div class="line">    species.<a class="code" href="../../dd/de0/classLinearViscoelasticNormalSpecies.html#a73d0ff3e1ac4c6cb75dae0b623d7a13b">setDissipation</a>(0.0); <span class="comment">//sets the dissipation.</span></div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.speciesHandler.copyAndAddObject(species);</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setSaveCount(10);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.dataFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.restartFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.fStatFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.eneFile.setFileType(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa437a0018f5596bb67188841d7a610db2">FileType::NO_FILE</a>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setParticlesWriteVTK(<span class="keyword">true</span>);</div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.wallHandler.setWriteVTK(<a class="code" href="../../d6/db7/File_8h.html#abf84ea5561d58d9410862dc5b49f254fa9c68f021e7d47b8c42946a0f18ad3b69">FileType::ONE_FILE</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.setTimeStep(.005 / 50.0); <span class="comment">// (collision time)/50.0</span></div>
<div class="ttc" id="aclassTutorial12_html"><div class="ttname"><a href="../../db/d61/classTutorial12.html">Tutorial12</a></div><div class="ttdoc">[T12:headers]</div><div class="ttdef"><b>Definition:</b> Tutorial12_PrismWalls.cpp:24</div></div>
</div><!-- fragment --><p> At the end of the main function we call the solve function</p>
<div class="fragment"><div class="line">    <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#a569d6908c13cebe207584b3d146c851e">problem</a>.solve(argc, argv);</div>
</div><!-- fragment --><p> After solving the problem you can visualize the results and see the effect of the motion of the object on the trajectory of the particle.</p>
<p><br  />
 Click <a class="el" href="../../d7/db9/AdvancedTutorials.html">here</a> to go to the Advanced tutorials. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">MercuryDPM Reference Manual</a></li><li class="navelem"><a class="el" href="../../d5/dac/Tutorials.html">Fun with MercuryDPM (Tutorials)</a></li>
    <li class="footer">Generated on Wed Aug 27 2025 17:05:13 for MercuryDPM by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
