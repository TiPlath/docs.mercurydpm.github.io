<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MercuryDPM: How to use the logger</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../MDPM.css" rel="stylesheet" type="text/css"/>
<link href="../../codeLabels.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-fork-corner.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-dropdown-version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../MDPM-fragment-copy-button.js"></script>
<script type="text/javascript">
DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="../../MDPM-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="../../MDPM-interactive-toc.js"></script>
<script type="text/javascript">
DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="../../MDPM-darkmode-toggle.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
  <div id="bitbucket-corner">
   <a href="https://bitbucket.org/mercurydpm/mercurydpm/src/master/" target="_blank" id="fork-corner" class="fork-corner fc-pos-tr fc-animate fc-theme-bitbucket"></a>
  </div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../mercury-logo-chosen-light-slogan.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"> <!--MercuryDPM--!>
   <!-- BEGIN version select -->
   <div class="dropdown" id="projectnumber">
    <button class="dropbtn">v1.0</button>
    <div class="dropdown-content">
    </div>
   </div>
   <script type="text/javascript" src="../../MDPM-dropdown-version.js"></script>
<!-- END version select -->
   <!--&#160;<span id="projectnumber">revision: v1.0</span>-->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<script type="text/javascript" src="../../MDPM-fork-corner.js"></script>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d0/d72/LoggerGuide.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How to use the logger </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md37"></a>
The %Logger</h1>
<p>The Logger in MercuryDPM has two functions. Firstly it logs an output message to the terminal screen, and if requires acts based on the importance of the message. The other function is that it can be used to assert if code is correct. This document briefly describes how to use these two functions of the logger. First the log function is explained and later the assert function.</p>
<h1><a class="anchor" id="autotoc_md38"></a>
Log messages</h1>
<p>The logger can log messages to an output. Each of these messages have a log level attached to them. A log level has a twofold meaning. Firstly it indicates how important a log is, and secondly it is an indication if something went really wrong or that just some additional information is sent to the output. On compiling MercuryDPM with CMAKE the value Mercury_LOGLEVEL can be set. It is set to loglevel DEFAULT by default. This means that all logs with a less important log level is ignored. The log levels, from important to less important, is given with a basic explanation:</p><ul>
<li>FATAL: Something severally went wrong with the computer and no recovery is possible. The program will exit with a fatal error message. An example would be that there is no memory allocation possible.</li>
<li>ERROR: Something went wrong in the computation and no recovery is possible. The program will exit with an error message. Example: Dividing by zero</li>
<li>WARN: Something might have gone wrong but it is for the user to decide if action has to be taken. Example: Setting xmax smaller than xmin.</li>
<li>INFO: This level is used to tell some interesting information as output. Example: current timestep of the simulation.</li>
<li>DEFAULT: This level is just defined to be a default. When Mercury_LOGLEVEL is set to default in CMAKE, messages of lower type are ignored (i.e. VERBOSE and DEBUG).</li>
<li>VERBOSE: This level is purely used for developers trying to find bugs.</li>
<li>DEBUG: This is the lowest level and is mainly used to test core items of the code such as constructors and destructors. It could be used to trace bugs.</li>
</ul>
<p>Logging requires a log level, and some text to log. An example is </p><div class="fragment"><div class="line"><a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a>,<span class="stringliteral">&quot;This information will be given as output in a terminal screen&quot;</span>);</div>
<div class="ttc" id="aLogger_8cc_html_a6bb54690071023a814dfcb33b0a5d9a4"><div class="ttname"><a href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a></div><div class="ttdeci">Logger&lt; MERCURYDPM_LOGLEVEL &gt; logger(&quot;MercuryKernel&quot;)</div><div class="ttdoc">Definition of different loggers with certain modules. A user can define its own custom logger here.</div></div>
<div class="ttc" id="amumps__solver_8h_html_a02cc55424e6075b41dcb20cfe3178d54"><div class="ttname"><a href="../../db/ddd/mumps__solver_8h.html#a02cc55424e6075b41dcb20cfe3178d54">INFO</a></div><div class="ttdeci">#define INFO(i)</div><div class="ttdef"><b>Definition:</b> mumps_solver.h:54</div></div>
</div><!-- fragment --><p> When debugging, it could be interesting to output some values and that can be done with the following syntax </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> particleId = 1;</div>
<div class="line"><span class="keywordtype">double</span> particleVelocity = 5;</div>
<div class="line"><a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../df/d79/Logger_8cc.html#a1fa31e7d0d8f616e736f0bf000f059eb">VERBOSE</a>,<span class="stringliteral">&quot;Particle % has a velocity of %&quot;</span>,particleId,particleVelocity);</div>
<div class="ttc" id="aLogger_8cc_html_a1fa31e7d0d8f616e736f0bf000f059eb"><div class="ttname"><a href="../../df/d79/Logger_8cc.html#a1fa31e7d0d8f616e736f0bf000f059eb">VERBOSE</a></div><div class="ttdeci">LL&lt; Log::VERBOSE &gt; VERBOSE</div><div class="ttdoc">Verbose information.</div><div class="ttdef"><b>Definition:</b> Logger.cc:36</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md39"></a>
Assert</h1>
<p>A way to catch bugs is to use the function assert. Assert is a means to exit the program based on a condition that should not happen. If the condition is false, the code will exit. It is useful for catching bugs that should not happen. For instance when using a switch statement and the default action should never be taken. Another use of assert is to catch if something went wrong, like opening a file. There are two flavours in the logger: assert(...) and assert_always(...). The difference between the first and the latter is that when compiling in release mode, assert(...) is ignored, but assert_always(...) is still in the code. The benefit of assert(...) is that it could catch bugs in debug mode, but in release mode it is not executed and thus leading to a speedup in the code. The use of both functions in the logger is done as follows: </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> <a class="code" href="../../df/d04/namespacetest.html">test</a> = 1.0;</div>
<div class="line"><span class="comment">// Condition is true, nothing happens</span></div>
<div class="line"><a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>.assert_always(<a class="code" href="../../df/d04/namespacetest.html">test</a>==1.0,<span class="stringliteral">&quot;test is not 1.0&quot;</span>); </div>
<div class="line"><span class="comment">// Condition is false so the code breaks</span></div>
<div class="line"><a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>.assert_always(<a class="code" href="../../df/d04/namespacetest.html">test</a>==2.0, <span class="stringliteral">&quot;test is not 2.0 but %&quot;</span>,<a class="code" href="../../df/d04/namespacetest.html">test</a>); </div>
<div class="line"><span class="comment">// When compiling at release, this following assert is ignored</span></div>
<div class="line"><a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>.assert_debug(<span class="keyword">false</span>,<span class="stringliteral">&quot;Although I&#39;m false, I get ignored on release&quot;</span>);</div>
<div class="ttc" id="anamespacetest_html"><div class="ttname"><a href="../../df/d04/namespacetest.html">test</a></div><div class="ttdef"><b>Definition:</b> indexed_view.cpp:20</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md40"></a>
How to create a specific logger</h1>
<p>It is possible to create your own module logger and give it a specific name (i.e. loggerCG for coarse graining). This allows to log different parts of the code, and when something is logged it is clear in what part of the code it happens. Implementing an own logger must be done in the kernel of MercuryDPM and if this required please consult a developer. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/d62/UnclassifiedPages.html">Unclassified pages</a></li><li class="navelem"><a class="el" href="../../d8/d51/GettingStarted.html">Getting started</a></li><li class="navelem"><a class="el" href="../../df/d1c/IntroductionToTheCode.html">Introduction to the Code</a></li><li class="navelem"><a class="el" href="../../dc/d32/DevelopersGuide.html">Guidelines for Users and Developers</a></li><li class="navelem"><a class="el" href="../../d3/da2/DevelopersGuideKernel.html">Developing a kernel feature</a></li>
    <li class="footer">Generated on Wed Aug 27 2025 17:05:12 for MercuryDPM by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
