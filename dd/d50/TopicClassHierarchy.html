<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MercuryDPM: The class hierarchy</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../MDPM.css" rel="stylesheet" type="text/css"/>
<link href="../../codeLabels.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-fork-corner.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-dropdown-version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../MDPM-fragment-copy-button.js"></script>
<script type="text/javascript">
DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="../../MDPM-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="../../MDPM-interactive-toc.js"></script>
<script type="text/javascript">
DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="../../MDPM-darkmode-toggle.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
  <div id="bitbucket-corner">
   <a href="https://bitbucket.org/mercurydpm/mercurydpm/src/master/" target="_blank" id="fork-corner" class="fork-corner fc-pos-tr fc-animate fc-theme-bitbucket"></a>
  </div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../mercury-logo-chosen-light-slogan.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"> <!--MercuryDPM--!>
   <!-- BEGIN version select -->
   <div class="dropdown" id="projectnumber">
    <button class="dropbtn">v1.0</button>
    <div class="dropdown-content">
    </div>
   </div>
   <script type="text/javascript" src="../../MDPM-dropdown-version.js"></script>
<!-- END version select -->
   <!--&#160;<span id="projectnumber">revision: v1.0</span>-->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<script type="text/javascript" src="../../MDPM-fork-corner.js"></script>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/d50/TopicClassHierarchy.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The class hierarchy </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page explains the design of the core classes in Eigen's class hierarchy and how they fit together. Casual users probably need not concern themselves with these details, but it may be useful for both advanced users and Eigen developers.</p>
<p>\eigenAutoToc</p>
<h1><a class="anchor" id="TopicClassHierarchyPrinciples"></a>
Principles</h1>
<p>Eigen's class hierarchy is designed so that virtual functions are avoided where their overhead would significantly impair performance. Instead, Eigen achieves polymorphism with the Curiously Recurring Template Pattern (CRTP). In this pattern, the base class (for instance, <code>MatrixBase</code>) is in fact a template class, and the derived class (for instance, <code>Matrix</code>) inherits the base class with the derived class itself as a template argument (in this case, <code>Matrix</code> inherits from <code>MatrixBase&lt;Matrix&gt;</code>). This allows Eigen to resolve the polymorphic function calls at compile time.</p>
<p>In addition, the design avoids multiple inheritance. One reason for this is that in our experience, some compilers (like MSVC) fail to perform empty base class optimization, which is crucial for our fixed-size types.</p>
<h1><a class="anchor" id="TopicClassHierarchyCoreClasses"></a>
The core classes</h1>
<p>These are the classes that you need to know about if you want to write functions that accept or return Eigen objects.</p>
<ul>
<li>Matrix means plain dense matrix. If <code>m</code> is a <code>Matrix</code>, then, for instance, <code>m+m</code> is no longer a <code>Matrix</code>, it is a "matrix expression".</li>
<li>MatrixBase means dense matrix expression. This means that a <code>MatrixBase</code> is something that can be added, matrix-multiplied, LU-decomposed, QR-decomposed... All matrix expression classes, including <code>Matrix</code> itself, inherit <code>MatrixBase</code>.</li>
<li>Array means plain dense array. If <code>x</code> is an <code>Array</code>, then, for instance, <code>x+x</code> is no longer an <code>Array</code>, it is an "array expression".</li>
<li>ArrayBase means dense array expression. This means that an <code>ArrayBase</code> is something that can be added, array-multiplied, and on which you can perform all sorts of array operations... All array expression classes, including <code>Array</code> itself, inherit <code>ArrayBase</code>.</li>
<li>DenseBase means dense (matrix or array) expression. Both <code>ArrayBase</code> and <code>MatrixBase</code> inherit <code>DenseBase</code>. <code>DenseBase</code> is where all the methods go that apply to dense expressions regardless of whether they are matrix or array expressions. For example, the <a class="el" href="../../dd/d34/Tutorial__commainit__01b_8cpp.html#a379f624db323dcf7558d0941192f3f91">block(...) </a> methods are in <code>DenseBase</code>.</li>
</ul>
<h1><a class="anchor" id="TopicClassHierarchyBaseClasses"></a>
Base classes</h1>
<p>These classes serve as base classes for the five core classes mentioned above. They are more internal and so less interesting for users of the Eigen library.</p>
<ul>
<li>PlainObjectBase means dense (matrix or array) plain object, i.e. something that stores its own dense array of coefficients. This is where, for instance, the <a class="el" href="../../d0/d0c/classEigen_1_1PlainObjectBase.html#af3e5d2a749f8c744052564267b066c04">resize() </a> methods go. <code>PlainObjectBase</code> is inherited by <code>Matrix</code> and by <code>Array</code>. But above, we said that <code>Matrix</code> inherits <code>MatrixBase</code> and <code>Array</code> inherits <code>ArrayBase</code>. So does that mean multiple inheritance? No, because <code>PlainObjectBase</code> <em>itself</em> inherits <code>MatrixBase</code> or <code>ArrayBase</code> depending on whether we are in the matrix or array case. When we said above that <code>Matrix</code> inherited <code>MatrixBase</code>, we omitted to say it does so indirectly via <code>PlainObjectBase</code>. Same for <code>Array</code>.</li>
<li>DenseCoeffsBase means something that has dense coefficient accessors. It is a base class for <code>DenseBase</code>. The reason for <code>DenseCoeffsBase</code> to exist is that the set of available coefficient accessors is very different depending on whether a dense expression has direct memory access or not (the <code>DirectAccessBit</code> flag). For example, if <code>x</code> is a plain matrix, then <code>x</code> has direct access, and <code>x.transpose()</code> and <code>x.block(...)</code> also have direct access, because their coefficients can be read right off memory, but for example, <code>x+x</code> does not have direct memory access, because obtaining any of its coefficients requires a computation (an addition), it can't be just read off memory.</li>
<li>EigenBase means anything that can be evaluated into a plain dense matrix or array (even if that would be a bad idea). <code>EigenBase</code> is really the absolute base class for anything that remotely looks like a matrix or array. It is a base class for <code>DenseCoeffsBase</code>, so it sits below all our dense class hierarchy, but it is not limited to dense expressions. For example, <code>EigenBase</code> is also inherited by diagonal matrices, sparse matrices, etc...</li>
</ul>
<h1><a class="anchor" id="TopicClassHierarchyInheritanceDiagrams"></a>
Inheritance diagrams</h1>
<p>The inheritance diagram for Matrix looks as follows:</p>
<pre>
EigenBase&lt;Matrix&gt;
  &lt;-- DenseCoeffsBase&lt;Matrix&gt;    (direct access case)
    &lt;-- DenseBase&lt;Matrix&gt;
      &lt;-- MatrixBase&lt;Matrix&gt;
        &lt;-- PlainObjectBase&lt;Matrix&gt;    (matrix case)
          &lt;-- Matrix
</pre><p>The inheritance diagram for Array looks as follows:</p>
<pre>
EigenBase&lt;Array&gt;
  &lt;-- DenseCoeffsBase&lt;Array&gt;    (direct access case)
    &lt;-- DenseBase&lt;Array&gt;
      &lt;-- ArrayBase&lt;Array&gt;
        &lt;-- PlainObjectBase&lt;Array&gt;    (array case)
          &lt;-- Array
</pre><p>The inheritance diagram for some other matrix expression class, here denoted by <code>SomeMatrixXpr</code>, looks as follows:</p>
<pre>
EigenBase&lt;SomeMatrixXpr&gt;
  &lt;-- DenseCoeffsBase&lt;SomeMatrixXpr&gt;    (direct access or no direct access case)
    &lt;-- DenseBase&lt;SomeMatrixXpr&gt;
      &lt;-- MatrixBase&lt;SomeMatrixXpr&gt;
        &lt;-- SomeMatrixXpr
</pre><p>The inheritance diagram for some other array expression class, here denoted by <code>SomeArrayXpr</code>, looks as follows:</p>
<pre>
EigenBase&lt;SomeArrayXpr&gt;
  &lt;-- DenseCoeffsBase&lt;SomeArrayXpr&gt;    (direct access or no direct access case)
    &lt;-- DenseBase&lt;SomeArrayXpr&gt;
      &lt;-- ArrayBase&lt;SomeArrayXpr&gt;
        &lt;-- SomeArrayXpr
</pre><p>Finally, consider an example of something that is not a dense expression, for instance a diagonal matrix. The corresponding inheritance diagram is:</p>
<pre>
EigenBase&lt;DiagonalMatrix&gt;
  &lt;-- DiagonalBase&lt;DiagonalMatrix&gt;
    &lt;-- DiagonalMatrix
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">MercuryDPM Reference Manual</a></li><li class="navelem"><a class="el" href="../../da/dde/UserManual_Generalities.html">General topics</a></li><li class="navelem"><a class="el" href="../../d1/d9b/UserManual_UnderstandingEigen.html">Understanding Eigen</a></li>
    <li class="footer">Generated on Wed Aug 27 2025 17:05:13 for MercuryDPM by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
