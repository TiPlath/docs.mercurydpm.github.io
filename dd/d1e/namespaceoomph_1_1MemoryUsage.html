<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MercuryDPM: oomph::MemoryUsage Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../MDPM.css" rel="stylesheet" type="text/css"/>
<link href="../../codeLabels.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-fork-corner.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-dropdown-version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../MDPM-fragment-copy-button.js"></script>
<script type="text/javascript">
DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="../../MDPM-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="../../MDPM-interactive-toc.js"></script>
<script type="text/javascript">
DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="../../MDPM-darkmode-toggle.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
  <div id="bitbucket-corner">
   <a href="https://bitbucket.org/mercurydpm/mercurydpm/src/master/" target="_blank" id="fork-corner" class="fork-corner fc-pos-tr fc-animate fc-theme-bitbucket"></a>
  </div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../mercury-logo-chosen-light-slogan.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"> <!--MercuryDPM--!>
   <!-- BEGIN version select -->
   <div class="dropdown" id="projectnumber">
    <button class="dropbtn">v1.0</button>
    <div class="dropdown-content">
    </div>
   </div>
   <script type="text/javascript" src="../../MDPM-dropdown-version.js"></script>
<!-- END version select -->
   <!--&#160;<span id="projectnumber">revision: v1.0</span>-->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<script type="text/javascript" src="../../MDPM-fork-corner.js"></script>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/d1e/namespaceoomph_1_1MemoryUsage.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">oomph::MemoryUsage Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aadcb42d5c4ca8099981d75b2d5adcd96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aadcb42d5c4ca8099981d75b2d5adcd96">empty_my_memory_usage_file</a> ()</td></tr>
<tr class="separator:aadcb42d5c4ca8099981d75b2d5adcd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0031773893f06aac876985e38940e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a8a0031773893f06aac876985e38940e4">empty_total_memory_usage_file</a> ()</td></tr>
<tr class="separator:a8a0031773893f06aac876985e38940e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a216dececd7087625de8e2211216cd861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">doc_total_memory_usage</a> (const std::string &amp;prefix_string)</td></tr>
<tr class="separator:a216dececd7087625de8e2211216cd861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47bde23694eeafe80bdcffb3aaeb07a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a47bde23694eeafe80bdcffb3aaeb07a5">empty_memory_usage_files</a> ()</td></tr>
<tr class="separator:a47bde23694eeafe80bdcffb3aaeb07a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa714e9e49de96f4ca6a9fd7ae99dbeab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aa714e9e49de96f4ca6a9fd7ae99dbeab">doc_memory_usage</a> (const std::string &amp;prefix_string)</td></tr>
<tr class="separator:aa714e9e49de96f4ca6a9fd7ae99dbeab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0034019640ac5f6ffe7e8e40fae1e453"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a0034019640ac5f6ffe7e8e40fae1e453">empty_top_file</a> ()</td></tr>
<tr class="separator:a0034019640ac5f6ffe7e8e40fae1e453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c2afeb4ffd85dd771ace27fcb84136"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a53c2afeb4ffd85dd771ace27fcb84136">run_continous_top</a> (const std::string &amp;comment)</td></tr>
<tr class="separator:a53c2afeb4ffd85dd771ace27fcb84136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64410078236ee55e630ee6416b4ccdb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a64410078236ee55e630ee6416b4ccdb0">stop_continous_top</a> (const std::string &amp;comment)</td></tr>
<tr class="separator:a64410078236ee55e630ee6416b4ccdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3426ed2144d50ce7a0941555b911c701"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">insert_comment_to_continous_top</a> (const std::string &amp;comment)</td></tr>
<tr class="memdesc:a3426ed2144d50ce7a0941555b911c701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert comment into running continuous top output.  <a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">More...</a><br /></td></tr>
<tr class="separator:a3426ed2144d50ce7a0941555b911c701"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a77ed83cae1c77e9a046bc6b1ff55645a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">Suppress_mpi_synchronisation</a> = true</td></tr>
<tr class="separator:a77ed83cae1c77e9a046bc6b1ff55645a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5280b46bc1ce506ba96494d6dacbdbe"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#ae5280b46bc1ce506ba96494d6dacbdbe">My_memory_usage_system_string</a> = &quot;ps aux&quot;</td></tr>
<tr class="separator:ae5280b46bc1ce506ba96494d6dacbdbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b52934e2d3ddd6779f5f9581d14abc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a> = false</td></tr>
<tr class="separator:a1b52934e2d3ddd6779f5f9581d14abc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa764cf2d9bfd321a3784aafdd32714bf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aa764cf2d9bfd321a3784aafdd32714bf">My_memory_usage_filename</a> = &quot;my_memory_usage.dat&quot;</td></tr>
<tr class="separator:aa764cf2d9bfd321a3784aafdd32714bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b915316a3658a60e8fa86490c8d013a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a9b915316a3658a60e8fa86490c8d013a">Total_memory_usage_system_string</a></td></tr>
<tr class="separator:a9b915316a3658a60e8fa86490c8d013a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9a74c901df404ddb665921e408a3a3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#afd9a74c901df404ddb665921e408a3a3">Total_memory_usage_filename</a> = &quot;memory_usage.dat&quot;</td></tr>
<tr class="separator:afd9a74c901df404ddb665921e408a3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c07afc6531dcc4f77ae2f2b738383f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a61c07afc6531dcc4f77ae2f2b738383f">Top_system_string</a> = &quot;while true; <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#a721c6ff80a6d3e4ad4ffa52a04c60085">do</a> top -<a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#a9d82f3af1459c1efc910b77f3ccd3180">b</a> -<a class="el" href="../../d5/d24/level2__real__impl_8h.html#a1224f27e9a621d957f8124bcade25bed">n</a> 2 ; done &quot;</td></tr>
<tr class="separator:a61c07afc6531dcc4f77ae2f2b738383f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03231c21b4d9a8b4a08cecc3d688c7d3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a> = &quot;top_output.dat&quot;</td></tr>
<tr class="separator:a03231c21b4d9a8b4a08cecc3d688c7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>///////////////////////////////////////////////////////////////// ///////////////////////////////////////////////////////////////// ///////////////////////////////////////////////////////////////// Namespace with helper functions to assess total memory usage on the fly using system() &ndash; details are very machine specific! This just provides the overall machinery with default settings for our own (linux machines). Uses the system command to spawn a command that computes the total memory usage on the machine where this is called. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; linux or not. MH]</p>
<p>///////////////////////////////////////////////////////////////// ///////////////////////////////////////////////////////////////// ///////////////////////////////////////////////////////////////// Namespace with helper functions to assess total memory usage on the fly using system() &ndash; details are very machine specific! This just provides the overall machinery with default settings for our own (linux machines). Uses the system command to spawn a command that computes the total memory usage on the machine where this is called. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; Linux or not. MH] </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa714e9e49de96f4ca6a9fd7ae99dbeab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa714e9e49de96f4ca6a9fd7ae99dbeab">&#9670;&nbsp;</a></span>doc_memory_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::doc_memory_usage </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix_string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Doc total and local memory usage, prepended by string (which allows identification from where the function is called, say). NOTE: Local memory usage only works if we have unistd.h header</p>
<p>Doc total and local memory usage, prepended by string (which allows identification from where the function is called, say) </p>
<div class="fragment"><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="preprocessor">#ifdef OOMPH_HAS_UNISTDH</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      doc_my_memory_usage(prefix_string);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">doc_total_memory_usage</a>(prefix_string);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    }</div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a1b52934e2d3ddd6779f5f9581d14abc1"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">oomph::MemoryUsage::Bypass_all_memory_usage_monitoring</a></div><div class="ttdeci">bool Bypass_all_memory_usage_monitoring</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1390</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a216dececd7087625de8e2211216cd861"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">oomph::MemoryUsage::doc_total_memory_usage</a></div><div class="ttdeci">void doc_total_memory_usage(const std::string &amp;prefix_string)</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1489</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">doc_total_memory_usage()</a>.</p>

</div>
</div>
<a id="a216dececd7087625de8e2211216cd861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a216dececd7087625de8e2211216cd861">&#9670;&nbsp;</a></span>doc_total_memory_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::doc_total_memory_usage </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix_string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Doc total memory usage, prepended by string (which allows identification from where the function is called, say) that records memory usage in file whose name is specified by Total_memory_usage_filename. Data is appended to that file; wipe it with empty_memory_usage_file().</p>
<p>Doc total memory usage, prepended by string (which allows identification from where the function is called, say) that records mem usage in file whose name is specified by Total_memory_usage_filename. Data is appended to that file; wipe it with empty_memory_usage_file(). </p>
<div class="fragment"><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <span class="comment">// Write prefix</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      std::ofstream the_file;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      the_file.open(<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#afd9a74c901df404ddb665921e408a3a3">Total_memory_usage_filename</a>.c_str(), std::ios::app);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      the_file &lt;&lt; prefix_string &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      the_file.close();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <span class="comment">// Sync all processors if in parallel</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="preprocessor">#ifdef OOMPH_HAS_MPI</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">if</span> ((MPI_Helpers::mpi_has_been_initialised()) &amp;&amp;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;          (!<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">Suppress_mpi_synchronisation</a>))</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        MPI_Barrier(MPI_Helpers::communicator_pt()-&gt;mpi_comm());</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <span class="comment">// Process memory usage command and write to file</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      std::stringstream <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a> &lt;&lt; <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a9b915316a3658a60e8fa86490c8d013a">Total_memory_usage_system_string</a> &lt;&lt; <span class="stringliteral">&quot; &gt;&gt; &quot;</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;          &lt;&lt; <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#afd9a74c901df404ddb665921e408a3a3">Total_memory_usage_filename</a>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordtype">int</span> success = system(<a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>.str().c_str());</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      <span class="comment">// Dummy command to shut up compiler warnings</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      success += 1;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div>
<div class="ttc" id="alevel3__impl_8h_html_a0ab86207641c152874beced8f77894d0"><div class="ttname"><a href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a></div><div class="ttdeci">Eigen::Matrix&lt; Scalar, Dynamic, Dynamic, ColMajor &gt; tmp</div><div class="ttdef"><b>Definition:</b> level3_impl.h:365</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a77ed83cae1c77e9a046bc6b1ff55645a"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">oomph::MemoryUsage::Suppress_mpi_synchronisation</a></div><div class="ttdeci">bool Suppress_mpi_synchronisation</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1378</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a9b915316a3658a60e8fa86490c8d013a"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a9b915316a3658a60e8fa86490c8d013a">oomph::MemoryUsage::Total_memory_usage_system_string</a></div><div class="ttdeci">std::string Total_memory_usage_system_string</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1459</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_afd9a74c901df404ddb665921e408a3a3"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#afd9a74c901df404ddb665921e408a3a3">oomph::MemoryUsage::Total_memory_usage_filename</a></div><div class="ttdeci">std::string Total_memory_usage_filename</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1468</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, <a class="el" href="../../df/d58/classoomph_1_1MPI__Helpers.html#ac16964b22bfd4f657490802beb600ffe">oomph::MPI_Helpers::communicator_pt()</a>, <a class="el" href="../../df/d58/classoomph_1_1MPI__Helpers.html#aa376d403f6bc99e8595d227135932b0e">oomph::MPI_Helpers::mpi_has_been_initialised()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">Suppress_mpi_synchronisation</a>, <a class="el" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#afd9a74c901df404ddb665921e408a3a3">Total_memory_usage_filename</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a9b915316a3658a60e8fa86490c8d013a">Total_memory_usage_system_string</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aa714e9e49de96f4ca6a9fd7ae99dbeab">doc_memory_usage()</a>.</p>

</div>
</div>
<a id="a47bde23694eeafe80bdcffb3aaeb07a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47bde23694eeafe80bdcffb3aaeb07a5">&#9670;&nbsp;</a></span>empty_memory_usage_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::empty_memory_usage_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to empty file that records total and local memory usage in appropriate files </p>
<div class="fragment"><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aadcb42d5c4ca8099981d75b2d5adcd96">empty_my_memory_usage_file</a>();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a8a0031773893f06aac876985e38940e4">empty_total_memory_usage_file</a>();</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a0034019640ac5f6ffe7e8e40fae1e453">empty_top_file</a>();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    }</div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a0034019640ac5f6ffe7e8e40fae1e453"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a0034019640ac5f6ffe7e8e40fae1e453">oomph::MemoryUsage::empty_top_file</a></div><div class="ttdeci">void empty_top_file()</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1564</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a8a0031773893f06aac876985e38940e4"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a8a0031773893f06aac876985e38940e4">oomph::MemoryUsage::empty_total_memory_usage_file</a></div><div class="ttdeci">void empty_total_memory_usage_file()</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1472</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_aadcb42d5c4ca8099981d75b2d5adcd96"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aadcb42d5c4ca8099981d75b2d5adcd96">oomph::MemoryUsage::empty_my_memory_usage_file</a></div><div class="ttdeci">void empty_my_memory_usage_file()</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1402</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aadcb42d5c4ca8099981d75b2d5adcd96">empty_my_memory_usage_file()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a0034019640ac5f6ffe7e8e40fae1e453">empty_top_file()</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a8a0031773893f06aac876985e38940e4">empty_total_memory_usage_file()</a>.</p>

</div>
</div>
<a id="aadcb42d5c4ca8099981d75b2d5adcd96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadcb42d5c4ca8099981d75b2d5adcd96">&#9670;&nbsp;</a></span>empty_my_memory_usage_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::empty_my_memory_usage_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to empty file that records my memory usage in file whose name is specified by My_memory_usage_filename. </p>
<div class="fragment"><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="comment">// Open without appending and write header</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      std::ofstream the_file;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      the_file.open(<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aa764cf2d9bfd321a3784aafdd32714bf">My_memory_usage_filename</a>.c_str());</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      the_file &lt;&lt; <span class="stringliteral">&quot;# My memory usage: \n&quot;</span>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      the_file.close();</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    }</div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_aa764cf2d9bfd321a3784aafdd32714bf"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aa764cf2d9bfd321a3784aafdd32714bf">oomph::MemoryUsage::My_memory_usage_filename</a></div><div class="ttdeci">std::string My_memory_usage_filename</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1398</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aa764cf2d9bfd321a3784aafdd32714bf">My_memory_usage_filename</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a47bde23694eeafe80bdcffb3aaeb07a5">empty_memory_usage_files()</a>.</p>

</div>
</div>
<a id="a0034019640ac5f6ffe7e8e40fae1e453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0034019640ac5f6ffe7e8e40fae1e453">&#9670;&nbsp;</a></span>empty_top_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::empty_top_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to empty file that records continuous output from top in file whose name is specified by Top_output_filename </p>
<div class="fragment"><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="comment">// Open without appending and write header</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      std::ofstream the_file;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      the_file.open(<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a>.c_str());</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      the_file &lt;&lt; <span class="stringliteral">&quot;# Continuous output from top obtained with: \n&quot;</span>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      the_file &lt;&lt; <span class="stringliteral">&quot;# &quot;</span> &lt;&lt; <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a61c07afc6531dcc4f77ae2f2b738383f">Top_system_string</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      the_file.close();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    }</div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a03231c21b4d9a8b4a08cecc3d688c7d3"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">oomph::MemoryUsage::Top_output_filename</a></div><div class="ttdeci">std::string Top_output_filename</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1560</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a61c07afc6531dcc4f77ae2f2b738383f"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a61c07afc6531dcc4f77ae2f2b738383f">oomph::MemoryUsage::Top_system_string</a></div><div class="ttdeci">std::string Top_system_string</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1552</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a61c07afc6531dcc4f77ae2f2b738383f">Top_system_string</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a47bde23694eeafe80bdcffb3aaeb07a5">empty_memory_usage_files()</a>.</p>

</div>
</div>
<a id="a8a0031773893f06aac876985e38940e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0031773893f06aac876985e38940e4">&#9670;&nbsp;</a></span>empty_total_memory_usage_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::empty_total_memory_usage_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to empty file that records total memory usage in file whose name is specified by Total_memory_usage_filename. </p>
<div class="fragment"><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <span class="comment">// Open without appending and write header</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      std::ofstream the_file;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      the_file.open(<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#afd9a74c901df404ddb665921e408a3a3">Total_memory_usage_filename</a>.c_str());</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      the_file &lt;&lt; <span class="stringliteral">&quot;# Total memory usage: \n&quot;</span>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      the_file.close();</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#afd9a74c901df404ddb665921e408a3a3">Total_memory_usage_filename</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a47bde23694eeafe80bdcffb3aaeb07a5">empty_memory_usage_files()</a>.</p>

</div>
</div>
<a id="a3426ed2144d50ce7a0941555b911c701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3426ed2144d50ce7a0941555b911c701">&#9670;&nbsp;</a></span>insert_comment_to_continous_top()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::insert_comment_to_continous_top </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>comment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert comment into running continuous top output. </p>
<div class="fragment"><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      std::stringstream <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a> &lt;&lt; <span class="stringliteral">&quot; echo \&quot;OOMPH-LIB EVENT: &quot;</span> &lt;&lt; comment &lt;&lt; <span class="stringliteral">&quot;\&quot;  &gt;&gt; &quot;</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;          &lt;&lt; <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      <span class="keywordtype">int</span> success = system(<a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>.str().c_str());</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160; </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="comment">// Dummy command to shut up compiler warnings</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      success += 1;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, <a class="el" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a53c2afeb4ffd85dd771ace27fcb84136">run_continous_top()</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a64410078236ee55e630ee6416b4ccdb0">stop_continous_top()</a>.</p>

</div>
</div>
<a id="a53c2afeb4ffd85dd771ace27fcb84136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c2afeb4ffd85dd771ace27fcb84136">&#9670;&nbsp;</a></span>run_continous_top()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::run_continous_top </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>comment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start running top continuously and output (append) into file specified by Top_output_filename. Wipe that file with empty_top_file() if you wish. Note that this is again quite Linux specific and unlikely to work on other operating systems. Insert optional comment into output file before starting.</p>
<p>Start running top continuously and output (append) into file specified by Top_output_filename. Wipe that file with empty_top_file() first if you wish. Note that this is again quite Linux specific and unlikely to work on other operating systems. Insert optional comment into output file before starting. </p>
<div class="fragment"><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <span class="comment">// Sync all processors if in parallel</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <a class="code" href="../../d2/dc3/namespaceoomph_1_1Global__string__for__annotation.html#ac5379de2fa7fe44f2cb31785fc208135">std::string</a> modifier = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="preprocessor">#ifdef OOMPH_HAS_MPI</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="keywordflow">if</span> (MPI_Helpers::mpi_has_been_initialised())</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">Suppress_mpi_synchronisation</a>)</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;          MPI_Barrier(MPI_Helpers::communicator_pt()-&gt;mpi_comm());</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        std::stringstream <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a> &lt;&lt; <span class="stringliteral">&quot;_proc&quot;</span> &lt;&lt; MPI_Helpers::communicator_pt()-&gt;my_rank();</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        modifier = <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>.str();</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <span class="comment">// Process memory usage command and write to file</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      std::stringstream <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      <span class="comment">// String stream seems unhappy about direct insertions of these</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      <a class="code" href="../../d2/dc3/namespaceoomph_1_1Global__string__for__annotation.html#ac5379de2fa7fe44f2cb31785fc208135">std::string</a> backslash = <span class="stringliteral">&quot;\\&quot;</span>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <a class="code" href="../../d2/dc3/namespaceoomph_1_1Global__string__for__annotation.html#ac5379de2fa7fe44f2cb31785fc208135">std::string</a> dollar = <span class="stringliteral">&quot;$&quot;</span>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="comment">// Create files that spawn and kill continuous top</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a> &lt;&lt; <span class="stringliteral">&quot;echo \&quot;#/bin/bash\&quot; &gt; run_continuous_top&quot;</span> &lt;&lt; modifier &lt;&lt; <span class="stringliteral">&quot;.bash; &quot;</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;echo \&quot; echo &quot;</span> &lt;&lt; backslash &lt;&lt; <span class="stringliteral">&quot;\&quot; kill &quot;</span> &lt;&lt; backslash &lt;&lt; dollar</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;          &lt;&lt; backslash &lt;&lt; dollar &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; backslash</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot; &gt; kill_continuous_top&quot;</span> &lt;&lt; modifier</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;.bash; chmod a+x kill_continuous_top&quot;</span> &lt;&lt; modifier &lt;&lt; <span class="stringliteral">&quot;.bash; &quot;</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;          &lt;&lt; <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a61c07afc6531dcc4f77ae2f2b738383f">Top_system_string</a> &lt;&lt; <span class="stringliteral">&quot; \&quot; &gt;&gt; run_continuous_top&quot;</span> &lt;&lt; modifier</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;.bash; chmod a+x run_continuous_top&quot;</span> &lt;&lt; modifier &lt;&lt; <span class="stringliteral">&quot;.bash &quot;</span>;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <span class="keywordtype">int</span> success = system(<a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>.str().c_str());</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="comment">// Add comment to annotate?</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <span class="keywordflow">if</span> (comment != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">insert_comment_to_continous_top</a>(comment);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="comment">// Start spawning</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      std::stringstream tmp2;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      tmp2 &lt;&lt; <span class="stringliteral">&quot;./run_continuous_top&quot;</span> &lt;&lt; modifier &lt;&lt; <span class="stringliteral">&quot;.bash  &gt;&gt; &quot;</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;           &lt;&lt; <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a> &lt;&lt; <span class="stringliteral">&quot; &amp; &quot;</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      success = system(tmp2.str().c_str());</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      <span class="comment">// Dummy command to shut up compiler warnings</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      success += 1;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    }</div>
<div class="ttc" id="anamespaceoomph_1_1Global__string__for__annotation_html_ac5379de2fa7fe44f2cb31785fc208135"><div class="ttname"><a href="../../d2/dc3/namespaceoomph_1_1Global__string__for__annotation.html#ac5379de2fa7fe44f2cb31785fc208135">oomph::Global_string_for_annotation::string</a></div><div class="ttdeci">std::string string(const unsigned &amp;i)</div><div class="ttdef"><b>Definition:</b> oomph_definitions.cc:286</div></div>
<div class="ttc" id="anamespaceoomph_1_1MemoryUsage_html_a3426ed2144d50ce7a0941555b911c701"><div class="ttname"><a href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">oomph::MemoryUsage::insert_comment_to_continous_top</a></div><div class="ttdeci">void insert_comment_to_continous_top(const std::string &amp;comment)</div><div class="ttdoc">Insert comment into running continuous top output.</div><div class="ttdef"><b>Definition:</b> oomph_utilities.cc:1680</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, <a class="el" href="../../df/d58/classoomph_1_1MPI__Helpers.html#ac16964b22bfd4f657490802beb600ffe">oomph::MPI_Helpers::communicator_pt()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">insert_comment_to_continous_top()</a>, <a class="el" href="../../df/d58/classoomph_1_1MPI__Helpers.html#aa376d403f6bc99e8595d227135932b0e">oomph::MPI_Helpers::mpi_has_been_initialised()</a>, <a class="el" href="../../de/d83/classoomph_1_1OomphCommunicator.html#a670b34aab05bfe0b96d0e0fabf583c7a">oomph::OomphCommunicator::my_rank()</a>, <a class="el" href="../../d2/dc3/namespaceoomph_1_1Global__string__for__annotation.html#ac5379de2fa7fe44f2cb31785fc208135">oomph::Global_string_for_annotation::string()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">Suppress_mpi_synchronisation</a>, <a class="el" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a61c07afc6531dcc4f77ae2f2b738383f">Top_system_string</a>.</p>

</div>
</div>
<a id="a64410078236ee55e630ee6416b4ccdb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64410078236ee55e630ee6416b4ccdb0">&#9670;&nbsp;</a></span>stop_continous_top()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oomph::MemoryUsage::stop_continous_top </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>comment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop running top continuously. Note that this is again quite Linux specific and unlikely to work on other operating systems. Insert optional comment into output file before stopping. </p>
<div class="fragment"><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="comment">// bail out straight away?</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      <span class="comment">// Sync all processors if in parallel</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <a class="code" href="../../d2/dc3/namespaceoomph_1_1Global__string__for__annotation.html#ac5379de2fa7fe44f2cb31785fc208135">std::string</a> modifier = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="preprocessor">#ifdef OOMPH_HAS_MPI</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <span class="keywordflow">if</span> (MPI_Helpers::mpi_has_been_initialised())</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">Suppress_mpi_synchronisation</a>)</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;          MPI_Barrier(MPI_Helpers::communicator_pt()-&gt;mpi_comm());</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        std::stringstream <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a> &lt;&lt; <span class="stringliteral">&quot;_proc&quot;</span> &lt;&lt; MPI_Helpers::communicator_pt()-&gt;my_rank();</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        modifier = <a class="code" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>.str();</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      <span class="comment">// Add comment to annotate?</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">if</span> (comment != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">insert_comment_to_continous_top</a>(comment);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <span class="comment">// Kill</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      std::stringstream tmp2;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      tmp2 &lt;&lt; <span class="stringliteral">&quot;./kill_continuous_top&quot;</span> &lt;&lt; modifier &lt;&lt; <span class="stringliteral">&quot;.bash  &gt;&gt; &quot;</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;           &lt;&lt; <a class="code" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a> &lt;&lt; <span class="stringliteral">&quot; &amp; &quot;</span>;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <span class="keywordtype">int</span> success = system(tmp2.str().c_str());</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <span class="comment">// Dummy command to shut up compiler warnings</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      success += 1;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a1b52934e2d3ddd6779f5f9581d14abc1">Bypass_all_memory_usage_monitoring</a>, <a class="el" href="../../df/d58/classoomph_1_1MPI__Helpers.html#ac16964b22bfd4f657490802beb600ffe">oomph::MPI_Helpers::communicator_pt()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">insert_comment_to_continous_top()</a>, <a class="el" href="../../df/d58/classoomph_1_1MPI__Helpers.html#aa376d403f6bc99e8595d227135932b0e">oomph::MPI_Helpers::mpi_has_been_initialised()</a>, <a class="el" href="../../de/d83/classoomph_1_1OomphCommunicator.html#a670b34aab05bfe0b96d0e0fabf583c7a">oomph::OomphCommunicator::my_rank()</a>, <a class="el" href="../../d2/dc3/namespaceoomph_1_1Global__string__for__annotation.html#ac5379de2fa7fe44f2cb31785fc208135">oomph::Global_string_for_annotation::string()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a77ed83cae1c77e9a046bc6b1ff55645a">Suppress_mpi_synchronisation</a>, <a class="el" href="../../da/d67/level3__impl_8h.html#a0ab86207641c152874beced8f77894d0">tmp</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a03231c21b4d9a8b4a08cecc3d688c7d3">Top_output_filename</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1b52934e2d3ddd6779f5f9581d14abc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b52934e2d3ddd6779f5f9581d14abc1">&#9670;&nbsp;</a></span>Bypass_all_memory_usage_monitoring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> oomph::MemoryUsage::Bypass_all_memory_usage_monitoring = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bool allowing quick bypassing of ALL operations related to memory usage monitoring &ndash; this allows the code to remain "instrumented" without incurring the heavy penalties associated with the system calls and i/o. Default setting: false. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aa714e9e49de96f4ca6a9fd7ae99dbeab">doc_memory_usage()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">doc_total_memory_usage()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a47bde23694eeafe80bdcffb3aaeb07a5">empty_memory_usage_files()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aadcb42d5c4ca8099981d75b2d5adcd96">empty_my_memory_usage_file()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a0034019640ac5f6ffe7e8e40fae1e453">empty_top_file()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a8a0031773893f06aac876985e38940e4">empty_total_memory_usage_file()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">insert_comment_to_continous_top()</a>, <a class="el" href="../../d4/d4a/two__d__parallel__unstructured__adaptive__poisson_8cc.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a53c2afeb4ffd85dd771ace27fcb84136">run_continous_top()</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a64410078236ee55e630ee6416b4ccdb0">stop_continous_top()</a>.</p>

</div>
</div>
<a id="aa764cf2d9bfd321a3784aafdd32714bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa764cf2d9bfd321a3784aafdd32714bf">&#9670;&nbsp;</a></span>My_memory_usage_filename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string oomph::MemoryUsage::My_memory_usage_filename = &quot;my_memory_usage.dat&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>String containing name of file in which we document my memory usage &ndash; you may want to change this to allow different processors to write to separate files (especially in mpi context). Note that file is appended to so it ought to be emptied (either manually or by calling helper function empty_memory_usage_file() </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#aadcb42d5c4ca8099981d75b2d5adcd96">empty_my_memory_usage_file()</a>.</p>

</div>
</div>
<a id="ae5280b46bc1ce506ba96494d6dacbdbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5280b46bc1ce506ba96494d6dacbdbe">&#9670;&nbsp;</a></span>My_memory_usage_system_string</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string oomph::MemoryUsage::My_memory_usage_system_string = &quot;ps aux&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>String containing system command that obtains memory usage of all processes. Default assignment for linux. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; linux or not. MH]</p>
<p>String containing system command that obtains memory usage of all processes. Default assignment for Linux. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; Linux or not. MH] </p>

</div>
</div>
<a id="a77ed83cae1c77e9a046bc6b1ff55645a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ed83cae1c77e9a046bc6b1ff55645a">&#9670;&nbsp;</a></span>Suppress_mpi_synchronisation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> oomph::MemoryUsage::Suppress_mpi_synchronisation = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boolean to suppress synchronisation of doc memory usage on processors (via mpi barriers). True (i.e. sync is suppressed) by default because not all processors may reach the relevant doc memory usage statements causing the code to hang).</p>
<p>Boolean to suppress synchronisation of doc memory usage on processors (via mpi barriers). True (i.e. sync is is suppressed by default because not all processors may execute the reach the relevant doc memory usage statements causing the code to hang). </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">doc_total_memory_usage()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a53c2afeb4ffd85dd771ace27fcb84136">run_continous_top()</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a64410078236ee55e630ee6416b4ccdb0">stop_continous_top()</a>.</p>

</div>
</div>
<a id="a03231c21b4d9a8b4a08cecc3d688c7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03231c21b4d9a8b4a08cecc3d688c7d3">&#9670;&nbsp;</a></span>Top_output_filename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string oomph::MemoryUsage::Top_output_filename = &quot;top_output.dat&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>String containing name of file in which we document "continuous" output from "top" (or equivalent)&ndash; you may want to change this to allow different processors to write to separate files (especially in mpi context). Note that file is appended to so it ought to be emptied (either manually or by calling helper function empty_top_file() </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a0034019640ac5f6ffe7e8e40fae1e453">empty_top_file()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a3426ed2144d50ce7a0941555b911c701">insert_comment_to_continous_top()</a>, <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a53c2afeb4ffd85dd771ace27fcb84136">run_continous_top()</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a64410078236ee55e630ee6416b4ccdb0">stop_continous_top()</a>.</p>

</div>
</div>
<a id="a61c07afc6531dcc4f77ae2f2b738383f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61c07afc6531dcc4f77ae2f2b738383f">&#9670;&nbsp;</a></span>Top_system_string</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string oomph::MemoryUsage::Top_system_string = &quot;while true; <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#a721c6ff80a6d3e4ad4ffa52a04c60085">do</a> top -<a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#a9d82f3af1459c1efc910b77f3ccd3180">b</a> -<a class="el" href="../../d5/d24/level2__real__impl_8h.html#a1224f27e9a621d957f8124bcade25bed">n</a> 2 ; done &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>String containing system command that runs "top" (or equivalent) "indefinitely" and writes to file specified in Top_output_filename. Default assignment for linux. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; linux or not. MH]</p>
<p>String containing system command that runs "top" (or equivalent) "indefinitely" and writes to file specified in Top_output_filename. Default assignment for Linux. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; Linux or not. MH] </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a0034019640ac5f6ffe7e8e40fae1e453">empty_top_file()</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a53c2afeb4ffd85dd771ace27fcb84136">run_continous_top()</a>.</p>

</div>
</div>
<a id="afd9a74c901df404ddb665921e408a3a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd9a74c901df404ddb665921e408a3a3">&#9670;&nbsp;</a></span>Total_memory_usage_filename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string oomph::MemoryUsage::Total_memory_usage_filename = &quot;memory_usage.dat&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>String containing name of file in which we document total memory usage &ndash; you may want to change this to allow different processors to write to separate files (especially in mpi context). Note that file is appended to so it ought to be emptied (either manually or by calling helper function empty_memory_usage_file() </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">doc_total_memory_usage()</a>, and <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a8a0031773893f06aac876985e38940e4">empty_total_memory_usage_file()</a>.</p>

</div>
</div>
<a id="a9b915316a3658a60e8fa86490c8d013a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b915316a3658a60e8fa86490c8d013a">&#9670;&nbsp;</a></span>Total_memory_usage_system_string</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string oomph::MemoryUsage::Total_memory_usage_system_string</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      <span class="stringliteral">&quot;ps aux | awk &#39;BEGIN{sum=0}{sum+=$4}END{print sum}&#39;&quot;</span></div>
</div><!-- fragment --><p>String containing system command that obtains total memory usage. Default assignment for linux. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; linux or not. MH]</p>
<p>String containing system command that obtains total memory usage. Default assignment for Linux. [Disclaimer: works on my machine(s) &ndash; no guarantees for any other platform; Linux or not. MH] </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html#a216dececd7087625de8e2211216cd861">doc_total_memory_usage()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../da/ddf/namespaceoomph.html">oomph</a></li><li class="navelem"><a class="el" href="../../dd/d1e/namespaceoomph_1_1MemoryUsage.html">MemoryUsage</a></li>
    <li class="footer">Generated on Wed Aug 27 2025 17:09:39 for MercuryDPM by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
