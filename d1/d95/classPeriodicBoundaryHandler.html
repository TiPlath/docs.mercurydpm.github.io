<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MercuryDPM: PeriodicBoundaryHandler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../MDPM.css" rel="stylesheet" type="text/css"/>
<link href="../../codeLabels.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-fork-corner.css" rel="stylesheet" type="text/css"/>
<link href="../../MDPM-dropdown-version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../MDPM-fragment-copy-button.js"></script>
<script type="text/javascript">
DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="../../MDPM-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="../../MDPM-interactive-toc.js"></script>
<script type="text/javascript">
DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="../../MDPM-darkmode-toggle.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
  <div id="bitbucket-corner">
   <a href="https://bitbucket.org/mercurydpm/mercurydpm/src/master/" target="_blank" id="fork-corner" class="fork-corner fc-pos-tr fc-animate fc-theme-bitbucket"></a>
  </div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../mercury-logo-chosen-light-slogan.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"> <!--MercuryDPM--!>
   <!-- BEGIN version select -->
   <div class="dropdown" id="projectnumber">
    <button class="dropbtn">v1.0</button>
    <div class="dropdown-content">
    </div>
   </div>
   <script type="text/javascript" src="../../MDPM-dropdown-version.js"></script>
<!-- END version select -->
   <!--&#160;<span id="projectnumber">revision: v1.0</span>-->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<script type="text/javascript" src="../../MDPM-fork-corner.js"></script>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d95/classPeriodicBoundaryHandler.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dd/d68/classPeriodicBoundaryHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PeriodicBoundaryHandler Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Container to store pointers to all BasePeriodicBoundary objects.  
 <a href="../../d1/d95/classPeriodicBoundaryHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h_source.html">PeriodicBoundaryHandler.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for PeriodicBoundaryHandler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="../../d1/d95/classPeriodicBoundaryHandler.png" usemap="#PeriodicBoundaryHandler_map" alt=""/>
  <map id="PeriodicBoundaryHandler_map" name="PeriodicBoundaryHandler_map">
<area href="../../d2/dcc/classBaseHandler.html" alt="BaseHandler&lt; BasePeriodicBoundary &gt;" shape="rect" coords="0,0,239,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac58ea0561b4acc4330ab70ec79405ba7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac58ea0561b4acc4330ab70ec79405ba7">PeriodicBoundaryHandler</a> ()</td></tr>
<tr class="memdesc:ac58ea0561b4acc4330ab70ec79405ba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor, it creates an empty PeriodicBoundaryHandler.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ac58ea0561b4acc4330ab70ec79405ba7">More...</a><br /></td></tr>
<tr class="separator:ac58ea0561b4acc4330ab70ec79405ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20145ad9091cdb4545ec6ea8e4d64a2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a20145ad9091cdb4545ec6ea8e4d64a2a">PeriodicBoundaryHandler</a> (const <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html">PeriodicBoundaryHandler</a> &amp;BH)</td></tr>
<tr class="memdesc:a20145ad9091cdb4545ec6ea8e4d64a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that copies all BasePeriodicBoundary it contains and sets the other variables to 0/nullptr.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a20145ad9091cdb4545ec6ea8e4d64a2a">More...</a><br /></td></tr>
<tr class="separator:a20145ad9091cdb4545ec6ea8e4d64a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348b964949571fab41e63edfcfca0b5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html">PeriodicBoundaryHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a348b964949571fab41e63edfcfca0b5f">operator=</a> (const <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html">PeriodicBoundaryHandler</a> &amp;rhs)</td></tr>
<tr class="memdesc:a348b964949571fab41e63edfcfca0b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator, copies only the vector of BasePeriodicBoundary and sets the other variables to 0/nullptr.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a348b964949571fab41e63edfcfca0b5f">More...</a><br /></td></tr>
<tr class="separator:a348b964949571fab41e63edfcfca0b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595c487cba29a0d957599eae95c7a534"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a595c487cba29a0d957599eae95c7a534">~PeriodicBoundaryHandler</a> () override</td></tr>
<tr class="memdesc:a595c487cba29a0d957599eae95c7a534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, it destructs the PeriodicBoundaryHandler and all BasePeriodicBoundary it contains.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a595c487cba29a0d957599eae95c7a534">More...</a><br /></td></tr>
<tr class="separator:a595c487cba29a0d957599eae95c7a534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a056bc07c3b2640572a6b251beb7349b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a056bc07c3b2640572a6b251beb7349b0">addObject</a> (<a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *<a class="el" href="../../da/dc2/VectorwiseOp__homogeneous_8cpp.html#a98fb883180cbb2e5412955dfd6edb605">P</a>) override</td></tr>
<tr class="memdesc:a056bc07c3b2640572a6b251beb7349b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a BasePeriodicBoundary to the PeriodicBoundaryHandler.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a056bc07c3b2640572a6b251beb7349b0">More...</a><br /></td></tr>
<tr class="separator:a056bc07c3b2640572a6b251beb7349b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb33c8462dd6f21698df1eac5df9e72c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#adb33c8462dd6f21698df1eac5df9e72c">readAndAddObject</a> (std::istream &amp;is) override</td></tr>
<tr class="memdesc:adb33c8462dd6f21698df1eac5df9e72c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pure virtual function needs implementation, but it does nothing for the periodicBoudnaryHandler.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#adb33c8462dd6f21698df1eac5df9e72c">More...</a><br /></td></tr>
<tr class="separator:adb33c8462dd6f21698df1eac5df9e72c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade22fd19615be3b22ea8d8dca745faa8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade22fd19615be3b22ea8d8dca745faa8">getName</a> () const override</td></tr>
<tr class="memdesc:ade22fd19615be3b22ea8d8dca745faa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the handler, namely the string "PeriodicBoundaryHandler".  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ade22fd19615be3b22ea8d8dca745faa8">More...</a><br /></td></tr>
<tr class="separator:ade22fd19615be3b22ea8d8dca745faa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4057be23ea84ee972e42a4c0ab80a99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af4057be23ea84ee972e42a4c0ab80a99">setInteractionDistance</a> (<a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> interactionDistance)</td></tr>
<tr class="memdesc:af4057be23ea84ee972e42a4c0ab80a99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the interaction distance.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#af4057be23ea84ee972e42a4c0ab80a99">More...</a><br /></td></tr>
<tr class="separator:af4057be23ea84ee972e42a4c0ab80a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e34f04d7bb223780b914c549f8fbaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aa6e34f04d7bb223780b914c549f8fbaa">getInteractionDistance</a> ()</td></tr>
<tr class="memdesc:aa6e34f04d7bb223780b914c549f8fbaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the interaction distance.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#aa6e34f04d7bb223780b914c549f8fbaa">More...</a><br /></td></tr>
<tr class="separator:aa6e34f04d7bb223780b914c549f8fbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c0adeaa55a505950b5a5a550d6b507"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a76c0adeaa55a505950b5a5a550d6b507">updateStatus</a> (<a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;ghostParticlesToBeDeleted)</td></tr>
<tr class="memdesc:a76c0adeaa55a505950b5a5a550d6b507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the positions/velocity of ghost particles and accordingly the status of these particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a76c0adeaa55a505950b5a5a550d6b507">More...</a><br /></td></tr>
<tr class="separator:a76c0adeaa55a505950b5a5a550d6b507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a393ea8617fb6502828549ca0f935ca81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle)</td></tr>
<tr class="memdesc:a393ea8617fb6502828549ca0f935ca81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shifts the position of the particle based on its current periodic complexity.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">More...</a><br /></td></tr>
<tr class="separator:a393ea8617fb6502828549ca0f935ca81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ade2cb8630c92ddcdf0dc7aca6eb2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a42ade2cb8630c92ddcdf0dc7aca6eb2e">shiftParticle</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle, const std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;complexity)</td></tr>
<tr class="memdesc:a42ade2cb8630c92ddcdf0dc7aca6eb2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shifts the position of the particle based on a given periodic complexity.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a42ade2cb8630c92ddcdf0dc7aca6eb2e">More...</a><br /></td></tr>
<tr class="separator:a42ade2cb8630c92ddcdf0dc7aca6eb2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70cb0d543c069807e92deaaeae3e6d58"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity</a> (<a class="el" href="../../d5/dc1/classVec3D.html">Vec3D</a> position)</td></tr>
<tr class="memdesc:a70cb0d543c069807e92deaaeae3e6d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the periodic complexity based on a given position.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">More...</a><br /></td></tr>
<tr class="separator:a70cb0d543c069807e92deaaeae3e6d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e83ab31122d45f62e58a0480462949a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a3e83ab31122d45f62e58a0480462949a">computePeriodicComplexity</a> (std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;periodicComplexity, <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &amp;totalPeriodicComplexity, <a class="el" href="../../d5/dc1/classVec3D.html">Vec3D</a> position)</td></tr>
<tr class="memdesc:a3e83ab31122d45f62e58a0480462949a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the periodic complexity and total periodic complexity based on a given position.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a3e83ab31122d45f62e58a0480462949a">More...</a><br /></td></tr>
<tr class="separator:a3e83ab31122d45f62e58a0480462949a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fed9f5051c6f38b1b12975ad58ebb8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles</a> ()</td></tr>
<tr class="memdesc:a7fed9f5051c6f38b1b12975ad58ebb8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds new particles to the periodic particle lists.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">More...</a><br /></td></tr>
<tr class="separator:a7fed9f5051c6f38b1b12975ad58ebb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc91cd103173edc7cca97fecde8b96c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#abc91cd103173edc7cca97fecde8b96c4">addNewParticle</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle)</td></tr>
<tr class="memdesc:abc91cd103173edc7cca97fecde8b96c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new particle to the periodic list.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#abc91cd103173edc7cca97fecde8b96c4">More...</a><br /></td></tr>
<tr class="separator:abc91cd103173edc7cca97fecde8b96c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e249d01e036b968af0eb8e956bd4335"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6e249d01e036b968af0eb8e956bd4335">getNumberOfPeriodicGhostParticles</a> ()</td></tr>
<tr class="memdesc:a6e249d01e036b968af0eb8e956bd4335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of particles that are flagged is periodicGhostParticle.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a6e249d01e036b968af0eb8e956bd4335">More...</a><br /></td></tr>
<tr class="separator:a6e249d01e036b968af0eb8e956bd4335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ea983f65c3f2c6170064e61b10c0e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71ea983f65c3f2c6170064e61b10c0e2">getNumberOfTruePeriodicGhostParticles</a> ()</td></tr>
<tr class="memdesc:a71ea983f65c3f2c6170064e61b10c0e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of particles that are flagged as periodicGhostParticles, but not as MPIParticles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a71ea983f65c3f2c6170064e61b10c0e2">More...</a><br /></td></tr>
<tr class="separator:a71ea983f65c3f2c6170064e61b10c0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c27b9fc211923833bb4db3f5b9dc4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a67c27b9fc211923833bb4db3f5b9dc4b">getMPIFlags</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle, <a class="el" href="../../d9/db9/classbool.html">bool</a> &amp;isInMPIDomain, <a class="el" href="../../d9/db9/classbool.html">bool</a> &amp;isMPIParticle)</td></tr>
<tr class="memdesc:a67c27b9fc211923833bb4db3f5b9dc4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a given particle is in the MPI domain and if it is an MPI Particle.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a67c27b9fc211923833bb4db3f5b9dc4b">More...</a><br /></td></tr>
<tr class="separator:a67c27b9fc211923833bb4db3f5b9dc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a29feb7749e56a8bbedf07fe62dc00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">setMPIFlags</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle)</td></tr>
<tr class="memdesc:a25a29feb7749e56a8bbedf07fe62dc00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the MPIParticle and isMPIParticle flags of a given particle.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">More...</a><br /></td></tr>
<tr class="separator:a25a29feb7749e56a8bbedf07fe62dc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6538067d5852993bcc384b27921732e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">generateGhosts</a> (std::vector&lt; std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &gt; &amp;list, std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; periodicComplexity, std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;complexity, <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> level)</td></tr>
<tr class="memdesc:a6538067d5852993bcc384b27921732e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">generates a list of periodic complexities corresponding to a give real particle.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">More...</a><br /></td></tr>
<tr class="separator:a6538067d5852993bcc384b27921732e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe3c06da2bc716774764d1e1a5be99b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData</a> ()</td></tr>
<tr class="memdesc:afe3c06da2bc716774764d1e1a5be99b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects ghost particle data that needs to be be sent to other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">More...</a><br /></td></tr>
<tr class="separator:afe3c06da2bc716774764d1e1a5be99b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c015999e4ff5044de41c88a3f85ee6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">collectInteractionData</a> ()</td></tr>
<tr class="memdesc:ab7c015999e4ff5044de41c88a3f85ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects interaction data into an MPI data structure.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">More...</a><br /></td></tr>
<tr class="separator:ab7c015999e4ff5044de41c88a3f85ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91ed0066f892cf3ad6a530d1d21fdf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData</a> (<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> targetIndex, std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;newParticles)</td></tr>
<tr class="memdesc:ac91ed0066f892cf3ad6a530d1d21fdf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the received ghost data, creates a ghost particle and does some book keeping.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">More...</a><br /></td></tr>
<tr class="separator:ac91ed0066f892cf3ad6a530d1d21fdf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9890abeac910b34f5569ab438eda54d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9890abeac910b34f5569ab438eda54d5">processReceivedInteractionData</a> (<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> targetIndex, std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;newParticles)</td></tr>
<tr class="memdesc:a9890abeac910b34f5569ab438eda54d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the received interaction data.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a9890abeac910b34f5569ab438eda54d5">More...</a><br /></td></tr>
<tr class="separator:a9890abeac910b34f5569ab438eda54d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f5118b9078766197f4d7d561a46cfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">processLocalInteractionData</a> (std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;newParticles)</td></tr>
<tr class="memdesc:a24f5118b9078766197f4d7d561a46cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the interaction data for local ghosts.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">More...</a><br /></td></tr>
<tr class="separator:a24f5118b9078766197f4d7d561a46cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fa1344e246ab98b77863458947d130"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">processPeriodicParticles</a> ()</td></tr>
<tr class="memdesc:a57fa1344e246ab98b77863458947d130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a periodioc particle ID for book keeping and moves the ID to the correct list.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">More...</a><br /></td></tr>
<tr class="separator:a57fa1344e246ab98b77863458947d130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade3bb036c2d726dcacdd0d1b648edd32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles</a> (std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;newParticles)</td></tr>
<tr class="memdesc:ade3bb036c2d726dcacdd0d1b648edd32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates ghost particles of periodic particles that are located on the same processor.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">More...</a><br /></td></tr>
<tr class="separator:ade3bb036c2d726dcacdd0d1b648edd32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae31864154621c4dfa5d244fc2326ad8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles</a> ()</td></tr>
<tr class="memdesc:aae31864154621c4dfa5d244fc2326ad8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates position/velocity and periodic complexity of ghost particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">More...</a><br /></td></tr>
<tr class="separator:aae31864154621c4dfa5d244fc2326ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8cc96878302a0e07178700c6a4a5a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aeb8cc96878302a0e07178700c6a4a5a1">checkIsReal</a> (std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; complexity)</td></tr>
<tr class="memdesc:aeb8cc96878302a0e07178700c6a4a5a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if a periodic complexity is real  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#aeb8cc96878302a0e07178700c6a4a5a1">More...</a><br /></td></tr>
<tr class="separator:aeb8cc96878302a0e07178700c6a4a5a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ef7fd21184c27a2500f48be3c31a2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a86ef7fd21184c27a2500f48be3c31a2c">checkChanged</a> (std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; previousComplexity, std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; complexity)</td></tr>
<tr class="memdesc:a86ef7fd21184c27a2500f48be3c31a2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks of two periodic complexities differ  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a86ef7fd21184c27a2500f48be3c31a2c">More...</a><br /></td></tr>
<tr class="separator:a86ef7fd21184c27a2500f48be3c31a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8748c02dc79845aaa2875fcc37901f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus</a> (<a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;particlesToBeDeleted)</td></tr>
<tr class="memdesc:ae8748c02dc79845aaa2875fcc37901f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the status of periodic particles and ghost particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">More...</a><br /></td></tr>
<tr class="separator:ae8748c02dc79845aaa2875fcc37901f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c86f3f19f8bea107cbe53520b9f0a36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9c86f3f19f8bea107cbe53520b9f0a36">findTargetProcessor</a> (const std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;complexity)</td></tr>
<tr class="memdesc:a9c86f3f19f8bea107cbe53520b9f0a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">For a given complexity this function returns the target processor.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a9c86f3f19f8bea107cbe53520b9f0a36">More...</a><br /></td></tr>
<tr class="separator:a9c86f3f19f8bea107cbe53520b9f0a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd663632174014fefc7b437a2952f58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle)</td></tr>
<tr class="memdesc:afcd663632174014fefc7b437a2952f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a particle is in the periodic domain, but are not flagged as being in the periodic domain.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">More...</a><br /></td></tr>
<tr class="separator:afcd663632174014fefc7b437a2952f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb299e982b0c56110bfbaab525c64ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6eb299e982b0c56110bfbaab525c64ca">checkIfAddNewParticle</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle)</td></tr>
<tr class="separator:a6eb299e982b0c56110bfbaab525c64ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef0acfa02ebe8c2bc9140287615801e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#adef0acfa02ebe8c2bc9140287615801e">findNewParticles</a> ()</td></tr>
<tr class="memdesc:adef0acfa02ebe8c2bc9140287615801e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loops over all particles in the simulation to check if they need to be added to the periodic lists.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#adef0acfa02ebe8c2bc9140287615801e">More...</a><br /></td></tr>
<tr class="separator:adef0acfa02ebe8c2bc9140287615801e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab43137fc1f5f3106435e15b72e96102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">findNewInteractions</a> ()</td></tr>
<tr class="memdesc:aab43137fc1f5f3106435e15b72e96102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds interactions that accompany future ghost particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">More...</a><br /></td></tr>
<tr class="separator:aab43137fc1f5f3106435e15b72e96102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324ff716c33092bfb574bdbe30f330ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">communicateTargetDomains</a> ()</td></tr>
<tr class="memdesc:a324ff716c33092bfb574bdbe30f330ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creats a list of send and receive targets for periodic/ghost particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">More...</a><br /></td></tr>
<tr class="separator:a324ff716c33092bfb574bdbe30f330ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56430d2a59f476c983cd9037d7c3b4d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions</a> ()</td></tr>
<tr class="memdesc:a56430d2a59f476c983cd9037d7c3b4d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communicate the number of new particles and interactions to target processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">More...</a><br /></td></tr>
<tr class="separator:a56430d2a59f476c983cd9037d7c3b4d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b641ee0ea50cb9db8eccd7aead98b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission</a> ()</td></tr>
<tr class="memdesc:a47b641ee0ea50cb9db8eccd7aead98b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial preparation work for sending ghost particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">More...</a><br /></td></tr>
<tr class="separator:a47b641ee0ea50cb9db8eccd7aead98b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2c8607a6aa6691aebbc8131d8651b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission</a> ()</td></tr>
<tr class="memdesc:a6a2c8607a6aa6691aebbc8131d8651b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects and sends the ghost particle data.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">More...</a><br /></td></tr>
<tr class="separator:a6a2c8607a6aa6691aebbc8131d8651b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acecb2eb7cbcd69b025c33fe60076bc46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission</a> ()</td></tr>
<tr class="memdesc:acecb2eb7cbcd69b025c33fe60076bc46"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates the ghost particles and performs some bookkeeping to keep track of them  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">More...</a><br /></td></tr>
<tr class="separator:acecb2eb7cbcd69b025c33fe60076bc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a95ef3390d944a93898b505708c2767"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate</a> ()</td></tr>
<tr class="memdesc:a9a95ef3390d944a93898b505708c2767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects the position and velocity data from periodic boundaries.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">More...</a><br /></td></tr>
<tr class="separator:a9a95ef3390d944a93898b505708c2767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb953b6065b97b77a5ddf6da7ce7cd2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate</a> ()</td></tr>
<tr class="memdesc:afb953b6065b97b77a5ddf6da7ce7cd2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communicates position and velocity data from periodic boundaries and updates ghost particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">More...</a><br /></td></tr>
<tr class="separator:afb953b6065b97b77a5ddf6da7ce7cd2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af603886bc708208dd31daac7960baf58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af603886bc708208dd31daac7960baf58">flushParticles</a> (<a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;particlesToBeFlushed)</td></tr>
<tr class="memdesc:af603886bc708208dd31daac7960baf58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes particles from the periodiocParticleList_ and periociGhostList_.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#af603886bc708208dd31daac7960baf58">More...</a><br /></td></tr>
<tr class="separator:af603886bc708208dd31daac7960baf58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6189d2fe8111c5d603ac57aefa6e7dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae6189d2fe8111c5d603ac57aefa6e7dc">cleanCommunicationList</a> (std::vector&lt; <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleIDBase</a> * &gt; &amp;list)</td></tr>
<tr class="memdesc:ae6189d2fe8111c5d603ac57aefa6e7dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the nullptr's from a communication list.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ae6189d2fe8111c5d603ac57aefa6e7dc">More...</a><br /></td></tr>
<tr class="separator:ae6189d2fe8111c5d603ac57aefa6e7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ece233a096b3f023fb9daef7c09bbd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1ece233a096b3f023fb9daef7c09bbd2">cleanCommunicationLists</a> ()</td></tr>
<tr class="separator:a1ece233a096b3f023fb9daef7c09bbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac427546a49d70cbfdb6334bf9627258f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac427546a49d70cbfdb6334bf9627258f">clearCommunicationLists</a> ()</td></tr>
<tr class="memdesc:ac427546a49d70cbfdb6334bf9627258f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all ghost particles and bookkeeping for a fresh start.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ac427546a49d70cbfdb6334bf9627258f">More...</a><br /></td></tr>
<tr class="separator:ac427546a49d70cbfdb6334bf9627258f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310274fe4f9a3ce533d1a50aca45da59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a310274fe4f9a3ce533d1a50aca45da59">initialise</a> ()</td></tr>
<tr class="memdesc:a310274fe4f9a3ce533d1a50aca45da59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the communication list vectors as they can not be determined on compile time.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a310274fe4f9a3ce533d1a50aca45da59">More...</a><br /></td></tr>
<tr class="separator:a310274fe4f9a3ce533d1a50aca45da59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67233e9c84ba615b2fc2685f0e51a275"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a67233e9c84ba615b2fc2685f0e51a275">flushPeriodicParticles</a> (<a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;particlesToBeDeleted)</td></tr>
<tr class="memdesc:a67233e9c84ba615b2fc2685f0e51a275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes periodioc particles that need to be deleted from the periodic lists.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a67233e9c84ba615b2fc2685f0e51a275">More...</a><br /></td></tr>
<tr class="separator:a67233e9c84ba615b2fc2685f0e51a275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0457d853f8f5208f19f07823907062b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0457d853f8f5208f19f07823907062b4">performActionsBeforeAddingParticles</a> ()</td></tr>
<tr class="memdesc:a0457d853f8f5208f19f07823907062b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actions that boundaries perform before adding new periodic/ghost particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a0457d853f8f5208f19f07823907062b4">More...</a><br /></td></tr>
<tr class="separator:a0457d853f8f5208f19f07823907062b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050c02d31e678f698fe2e26d2d57db99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a050c02d31e678f698fe2e26d2d57db99">updateMaserParticle</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle)</td></tr>
<tr class="memdesc:a050c02d31e678f698fe2e26d2d57db99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the maser flag of particles leaving the maser.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a050c02d31e678f698fe2e26d2d57db99">More...</a><br /></td></tr>
<tr class="separator:a050c02d31e678f698fe2e26d2d57db99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad650565a808f51f033ce83469ac5015b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ad650565a808f51f033ce83469ac5015b">findBoundariesToIgnore</a> (<a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *particle, std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;periodicComplexity, <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &amp;totalPeriodicComplexity)</td></tr>
<tr class="memdesc:ad650565a808f51f033ce83469ac5015b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables boundaries that need to be ignored (i.e. a non-maser particle needs to ignore the maser boundary)  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ad650565a808f51f033ce83469ac5015b">More...</a><br /></td></tr>
<tr class="separator:ad650565a808f51f033ce83469ac5015b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBaseHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBaseHandler')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d2/dcc/classBaseHandler.html">BaseHandler&lt; BasePeriodicBoundary &gt;</a></td></tr>
<tr class="memitem:a06798f3d53cd86c06eab9a6f6dc1f761 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a06798f3d53cd86c06eab9a6f6dc1f761">BaseHandler</a> ()</td></tr>
<tr class="memdesc:a06798f3d53cd86c06eab9a6f6dc1f761 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default BaseHandler constructor, it creates an empty BaseHandler and assigns DPMBase_ to a null pointer.  <a href="../../d2/dcc/classBaseHandler.html#a06798f3d53cd86c06eab9a6f6dc1f761">More...</a><br /></td></tr>
<tr class="separator:a06798f3d53cd86c06eab9a6f6dc1f761 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e406bf117098d0aec3714e1b855cd7 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#ab3e406bf117098d0aec3714e1b855cd7">BaseHandler</a> (const <a class="el" href="../../d2/dcc/classBaseHandler.html">BaseHandler</a>&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> &gt; &amp;BH)</td></tr>
<tr class="memdesc:ab3e406bf117098d0aec3714e1b855cd7 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that copies the objects of the given handler into itself and sets other variables to 0/nullptr.  <a href="../../d2/dcc/classBaseHandler.html#ab3e406bf117098d0aec3714e1b855cd7">More...</a><br /></td></tr>
<tr class="separator:ab3e406bf117098d0aec3714e1b855cd7 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c113179454fd741b0b511c7a76ebaf inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#ae0c113179454fd741b0b511c7a76ebaf">~BaseHandler</a> ()</td></tr>
<tr class="memdesc:ae0c113179454fd741b0b511c7a76ebaf inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, it destructs the BaseHandler and all Object it contains.  <a href="../../d2/dcc/classBaseHandler.html#ae0c113179454fd741b0b511c7a76ebaf">More...</a><br /></td></tr>
<tr class="separator:ae0c113179454fd741b0b511c7a76ebaf inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad086d5fcc1a0dd0318c2c935c21c48 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#acad086d5fcc1a0dd0318c2c935c21c48">copyContentsFromOtherHandler</a> (const <a class="el" href="../../d2/dcc/classBaseHandler.html">BaseHandler</a>&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> &gt; &amp;BH)</td></tr>
<tr class="memdesc:acad086d5fcc1a0dd0318c2c935c21c48 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that copies the contents (vector of pointers, maxObject_, nextId_, DPMBase_) from one handler (container) to the other.  <a href="../../d2/dcc/classBaseHandler.html#acad086d5fcc1a0dd0318c2c935c21c48">More...</a><br /></td></tr>
<tr class="separator:acad086d5fcc1a0dd0318c2c935c21c48 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754b1413287a1c07e42bc2096e62ce6e inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">std::enable_if&lt;!std::is_pointer&lt; U &gt;::value, U * &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">copyAndAddObject</a> (const U &amp;<a class="el" href="../../dc/dd8/classobject.html">object</a>)</td></tr>
<tr class="memdesc:a754b1413287a1c07e42bc2096e62ce6e inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a copy of a Object and adds it to the BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a754b1413287a1c07e42bc2096e62ce6e">More...</a><br /></td></tr>
<tr class="separator:a754b1413287a1c07e42bc2096e62ce6e inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c3fa4748ef312ba6fea0e5c3b8f988 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">std::enable_if&lt; std::is_pointer&lt; U &gt;::value, U &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a34c3fa4748ef312ba6fea0e5c3b8f988">copyAndAddObject</a> (const U <a class="el" href="../../dc/dd8/classobject.html">object</a>)</td></tr>
<tr class="memdesc:a34c3fa4748ef312ba6fea0e5c3b8f988 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a copy of a Object and adds it to the BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a34c3fa4748ef312ba6fea0e5c3b8f988">More...</a><br /></td></tr>
<tr class="separator:a34c3fa4748ef312ba6fea0e5c3b8f988 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34869d1a05322d89a60e01b5f0d01388 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">std::enable_if&lt;!std::is_pointer&lt; U &gt;::value, U * &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a34869d1a05322d89a60e01b5f0d01388">copyAndAddGhostObject</a> (const U &amp;<a class="el" href="../../dc/dd8/classobject.html">object</a>)</td></tr>
<tr class="memdesc:a34869d1a05322d89a60e01b5f0d01388 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a copy of a Object and adds it to the BaseHandler. This is one locally for inserting mpi particles, they avoid the global check if the particle can actually be inserted, because the mpi domain already knows that is the case.  <a href="../../d2/dcc/classBaseHandler.html#a34869d1a05322d89a60e01b5f0d01388">More...</a><br /></td></tr>
<tr class="separator:a34869d1a05322d89a60e01b5f0d01388 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6855798cea5aec6ab31a42ec4b95f63 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">std::enable_if&lt; std::is_pointer&lt; U &gt;::value, U &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#af6855798cea5aec6ab31a42ec4b95f63">copyAndAddGhostObject</a> (const U <a class="el" href="../../dc/dd8/classobject.html">object</a>)</td></tr>
<tr class="memdesc:af6855798cea5aec6ab31a42ec4b95f63 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a copy of a Object and adds it to the BaseHandler. This is one locally for inserting mpi particles, they avoid the global check if the particle can actually be inserted, because the mpi domain already knows that is the case.  <a href="../../d2/dcc/classBaseHandler.html#af6855798cea5aec6ab31a42ec4b95f63">More...</a><br /></td></tr>
<tr class="separator:af6855798cea5aec6ab31a42ec4b95f63 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6a3876a4d39b258dd93dbdb66d6781 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#aef6a3876a4d39b258dd93dbdb66d6781">addExistingObject</a> (<a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *<a class="el" href="../../d8/dfe/classO.html">O</a>)</td></tr>
<tr class="memdesc:aef6a3876a4d39b258dd93dbdb66d6781 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an existing object to the BaseHandler without changing the id of the object.  <a href="../../d2/dcc/classBaseHandler.html#aef6a3876a4d39b258dd93dbdb66d6781">More...</a><br /></td></tr>
<tr class="separator:aef6a3876a4d39b258dd93dbdb66d6781 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5fbd6a737e016cc7e3f6374d8fde4d inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a5b5fbd6a737e016cc7e3f6374d8fde4d">addObject</a> (<a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *<a class="el" href="../../dc/dd8/classobject.html">object</a>)</td></tr>
<tr class="memdesc:a5b5fbd6a737e016cc7e3f6374d8fde4d inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new Object to the BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a5b5fbd6a737e016cc7e3f6374d8fde4d">More...</a><br /></td></tr>
<tr class="separator:a5b5fbd6a737e016cc7e3f6374d8fde4d inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93829fcc85011bacc4e857b6da972ab inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#ac93829fcc85011bacc4e857b6da972ab">addGhostObject</a> (<a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *<a class="el" href="../../d8/dfe/classO.html">O</a>)</td></tr>
<tr class="memdesc:ac93829fcc85011bacc4e857b6da972ab inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new Object to the BaseHandler. called by the to avoid increasing the id.  <a href="../../d2/dcc/classBaseHandler.html#ac93829fcc85011bacc4e857b6da972ab">More...</a><br /></td></tr>
<tr class="separator:ac93829fcc85011bacc4e857b6da972ab inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b9bfd087a6715774b05fa29f25dbb8 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#aa9b9bfd087a6715774b05fa29f25dbb8">removeIf</a> (const std::function&lt; <a class="el" href="../../d9/db9/classbool.html">bool</a>(<a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *)&gt; cond)</td></tr>
<tr class="separator:aa9b9bfd087a6715774b05fa29f25dbb8 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a009fdf17c17c76e605624957e518436a inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a009fdf17c17c76e605624957e518436a">removeObject</a> (<a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> const <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> index)</td></tr>
<tr class="memdesc:a009fdf17c17c76e605624957e518436a inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an Object from the BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a009fdf17c17c76e605624957e518436a">More...</a><br /></td></tr>
<tr class="separator:a009fdf17c17c76e605624957e518436a inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfccf9430dd332421c9ea1460b6a1e0 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#afbfccf9430dd332421c9ea1460b6a1e0">removeObjects</a> (std::vector&lt; <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; indices)</td></tr>
<tr class="separator:afbfccf9430dd332421c9ea1460b6a1e0 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeadd27c048f522b09dde0e437b5fd9ad inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#aeadd27c048f522b09dde0e437b5fd9ad">removeLastObject</a> ()</td></tr>
<tr class="memdesc:aeadd27c048f522b09dde0e437b5fd9ad inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the last Object from the BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#aeadd27c048f522b09dde0e437b5fd9ad">More...</a><br /></td></tr>
<tr class="separator:aeadd27c048f522b09dde0e437b5fd9ad inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c76f64e8d5f3515b8077be60a4e57af inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a4c76f64e8d5f3515b8077be60a4e57af">clear</a> ()</td></tr>
<tr class="memdesc:a4c76f64e8d5f3515b8077be60a4e57af inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empties the whole BaseHandler by removing all Objects and setting all other variables to 0.  <a href="../../d2/dcc/classBaseHandler.html#a4c76f64e8d5f3515b8077be60a4e57af">More...</a><br /></td></tr>
<tr class="separator:a4c76f64e8d5f3515b8077be60a4e57af inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0beb68cdd596b20c3789e6554899eb54 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a0beb68cdd596b20c3789e6554899eb54">read</a> (std::istream &amp;is)</td></tr>
<tr class="memdesc:a0beb68cdd596b20c3789e6554899eb54 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all objects from restart data.  <a href="../../d2/dcc/classBaseHandler.html#a0beb68cdd596b20c3789e6554899eb54">More...</a><br /></td></tr>
<tr class="separator:a0beb68cdd596b20c3789e6554899eb54 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9dd1e2792d7c896ea806dff1987bf1d inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#ae9dd1e2792d7c896ea806dff1987bf1d">getObjectById</a> (const <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> id)</td></tr>
<tr class="memdesc:ae9dd1e2792d7c896ea806dff1987bf1d inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the Object at the specified index in the BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#ae9dd1e2792d7c896ea806dff1987bf1d">More...</a><br /></td></tr>
<tr class="separator:ae9dd1e2792d7c896ea806dff1987bf1d inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c71175baea84af5b79e8fc15a82e55 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#ac4c71175baea84af5b79e8fc15a82e55">getObjectsById</a> (const <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> id)</td></tr>
<tr class="memdesc:ac4c71175baea84af5b79e8fc15a82e55 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a vector of pointers to the objects with the specific id.  <a href="../../d2/dcc/classBaseHandler.html#ac4c71175baea84af5b79e8fc15a82e55">More...</a><br /></td></tr>
<tr class="separator:ac4c71175baea84af5b79e8fc15a82e55 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9ef43ffd48e502f93fce796ca05701 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">getObject</a> (const <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> id)</td></tr>
<tr class="memdesc:add9ef43ffd48e502f93fce796ca05701 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the Object at the specified index in the BaseHandler. <br  />
  <a href="../../d2/dcc/classBaseHandler.html#add9ef43ffd48e502f93fce796ca05701">More...</a><br /></td></tr>
<tr class="separator:add9ef43ffd48e502f93fce796ca05701 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ee3c8b8031674b3a4cef92a19da43e inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a15ee3c8b8031674b3a4cef92a19da43e">getObject</a> (const <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> id) const</td></tr>
<tr class="memdesc:a15ee3c8b8031674b3a4cef92a19da43e inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a constant pointer to the Object at the specified index in the BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a15ee3c8b8031674b3a4cef92a19da43e">More...</a><br /></td></tr>
<tr class="separator:a15ee3c8b8031674b3a4cef92a19da43e inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7cff62ff30bc63be61534ce38f017ce inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#af7cff62ff30bc63be61534ce38f017ce">getLastObject</a> ()</td></tr>
<tr class="memdesc:af7cff62ff30bc63be61534ce38f017ce inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the last Object in this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#af7cff62ff30bc63be61534ce38f017ce">More...</a><br /></td></tr>
<tr class="separator:af7cff62ff30bc63be61534ce38f017ce inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a580d94f7c2946fbc37047439389e0e inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a1a580d94f7c2946fbc37047439389e0e">getLastObject</a> () const</td></tr>
<tr class="memdesc:a1a580d94f7c2946fbc37047439389e0e inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a constant pointer to the last Object in this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a1a580d94f7c2946fbc37047439389e0e">More...</a><br /></td></tr>
<tr class="separator:a1a580d94f7c2946fbc37047439389e0e inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd4235fddb12b834576707a4c499160 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a1bd4235fddb12b834576707a4c499160">getNumberOfObjects</a> () const</td></tr>
<tr class="memdesc:a1bd4235fddb12b834576707a4c499160 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of real Object in this BaseHandler. (i.e. no mpi or periodic particles)  <a href="../../d2/dcc/classBaseHandler.html#a1bd4235fddb12b834576707a4c499160">More...</a><br /></td></tr>
<tr class="separator:a1bd4235fddb12b834576707a4c499160 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fcc1d0188f3626c74f7e0dc1170673c inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a> () const</td></tr>
<tr class="memdesc:a8fcc1d0188f3626c74f7e0dc1170673c inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the particleHandler (including mpi and periodic particles)  <a href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">More...</a><br /></td></tr>
<tr class="separator:a8fcc1d0188f3626c74f7e0dc1170673c inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7760fb05d8185503c8b256dc176b745d inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a7760fb05d8185503c8b256dc176b745d">getStorageCapacity</a> () const</td></tr>
<tr class="memdesc:a7760fb05d8185503c8b256dc176b745d inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the storage capacity of this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a7760fb05d8185503c8b256dc176b745d">More...</a><br /></td></tr>
<tr class="separator:a7760fb05d8185503c8b256dc176b745d inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5543728476cdad0a543aef1c699350a8 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a5543728476cdad0a543aef1c699350a8">setStorageCapacity</a> (const <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> <a class="el" href="../../da/d21/constructor_8cpp.html#a4051a9225a2612a796f1506ecddafb00a2c63acbe79d9f41ba6bb7766e9c37702">N</a>)</td></tr>
<tr class="memdesc:a5543728476cdad0a543aef1c699350a8 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the storage capacity of this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a5543728476cdad0a543aef1c699350a8">More...</a><br /></td></tr>
<tr class="separator:a5543728476cdad0a543aef1c699350a8 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9759154fe3ab8725fe3ce34429f04329 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a9759154fe3ab8725fe3ce34429f04329">resize</a> (const <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> <a class="el" href="../../da/d21/constructor_8cpp.html#a4051a9225a2612a796f1506ecddafb00a2c63acbe79d9f41ba6bb7766e9c37702">N</a>, const <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> &amp;obj)</td></tr>
<tr class="memdesc:a9759154fe3ab8725fe3ce34429f04329 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the container to contain N elements.  <a href="../../d2/dcc/classBaseHandler.html#a9759154fe3ab8725fe3ce34429f04329">More...</a><br /></td></tr>
<tr class="separator:a9759154fe3ab8725fe3ce34429f04329 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db117578dc741cf6d63dbb9876bd4bc inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> * &gt;::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a6db117578dc741cf6d63dbb9876bd4bc">begin</a> () const</td></tr>
<tr class="memdesc:a6db117578dc741cf6d63dbb9876bd4bc inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the begin of the const_iterator over all Object in this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a6db117578dc741cf6d63dbb9876bd4bc">More...</a><br /></td></tr>
<tr class="separator:a6db117578dc741cf6d63dbb9876bd4bc inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0c495cc8d0fdb42786d7153b2451e0 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> * &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#aba0c495cc8d0fdb42786d7153b2451e0">begin</a> ()</td></tr>
<tr class="memdesc:aba0c495cc8d0fdb42786d7153b2451e0 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the begin of the iterator over all BaseBoundary in this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#aba0c495cc8d0fdb42786d7153b2451e0">More...</a><br /></td></tr>
<tr class="separator:aba0c495cc8d0fdb42786d7153b2451e0 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a796442239aec92a881041f7c573e38d3 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> * &gt;::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a796442239aec92a881041f7c573e38d3">end</a> () const</td></tr>
<tr class="memdesc:a796442239aec92a881041f7c573e38d3 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the end of the const_iterator over all BaseBoundary in this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a796442239aec92a881041f7c573e38d3">More...</a><br /></td></tr>
<tr class="separator:a796442239aec92a881041f7c573e38d3 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ecfde2501bfdef2a7473523d1c93297 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> * &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a0ecfde2501bfdef2a7473523d1c93297">end</a> ()</td></tr>
<tr class="memdesc:a0ecfde2501bfdef2a7473523d1c93297 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the end of the iterator over all BaseBoundary in this BaseHandler.  <a href="../../d2/dcc/classBaseHandler.html#a0ecfde2501bfdef2a7473523d1c93297">More...</a><br /></td></tr>
<tr class="separator:a0ecfde2501bfdef2a7473523d1c93297 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab200a6e9972afa2078ec610a5da7f1 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a0ab200a6e9972afa2078ec610a5da7f1">setDPMBase</a> (<a class="el" href="../../d5/d89/classDPMBase.html">DPMBase</a> *<a class="el" href="../../d5/d89/classDPMBase.html">DPMBase</a>)</td></tr>
<tr class="memdesc:a0ab200a6e9972afa2078ec610a5da7f1 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the problem that is solved using this handler.  <a href="../../d2/dcc/classBaseHandler.html#a0ab200a6e9972afa2078ec610a5da7f1">More...</a><br /></td></tr>
<tr class="separator:a0ab200a6e9972afa2078ec610a5da7f1 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8935db583d092cb65d56615daebc0824 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a8935db583d092cb65d56615daebc0824">setId</a> (<a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *<a class="el" href="../../dc/dd8/classobject.html">object</a>, <a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> id)</td></tr>
<tr class="separator:a8935db583d092cb65d56615daebc0824 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd861017aec086ff6957584b131e8a1 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#acbd861017aec086ff6957584b131e8a1">increaseId</a> ()</td></tr>
<tr class="separator:acbd861017aec086ff6957584b131e8a1 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c7307974e718b196e60b49c1f865b0 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a65c7307974e718b196e60b49c1f865b0">getNextId</a> ()</td></tr>
<tr class="separator:a65c7307974e718b196e60b49c1f865b0 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d107f49cb39fb16e74f8bdf4a5498bc inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a9d107f49cb39fb16e74f8bdf4a5498bc">setNextId</a> (<a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> id)</td></tr>
<tr class="separator:a9d107f49cb39fb16e74f8bdf4a5498bc inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d73e1a8818f17c2bdbad2264a141ca inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d89/classDPMBase.html">DPMBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a> ()</td></tr>
<tr class="memdesc:aa7d73e1a8818f17c2bdbad2264a141ca inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the problem that is solved using this handler.  <a href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">More...</a><br /></td></tr>
<tr class="separator:aa7d73e1a8818f17c2bdbad2264a141ca inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4754ed639c4e54491eb7362a5bbf63eb inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d89/classDPMBase.html">DPMBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a4754ed639c4e54491eb7362a5bbf63eb">getDPMBase</a> () const</td></tr>
<tr class="memdesc:a4754ed639c4e54491eb7362a5bbf63eb inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the problem that is solved using this handler and does not change the class.  <a href="../../d2/dcc/classBaseHandler.html#a4754ed639c4e54491eb7362a5bbf63eb">More...</a><br /></td></tr>
<tr class="separator:a4754ed639c4e54491eb7362a5bbf63eb inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4060cffb6d982603083da4a59aa84a35 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a4060cffb6d982603083da4a59aa84a35">writeVTK</a> () const</td></tr>
<tr class="memdesc:a4060cffb6d982603083da4a59aa84a35 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">now empty function for writing VTK files.  <a href="../../d2/dcc/classBaseHandler.html#a4060cffb6d982603083da4a59aa84a35">More...</a><br /></td></tr>
<tr class="separator:a4060cffb6d982603083da4a59aa84a35 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41578966c28fba842c535506c8143894 inherit pub_methods_classBaseHandler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a41578966c28fba842c535506c8143894">getNextGroupId</a> ()</td></tr>
<tr class="memdesc:a41578966c28fba842c535506c8143894 inherit pub_methods_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should be called each time you assign a groupId. Returns the value of nextGroupId_ and increases nextGroupId_ by one.  <a href="../../d2/dcc/classBaseHandler.html#a41578966c28fba842c535506c8143894">More...</a><br /></td></tr>
<tr class="separator:a41578966c28fba842c535506c8143894 inherit pub_methods_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a22a0aefd5a6cd2ea66c44b765e1a7144"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a></td></tr>
<tr class="memdesc:a22a0aefd5a6cd2ea66c44b765e1a7144"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interaction distance between a position and the boundary for which particles start to participate with a boundary or not.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">More...</a><br /></td></tr>
<tr class="separator:a22a0aefd5a6cd2ea66c44b765e1a7144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec54174b3b6b52738646b576fc91ee5b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a></td></tr>
<tr class="memdesc:aec54174b3b6b52738646b576fc91ee5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list that keeps track which target processors the current processor is receiving new particles from.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">More...</a><br /></td></tr>
<tr class="separator:aec54174b3b6b52738646b576fc91ee5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcad85ddabc2c7b68d4cb4434fec52cd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a></td></tr>
<tr class="memdesc:afcad85ddabc2c7b68d4cb4434fec52cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list that keeps track to which targets this processor is sending new particles to.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">More...</a><br /></td></tr>
<tr class="separator:afcad85ddabc2c7b68d4cb4434fec52cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a449bae002a6f996c55660bfdff97e2cc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a></td></tr>
<tr class="memdesc:a449bae002a6f996c55660bfdff97e2cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector that stores how many new ghost particles will be received from other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">More...</a><br /></td></tr>
<tr class="separator:a449bae002a6f996c55660bfdff97e2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e04cf035880b2473905910fd6e294e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a></td></tr>
<tr class="memdesc:a55e04cf035880b2473905910fd6e294e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector that stores how many particles are going to be send to other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">More...</a><br /></td></tr>
<tr class="separator:a55e04cf035880b2473905910fd6e294e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb9a655cc97a054443e9c42e6ef6856"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a></td></tr>
<tr class="memdesc:aefb9a655cc97a054443e9c42e6ef6856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the number of new interactions to be send to target processor corresponding to sendTargetList_.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">More...</a><br /></td></tr>
<tr class="separator:aefb9a655cc97a054443e9c42e6ef6856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6714f6062ff52e99afa55cea019eda"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a></td></tr>
<tr class="memdesc:afb6714f6062ff52e99afa55cea019eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the number of new interactions to be received from target processor corresponding to receiveTargetList_.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">More...</a><br /></td></tr>
<tr class="separator:afb6714f6062ff52e99afa55cea019eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28535947c53535345e889562aa070f1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../df/d55/classMPIParticle.html">MPIParticle</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a></td></tr>
<tr class="memdesc:ae28535947c53535345e889562aa070f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for particles that are being received from other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">More...</a><br /></td></tr>
<tr class="separator:ae28535947c53535345e889562aa070f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebdc8f6a820ff0e9e5cdf76fbbe06e4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../df/d55/classMPIParticle.html">MPIParticle</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a></td></tr>
<tr class="memdesc:acebdc8f6a820ff0e9e5cdf76fbbe06e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for particles that are being send to other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">More...</a><br /></td></tr>
<tr class="separator:acebdc8f6a820ff0e9e5cdf76fbbe06e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67cb0fad070436e7304b10c63e7fce3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a></td></tr>
<tr class="memdesc:ab67cb0fad070436e7304b10c63e7fce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for periodic complexity that is being received from other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">More...</a><br /></td></tr>
<tr class="separator:ab67cb0fad070436e7304b10c63e7fce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9bd41dfb6481378ff63de04f61df79b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a></td></tr>
<tr class="memdesc:af9bd41dfb6481378ff63de04f61df79b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for periodic complexity that is being send to other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">More...</a><br /></td></tr>
<tr class="separator:af9bd41dfb6481378ff63de04f61df79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b60fb40c96132c28c0e00449b85804c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../d8/dfe/classMPIParticlePosition.html">MPIParticlePosition</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a></td></tr>
<tr class="memdesc:a0b60fb40c96132c28c0e00449b85804c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for position data that is being received from other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">More...</a><br /></td></tr>
<tr class="separator:a0b60fb40c96132c28c0e00449b85804c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf0ba961a5a5ae651e924256b19f227"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../d8/dfe/classMPIParticlePosition.html">MPIParticlePosition</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">updatePositionDataSend_</a></td></tr>
<tr class="memdesc:a8bf0ba961a5a5ae651e924256b19f227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for position data that is being send to other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">More...</a><br /></td></tr>
<tr class="separator:a8bf0ba961a5a5ae651e924256b19f227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c4d5cf26f5c95e1fb999c87d7a10cc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../d9/d6d/classMPIParticleVelocity.html">MPIParticleVelocity</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a></td></tr>
<tr class="memdesc:ac6c4d5cf26f5c95e1fb999c87d7a10cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for velocity data that is being received from other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">More...</a><br /></td></tr>
<tr class="separator:ac6c4d5cf26f5c95e1fb999c87d7a10cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af243c7a13194e6db6cb6ff78d2926909"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../d9/d6d/classMPIParticleVelocity.html">MPIParticleVelocity</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">updateVelocityDataSend_</a></td></tr>
<tr class="memdesc:af243c7a13194e6db6cb6ff78d2926909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data container for velocity data that is being send to other processors.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">More...</a><br /></td></tr>
<tr class="separator:af243c7a13194e6db6cb6ff78d2926909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344413d2630f097557e5bd488da18425"><td class="memItemLeft" align="right" valign="top">std::vector&lt; void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a></td></tr>
<tr class="memdesc:a344413d2630f097557e5bd488da18425"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the interaction data that is going to be send.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">More...</a><br /></td></tr>
<tr class="separator:a344413d2630f097557e5bd488da18425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77291fc44b9ae334533736b973d7b366"><td class="memItemLeft" align="right" valign="top">std::vector&lt; void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a></td></tr>
<tr class="memdesc:a77291fc44b9ae334533736b973d7b366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the interaction data that is going to be received.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">More...</a><br /></td></tr>
<tr class="separator:a77291fc44b9ae334533736b973d7b366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe72b6c83450e2d79ca0a564f2f3c51"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a5651a54bbb22de568575ca5fd2bc71e7">PeriodicList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a></td></tr>
<tr class="separator:a7fe72b6c83450e2d79ca0a564f2f3c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71164088eccf5e5bff3589c4a99ad0a3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a></td></tr>
<tr class="separator:a71164088eccf5e5bff3589c4a99ad0a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e855677695cd60089c35a3c9356a608"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a5651a54bbb22de568575ca5fd2bc71e7">PeriodicList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a></td></tr>
<tr class="memdesc:a1e855677695cd60089c35a3c9356a608"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector the size of the number of processors, each entry containing a vector of periodic particle ID's to keep track of periodic particles and their corresponding ghosts.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">More...</a><br /></td></tr>
<tr class="separator:a1e855677695cd60089c35a3c9356a608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19018297a60b632fde532b4188a7a2f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a635a1dfa2b7eb20c456fd98cb48f1616">PeriodicGhostList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a></td></tr>
<tr class="memdesc:af19018297a60b632fde532b4188a7a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector the size of the number of processors, each entry containing a vector of ghost periodioc particle ID's to keep track of periodic ghost particles and their corresponding real particles.  <a href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">More...</a><br /></td></tr>
<tr class="separator:af19018297a60b632fde532b4188a7a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classBaseHandler"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classBaseHandler')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d2/dcc/classBaseHandler.html">BaseHandler&lt; BasePeriodicBoundary &gt;</a></td></tr>
<tr class="memitem:a37a9a52ffe0bf56dd613681a7c4fc4dd inherit pro_attribs_classBaseHandler"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a></td></tr>
<tr class="memdesc:a37a9a52ffe0bf56dd613681a7c4fc4dd inherit pro_attribs_classBaseHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual list of Object pointers.  <a href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">More...</a><br /></td></tr>
<tr class="separator:a37a9a52ffe0bf56dd613681a7c4fc4dd inherit pro_attribs_classBaseHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Container to store pointers to all BasePeriodicBoundary objects. </p>
<p>The PeriodicBoundaryHandler is a container to store all BasePeriodicBoundary. It is implemented by a vector of pointers to BasePeriodicBoundary. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac58ea0561b4acc4330ab70ec79405ba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58ea0561b4acc4330ab70ec79405ba7">&#9670;&nbsp;</a></span>PeriodicBoundaryHandler() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PeriodicBoundaryHandler::PeriodicBoundaryHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor, it creates an empty PeriodicBoundaryHandler. </p>
<p>Constructor of the PeriodicBoundaryHandler class. It creates and empty PeriodicBoundaryHandler. </p>
<div class="fragment"><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a> = 0;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <span class="stringliteral">&quot;PeriodicBoundaryHandler::PeriodicBoundaryHandler() finished&quot;</span>);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
<div class="ttc" id="aLogger_8cc_html_a6bb54690071023a814dfcb33b0a5d9a4"><div class="ttname"><a href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a></div><div class="ttdeci">Logger&lt; MERCURYDPM_LOGLEVEL &gt; logger(&quot;MercuryKernel&quot;)</div><div class="ttdoc">Definition of different loggers with certain modules. A user can define its own custom logger here.</div></div>
<div class="ttc" id="aLogger_8h_html_a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15"><div class="ttname"><a href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">Log::DEBUG</a></div><div class="ttdeci">@ DEBUG</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a22a0aefd5a6cd2ea66c44b765e1a7144"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">PeriodicBoundaryHandler::interactionDistance_</a></div><div class="ttdeci">Mdouble interactionDistance_</div><div class="ttdoc">The interaction distance between a position and the boundary for which particles start to participate...</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:292</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>, and <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>.</p>

</div>
</div>
<a id="a20145ad9091cdb4545ec6ea8e4d64a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20145ad9091cdb4545ec6ea8e4d64a2a">&#9670;&nbsp;</a></span>PeriodicBoundaryHandler() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PeriodicBoundaryHandler::PeriodicBoundaryHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html">PeriodicBoundaryHandler</a> &amp;&#160;</td>
          <td class="paramname"><em>PBH</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor that copies all BasePeriodicBoundary it contains and sets the other variables to 0/nullptr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BH</td><td>The PeriodicBoundaryHandler that has to be copied.</td></tr>
  </table>
  </dd>
</dl>
<p>This is not a copy constructor! It just copies all BasePeriodicBoundary from the other handler into this handler, and clears all other variables. </p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>.clear();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="../../d2/dcc/classBaseHandler.html#a0ab200a6e9972afa2078ec610a5da7f1">setDPMBase</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a> = PBH.<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <span class="stringliteral">&quot;PeriodicBoundaryHandler::PeriodicBoundaryHandler(const PeriodicBoundaryHandler &amp;BH) finished&quot;</span>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="ttc" id="aclassBaseHandler_html_a0ab200a6e9972afa2078ec610a5da7f1"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#a0ab200a6e9972afa2078ec610a5da7f1">BaseHandler&lt; BasePeriodicBoundary &gt;::setDPMBase</a></div><div class="ttdeci">void setDPMBase(DPMBase *DPMBase)</div><div class="ttdoc">Sets the problem that is solved using this handler.</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:726</div></div>
<div class="ttc" id="aclassBaseHandler_html_a37a9a52ffe0bf56dd613681a7c4fc4dd"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a></div><div class="ttdeci">std::vector&lt; BasePeriodicBoundary * &gt; objects_</div><div class="ttdoc">The actual list of Object pointers.</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:283</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a>, and <a class="el" href="../../d2/dcc/classBaseHandler.html#a0ab200a6e9972afa2078ec610a5da7f1">BaseHandler&lt; BasePeriodicBoundary &gt;::setDPMBase()</a>.</p>

</div>
</div>
<a id="a595c487cba29a0d957599eae95c7a534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595c487cba29a0d957599eae95c7a534">&#9670;&nbsp;</a></span>~PeriodicBoundaryHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PeriodicBoundaryHandler::~PeriodicBoundaryHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor, it destructs the PeriodicBoundaryHandler and all BasePeriodicBoundary it contains. </p>
<p>Default destructor. Note that the delete for all boundaries is done in the BaseHandler. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000355">Todo:</a></b></dt><dd>MX: Because the periodicBoundaryHandler contains a pointer to a boundary, which is also in the boundary handler currently we just need to empty the PeriodicBoundaryHandler without destroying the object Otherwise we create a segfault in the BoundaryHandler </dd></dl>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>.clear();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <span class="stringliteral">&quot;PeriodicBoundaryHandler::~PeriodicBoundaryHandler() finished&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, and <a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abc91cd103173edc7cca97fecde8b96c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc91cd103173edc7cca97fecde8b96c4">&#9670;&nbsp;</a></span>addNewParticle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::addNewParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new particle to the periodic list. </p>
<p>When a user or an insertion boundary is adding a single new particle to the system, this function will add it to the corresponding lists if required. If this is the case, the particle will be communicated to the receiving processor in a three step process. First the processors communicate which each other to determine who is getting how many particles from who. Secondly the actual data transfer is performed and thirdly the received data is processed into the correct bookkeeping lists. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">particle</td><td>The particle that is (or not) being add to the periodic lists. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#ifdef MERCURYDPM_USE_MPI</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a> == 1)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;getCurrentDomain()-&gt;containsParticle(particle))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="comment">//Step 1: Find if the new particle needs to be added</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle</a>(particle);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">//Follow the standard communication routine</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission</a>();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="ttc" id="aGeneralDefine_8h_html_a8ffe5ac0e1d75193240b455918741263"><div class="ttname"><a href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a></div><div class="ttdeci">#define NUMBER_OF_PROCESSORS</div><div class="ttdoc">For the MPI communication routines this quantity is often required. defining this macro makes the cod...</div><div class="ttdef"><b>Definition:</b> GeneralDefine.h:41</div></div>
<div class="ttc" id="aclassBaseHandler_html_aa7d73e1a8818f17c2bdbad2264a141ca"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase</a></div><div class="ttdeci">DPMBase * getDPMBase()</div><div class="ttdoc">Gets the problem that is solved using this handler.</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:733</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a47b641ee0ea50cb9db8eccd7aead98b1"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">PeriodicBoundaryHandler::prepareNewParticleTransmission</a></div><div class="ttdeci">void prepareNewParticleTransmission()</div><div class="ttdoc">Initial preparation work for sending ghost particles.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1468</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a6a2c8607a6aa6691aebbc8131d8651b4"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">PeriodicBoundaryHandler::performNewParticleTransmission</a></div><div class="ttdeci">void performNewParticleTransmission()</div><div class="ttdoc">Collects and sends the ghost particle data.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1483</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_acecb2eb7cbcd69b025c33fe60076bc46"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">PeriodicBoundaryHandler::finaliseNewParticleTransmission</a></div><div class="ttdeci">void finaliseNewParticleTransmission()</div><div class="ttdoc">creates the ghost particles and performs some bookkeeping to keep track of them</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1564</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_afcd663632174014fefc7b437a2952f58"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">PeriodicBoundaryHandler::findNewParticle</a></div><div class="ttdeci">void findNewParticle(BaseParticle *particle)</div><div class="ttdoc">Checks if a particle is in the periodic domain, but are not flagged as being in the periodic domain.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1249</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d89/classDPMBase.html#a2c42394e04ed4fcfe815c79765ae401f">DPMBase::insertGhostParticle()</a>.</p>

</div>
</div>
<a id="a7fed9f5051c6f38b1b12975ad58ebb8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fed9f5051c6f38b1b12975ad58ebb8f">&#9670;&nbsp;</a></span>addNewParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::addNewParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds new particles to the periodic particle lists. </p>
<p>This function adds new particles to the periodiocBoundary lists. Particles that are not yet flagged as periodic(ghost) particles are checked if they entered the interaction distances of periodic boundaries. If this is the case these will be communicated to the other processors in a three step process. First the processors communicate which each other to determine who is getting how many particles from who. Secondly the actual data transfer is performed and thirdly the received data is processed into the correct bookkeeping lists. </p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">#ifdef MERCURYDPM_USE_MPI</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a> == 1)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">//Step 0: Perform actions before finding new particles. I.e. opening maser boundary</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0457d853f8f5208f19f07823907062b4">performActionsBeforeAddingParticles</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">//Step 1: Find new particles, such that the target domains can be found</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#adef0acfa02ebe8c2bc9140287615801e">findNewParticles</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">//Step 3: Communicate number of particles/interactions to other dommains</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">//Step 4: Perform data transmission</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">//Step 5: Finalise data transmission</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a0457d853f8f5208f19f07823907062b4"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a0457d853f8f5208f19f07823907062b4">PeriodicBoundaryHandler::performActionsBeforeAddingParticles</a></div><div class="ttdeci">void performActionsBeforeAddingParticles()</div><div class="ttdoc">Actions that boundaries perform before adding new periodic/ghost particles.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1772</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_adef0acfa02ebe8c2bc9140287615801e"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#adef0acfa02ebe8c2bc9140287615801e">PeriodicBoundaryHandler::findNewParticles</a></div><div class="ttdeci">void findNewParticles()</div><div class="ttdoc">Loops over all particles in the simulation to check if they need to be added to the periodic lists.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1306</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#adef0acfa02ebe8c2bc9140287615801e">findNewParticles()</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0457d853f8f5208f19f07823907062b4">performActionsBeforeAddingParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d10/classSubcriticalMaserBoundaryTEST.html#a93db8168e66765cbdc0c1f697e749594">SubcriticalMaserBoundaryTEST::activateMaser()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a056bc07c3b2640572a6b251beb7349b0">addObject()</a>, <a class="el" href="../../d5/d89/classDPMBase.html#aba8d8e66bd2d0a936243a8fb17aa3de9">DPMBase::performGhostParticleUpdate()</a>, <a class="el" href="../../d5/d89/classDPMBase.html#af5d2bd34ca0a26fa63f47205dd9d4a62">DPMBase::read()</a>, and <a class="el" href="../../d5/d89/classDPMBase.html#a75b6730534b2cf3c4e2392230493182e">DPMBase::updateGhostGrid()</a>.</p>

</div>
</div>
<a id="a056bc07c3b2640572a6b251beb7349b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a056bc07c3b2640572a6b251beb7349b0">&#9670;&nbsp;</a></span>addObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::addObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a> *&#160;</td>
          <td class="paramname"><em>P</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a BasePeriodicBoundary to the PeriodicBoundaryHandler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">P</td><td>A pointer to the BasePeriodicBoundary (or derived class) that has to be added. Add the object and tell the object that this is his handler. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#ifdef MERCURYDPM_USE_MPI</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a> == 1)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">//Puts the particle in the Particle list</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>.push_back(<a class="code" href="../../de/dbd/namespaceGlobal__Physical__Variables.html#a23c2ade6398f54040b869f7f3a2bcc4b">P</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">//set the particleHandler pointer</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../de/dbd/namespaceGlobal__Physical__Variables.html#a23c2ade6398f54040b869f7f3a2bcc4b">P</a>-&gt;setPeriodicHandler(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">//Remove all ghost particles</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac427546a49d70cbfdb6334bf9627258f">clearCommunicationLists</a>();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">//Initialise ghost particles</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a7fed9f5051c6f38b1b12975ad58ebb8f"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">PeriodicBoundaryHandler::addNewParticles</a></div><div class="ttdeci">void addNewParticles()</div><div class="ttdoc">Adds new particles to the periodic particle lists.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:278</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ac427546a49d70cbfdb6334bf9627258f"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ac427546a49d70cbfdb6334bf9627258f">PeriodicBoundaryHandler::clearCommunicationLists</a></div><div class="ttdeci">void clearCommunicationLists()</div><div class="ttdoc">Removes all ghost particles and bookkeeping for a fresh start.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1785</div></div>
<div class="ttc" id="anamespaceGlobal__Physical__Variables_html_a23c2ade6398f54040b869f7f3a2bcc4b"><div class="ttname"><a href="../../de/dbd/namespaceGlobal__Physical__Variables.html#a23c2ade6398f54040b869f7f3a2bcc4b">Global_Physical_Variables::P</a></div><div class="ttdeci">double P</div><div class="ttdoc">Uniform pressure.</div><div class="ttdef"><b>Definition:</b> TwenteMeshGluing.cpp:77</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac427546a49d70cbfdb6334bf9627258f">clearCommunicationLists()</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a>, and <a class="el" href="../../de/dbd/namespaceGlobal__Physical__Variables.html#a23c2ade6398f54040b869f7f3a2bcc4b">Global_Physical_Variables::P</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/ddb/classBoundaryHandler.html#a42eddc1aa8e37afd65664829691f874e">BoundaryHandler::addObject()</a>.</p>

</div>
</div>
<a id="a86ef7fd21184c27a2500f48be3c31a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ef7fd21184c27a2500f48be3c31a2c">&#9670;&nbsp;</a></span>checkChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> PeriodicBoundaryHandler::checkChanged </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td>
          <td class="paramname"><em>previousComplexity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td>
          <td class="paramname"><em>complexity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks of two periodic complexities differ </p>
<p>A large part of the status update requires on if the periodic complexity of the real particle is changed. This function will check if the previous and current periodic complexity differ. If this is the case it returns true, if they remain the same the function returns false </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">previousPeriodicComplexity</td><td>A periodioc complexity vector that is used as reference </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">currentPeriodicComplexity</td><td>A periodic complexity that is checked for difference against a reference periodic complexity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the periodic complexity as changed with respect to the reference periodic complexity. returns false if the periodic complexity is exactly the same. </dd></dl>
<div class="fragment"><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;{</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; currentComplexity.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">if</span> (previousComplexity[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] != currentComplexity[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">return</span> changed;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div>
<div class="ttc" id="aBiCGSTAB__step__by__step_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> BiCGSTAB_step_by_step.cpp:9</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="a6eb299e982b0c56110bfbaab525c64ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eb299e982b0c56110bfbaab525c64ca">&#9670;&nbsp;</a></span>checkIfAddNewParticle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> PeriodicBoundaryHandler::checkIfAddNewParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;{</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">if</span> (particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a07dc428ee44dddf663c5ae221baddfd7">isPeriodicGhostParticle</a>())</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    }</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a792893e7ddefac7c4682bf5b48aaa02b">isInPeriodicDomain</a>())</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;}</div>
<div class="ttc" id="aclassBaseParticle_html_a07dc428ee44dddf663c5ae221baddfd7"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a07dc428ee44dddf663c5ae221baddfd7">BaseParticle::isPeriodicGhostParticle</a></div><div class="ttdeci">bool isPeriodicGhostParticle() const</div><div class="ttdoc">Indicates if this particle is a ghost in the periodic boundary.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:280</div></div>
<div class="ttc" id="aclassBaseParticle_html_a792893e7ddefac7c4682bf5b48aaa02b"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a792893e7ddefac7c4682bf5b48aaa02b">BaseParticle::isInPeriodicDomain</a></div><div class="ttdeci">bool isInPeriodicDomain() const</div><div class="ttdoc">Indicates if the particle is in the periodic boundary communication zone.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:270</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d52/classBaseParticle.html#a792893e7ddefac7c4682bf5b48aaa02b">BaseParticle::isInPeriodicDomain()</a>, and <a class="el" href="../../db/d52/classBaseParticle.html#a07dc428ee44dddf663c5ae221baddfd7">BaseParticle::isPeriodicGhostParticle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle()</a>.</p>

</div>
</div>
<a id="aeb8cc96878302a0e07178700c6a4a5a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8cc96878302a0e07178700c6a4a5a1">&#9670;&nbsp;</a></span>checkIsReal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> PeriodicBoundaryHandler::checkIsReal </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td>
          <td class="paramname"><em>complexity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if a periodic complexity is real </p>
<p>An important distinction between periodic particles is if they are real or not. This check is generally required for the particle status update. A real particle only has positive periodic complexity values. So the moment a negative value is found it is clear the particle is not real. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">complexity</td><td>The periodic complexity that indicates the status of the periodic particle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>When the particle is real this function returns true, otherwise it will return false. </dd></dl>
<div class="fragment"><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;{</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordtype">bool</span> isReal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d6c/namespacemathsFunc.html#a522900942ccbfdf1bb7ce604486a43b5">mathsFunc::sign</a>(complexity[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]) == -1)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            isReal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span> isReal;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="ttc" id="aclassBaseHandler_html_a8fcc1d0188f3626c74f7e0dc1170673c"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize</a></div><div class="ttdeci">unsigned int getSize() const</div><div class="ttdoc">Gets the size of the particleHandler (including mpi and periodic particles)</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:663</div></div>
<div class="ttc" id="anamespacemathsFunc_html_a522900942ccbfdf1bb7ce604486a43b5"><div class="ttname"><a href="../../d6/d6c/namespacemathsFunc.html#a522900942ccbfdf1bb7ce604486a43b5">mathsFunc::sign</a></div><div class="ttdeci">int sign(T val)</div><div class="ttdoc">This is a sign function, it returns -1 for negative numbers, 1 for positive numbers and 0 for 0.</div><div class="ttdef"><b>Definition:</b> ExtendedMath.h:77</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, and <a class="el" href="../../d6/d6c/namespacemathsFunc.html#a522900942ccbfdf1bb7ce604486a43b5">mathsFunc::sign()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="ae6189d2fe8111c5d603ac57aefa6e7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6189d2fe8111c5d603ac57aefa6e7dc">&#9670;&nbsp;</a></span>cleanCommunicationList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::cleanCommunicationList </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleIDBase</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the nullptr's from a communication list. </p>
<p>When a particle is deleted the ID is also removed, but to ensure everything happens in the same order a nullptr is introduced instead. This function removes these nullptr's by adding the last entry of the list on such empty spot and making the list shorter. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">list</td><td>A list of MPiPeriodicParticleIDBase's that need to be cleaned from empty entries </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;{</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; list.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="keywordflow">if</span> (list[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            list[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = list.back();</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            list.pop_back();</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>--;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1ece233a096b3f023fb9daef7c09bbd2">cleanCommunicationLists()</a>.</p>

</div>
</div>
<a id="a1ece233a096b3f023fb9daef7c09bbd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ece233a096b3f023fb9daef7c09bbd2">&#9670;&nbsp;</a></span>cleanCommunicationLists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::cleanCommunicationLists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;{</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae6189d2fe8111c5d603ac57aefa6e7dc">cleanCommunicationList</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae6189d2fe8111c5d603ac57aefa6e7dc">cleanCommunicationList</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a1e855677695cd60089c35a3c9356a608"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">PeriodicBoundaryHandler::periodicParticleList_</a></div><div class="ttdeci">std::vector&lt; PeriodicList &gt; periodicParticleList_</div><div class="ttdoc">A vector the size of the number of processors, each entry containing a vector of periodic particle ID...</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:395</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ae6189d2fe8111c5d603ac57aefa6e7dc"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ae6189d2fe8111c5d603ac57aefa6e7dc">PeriodicBoundaryHandler::cleanCommunicationList</a></div><div class="ttdeci">void cleanCommunicationList(std::vector&lt; MpiPeriodicParticleIDBase * &gt; &amp;list)</div><div class="ttdoc">Removes the nullptr's from a communication list.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1737</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_af19018297a60b632fde532b4188a7a2f"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">PeriodicBoundaryHandler::periodicGhostList_</a></div><div class="ttdeci">std::vector&lt; PeriodicGhostList &gt; periodicGhostList_</div><div class="ttdoc">A vector the size of the number of processors, each entry containing a vector of ghost periodioc part...</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:402</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae6189d2fe8111c5d603ac57aefa6e7dc">cleanCommunicationList()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d89/classDPMBase.html#a6c0f07eec6136972a627a1dd7a9d62b1">DPMBase::checkInteractionWithBoundaries()</a>, and <a class="el" href="../../d5/d89/classDPMBase.html#a3c04a49c14b1fd3702c0e900b81d0255">DPMBase::deleteGhostParticles()</a>.</p>

</div>
</div>
<a id="ac427546a49d70cbfdb6334bf9627258f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac427546a49d70cbfdb6334bf9627258f">&#9670;&nbsp;</a></span>clearCommunicationLists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::clearCommunicationLists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all ghost particles and bookkeeping for a fresh start. </p>
<p>This function deletes all periodic/ghost ID's and all corresponding ghosts. starting with a fresh clean periodicBoundaryHandler. Useful when another boundary is added - after - particles already have been added </p>
<div class="fragment"><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;{</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a> &gt; 1)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="comment">//Clear ID lists</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>)</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <span class="comment">//logger(INFO,&quot;Size: %&quot;,periodicParticleList_[i].size());</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = 0; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> &lt; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.size(); <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>++)</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>[<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>];</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.clear();</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>)</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = 0; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> &lt; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.size(); <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>++)</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>[<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>];</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            }</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.clear();</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        <span class="comment">//Collect all ghost particles and unflag</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <a class="code" href="../../d5/d6e/classParticleHandler.html">ParticleHandler</a>&amp; pH = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        std::set&lt;BaseParticle*&gt; toBeDeleted; <span class="comment">//Set because I am too lazy to implement a vector based flushParticle function</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle : pH)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            <span class="keywordflow">if</span> (particle-&gt;isPeriodicGhostParticle())</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;            {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                toBeDeleted.insert(particle);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            }</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="comment">//Unflag its periodicity</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            particle-&gt;setInPeriodicDomain(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="comment">//Flush from mpi boundary and clean the lists</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a6cf9dde64d55808cec7380f0f97a9f84">getCurrentDomain</a>()-&gt;<a class="code" href="../../d2/dc6/classDomain.html#ac988cd50e7b6341748835eeeceb053b6">flushParticles</a>(toBeDeleted);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a6cf9dde64d55808cec7380f0f97a9f84">getCurrentDomain</a>()-&gt;<a class="code" href="../../d2/dc6/classDomain.html#a6dfec3e593bf724af7fe7c32d8d25b57">cleanCommunicationLists</a>();</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="comment">//Delete particles</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle : toBeDeleted)</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            pH.removeGhostObject(particle-&gt;getIndex());</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        }</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    }</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;}</div>
<div class="ttc" id="aclassBaseParticle_html"><div class="ttname"><a href="../../db/d52/classBaseParticle.html">BaseParticle</a></div><div class="ttdef"><b>Definition:</b> BaseParticle.h:33</div></div>
<div class="ttc" id="aclassDPMBase_html_a6cf9dde64d55808cec7380f0f97a9f84"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a6cf9dde64d55808cec7380f0f97a9f84">DPMBase::getCurrentDomain</a></div><div class="ttdeci">Domain * getCurrentDomain()</div><div class="ttdoc">Function that returns a pointer to the domain corresponding to the processor.</div><div class="ttdef"><b>Definition:</b> DPMBase.cc:5378</div></div>
<div class="ttc" id="aclassDPMBase_html_aa22f67770bd177c2527680ef54b3a9f2"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">DPMBase::particleHandler</a></div><div class="ttdeci">ParticleHandler particleHandler</div><div class="ttdoc">An object of the class ParticleHandler, contains the pointers to all the particles created.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1443</div></div>
<div class="ttc" id="aclassDomain_html_a6dfec3e593bf724af7fe7c32d8d25b57"><div class="ttname"><a href="../../d2/dc6/classDomain.html#a6dfec3e593bf724af7fe7c32d8d25b57">Domain::cleanCommunicationLists</a></div><div class="ttdeci">void cleanCommunicationLists()</div><div class="ttdoc">Removes nullptrs from boundaryParticleList_ and boundaryParticleListNeighbour_.</div><div class="ttdef"><b>Definition:</b> Domain.cc:1721</div></div>
<div class="ttc" id="aclassDomain_html_ac988cd50e7b6341748835eeeceb053b6"><div class="ttname"><a href="../../d2/dc6/classDomain.html#ac988cd50e7b6341748835eeeceb053b6">Domain::flushParticles</a></div><div class="ttdeci">void flushParticles(std::set&lt; BaseParticle * &gt; &amp;toBeDeletedList)</div><div class="ttdoc">Particles that are going to be deleted from the simulation are flushed out of the communication bound...</div><div class="ttdef"><b>Definition:</b> Domain.cc:1677</div></div>
<div class="ttc" id="aclassParticleHandler_html"><div class="ttname"><a href="../../d5/d6e/classParticleHandler.html">ParticleHandler</a></div><div class="ttdoc">Container to store pointers to all particles.</div><div class="ttdef"><b>Definition:</b> ParticleHandler.h:28</div></div>
<div class="ttc" id="atut__arithmetic__redux__minmax_8cpp_html_a39513f0f8d942bf9ef17b2e87ac6d34e"><div class="ttname"><a href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a></div><div class="ttdeci">std::ptrdiff_t j</div><div class="ttdef"><b>Definition:</b> tut_arithmetic_redux_minmax.cpp:2</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dc6/classDomain.html#a6dfec3e593bf724af7fe7c32d8d25b57">Domain::cleanCommunicationLists()</a>, <a class="el" href="../../d2/dc6/classDomain.html#ac988cd50e7b6341748835eeeceb053b6">Domain::flushParticles()</a>, <a class="el" href="../../d5/d89/classDPMBase.html#a6cf9dde64d55808cec7380f0f97a9f84">DPMBase::getCurrentDomain()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">DPMBase::particleHandler</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>, and <a class="el" href="../../d5/d6e/classParticleHandler.html#a337162381b0ae115f8cd030e92db86d1">ParticleHandler::removeGhostObject()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d10/classSubcriticalMaserBoundaryTEST.html#a93db8168e66765cbdc0c1f697e749594">SubcriticalMaserBoundaryTEST::activateMaser()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a056bc07c3b2640572a6b251beb7349b0">addObject()</a>.</p>

</div>
</div>
<a id="afe3c06da2bc716774764d1e1a5be99b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3c06da2bc716774764d1e1a5be99b3">&#9670;&nbsp;</a></span>collectGhostParticleData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::collectGhostParticleData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects ghost particle data that needs to be be sent to other processors. </p>
<p>Sending ghosts to other processors is done in an non-blocking communication way and hence the data needs to be stored somewhere. This function collects and stores the data in a convenient format. </p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">//For all new target lists</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> numberOfTargets = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a>.resize(numberOfTargets);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a>.resize(numberOfTargets);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfTargets; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="comment">//For all new ghost particles copy particle data and periodic complexity</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = 0; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>++)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleID</a>* ppid = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]][<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>];</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle = ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(<a class="code" href="../../d2/d58/MpiDataClass_8cc.html#af297c6d2e750bd379677eca0ffeee91b">copyDataFromParticleToMPIParticle</a>(particle));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a> = 0; <a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a>++)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ab2ccd31e58715c2ad93bbd2ed3eee07d">targetPeriodicComplexity</a>[<a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a>]);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="ttc" id="aGeneralDefine_8h_html_a74075f95668704cf2d25c7ce880fb12a"><div class="ttname"><a href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a></div><div class="ttdeci">#define PROCESSOR_ID</div><div class="ttdef"><b>Definition:</b> GeneralDefine.h:42</div></div>
<div class="ttc" id="aMpiDataClass_8cc_html_af297c6d2e750bd379677eca0ffeee91b"><div class="ttname"><a href="../../d2/d58/MpiDataClass_8cc.html#af297c6d2e750bd379677eca0ffeee91b">copyDataFromParticleToMPIParticle</a></div><div class="ttdeci">MPIParticle copyDataFromParticleToMPIParticle(BaseParticle *p)</div><div class="ttdoc">Copies data from a NonSphericalParticle to an MPIParticle class and returns this.</div><div class="ttdef"><b>Definition:</b> MpiDataClass.cc:103</div></div>
<div class="ttc" id="aclassMpiPeriodicParticleIDBase_html"><div class="ttname"><a href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleIDBase</a></div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:127</div></div>
<div class="ttc" id="aclassMpiPeriodicParticleIDBase_html_ab2ccd31e58715c2ad93bbd2ed3eee07d"><div class="ttname"><a href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ab2ccd31e58715c2ad93bbd2ed3eee07d">MpiPeriodicParticleIDBase::targetPeriodicComplexity</a></div><div class="ttdeci">std::vector&lt; int &gt; targetPeriodicComplexity</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:139</div></div>
<div class="ttc" id="aclassMpiPeriodicParticleIDBase_html_ae1012d7ceded3e14e852de43d977f176"><div class="ttname"><a href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a></div><div class="ttdeci">BaseParticle * particle</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:129</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a55e04cf035880b2473905910fd6e294e"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">PeriodicBoundaryHandler::numberOfNewPeriodicGhostParticlesSend_</a></div><div class="ttdeci">std::vector&lt; int &gt; numberOfNewPeriodicGhostParticlesSend_</div><div class="ttdoc">A vector that stores how many particles are going to be send to other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:316</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a7fe72b6c83450e2d79ca0a564f2f3c51"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">PeriodicBoundaryHandler::newPeriodicParticleList_</a></div><div class="ttdeci">std::vector&lt; PeriodicList &gt; newPeriodicParticleList_</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:383</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_acebdc8f6a820ff0e9e5cdf76fbbe06e4"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">PeriodicBoundaryHandler::periodicGhostParticleSend_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; MPIParticle &gt; &gt; periodicGhostParticleSend_</div><div class="ttdoc">Data container for particles that are being send to other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:336</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_af9bd41dfb6481378ff63de04f61df79b"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">PeriodicBoundaryHandler::periodicGhostComplexitySend_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; periodicGhostComplexitySend_</div><div class="ttdoc">Data container for periodic complexity that is being send to other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:346</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_afcad85ddabc2c7b68d4cb4434fec52cd"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">PeriodicBoundaryHandler::sendTargetList_</a></div><div class="ttdeci">std::vector&lt; int &gt; sendTargetList_</div><div class="ttdoc">A list that keeps track to which targets this processor is sending new particles to.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:304</div></div>
<div class="ttc" id="alevel2__impl_8h_html_ad46ea6bf5745e72b985b11878e46a45d"><div class="ttname"><a href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a></div><div class="ttdeci">char char char int int * k</div><div class="ttdef"><b>Definition:</b> level2_impl.h:374</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d58/MpiDataClass_8cc.html#af297c6d2e750bd379677eca0ffeee91b">copyDataFromParticleToMPIParticle()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>, <a class="el" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>, and <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ab2ccd31e58715c2ad93bbd2ed3eee07d">MpiPeriodicParticleIDBase::targetPeriodicComplexity</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="ab7c015999e4ff5044de41c88a3f85ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c015999e4ff5044de41c88a3f85ee6">&#9670;&nbsp;</a></span>collectInteractionData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::collectInteractionData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects interaction data into an MPI data structure. </p>
<p>Not only particles need to be copied to other ghosts, also their interactions with their surroundings, because these interactions contain history parameters. This function collects the basic interaction data and history data into a useful MPI structure </p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">//For all send target lists</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="../../d7/d17/classInteractionHandler.html">InteractionHandler</a>&amp; iH = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">interactionHandler</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> numberOfTargets = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>.resize(numberOfTargets);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfTargets; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">//Allocate enough space</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = iH.<a class="code" href="../../d7/d17/classInteractionHandler.html#a50c5292c26c9a08a3c07b7961bc11a40">createMPIInteractionDataArray</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">//Fill in the vector</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> indexInteraction = 0;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a>* interaction : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            interaction-&gt;getMPIInteraction(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], indexInteraction);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            indexInteraction++;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="ttc" id="aclassBaseInteraction_html"><div class="ttname"><a href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a></div><div class="ttdoc">Stores information about interactions between two interactable objects; often particles but could be ...</div><div class="ttdef"><b>Definition:</b> BaseInteraction.h:39</div></div>
<div class="ttc" id="aclassDPMBase_html_a9b036552de2a419544b43d5d81c59df7"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">DPMBase::interactionHandler</a></div><div class="ttdeci">InteractionHandler interactionHandler</div><div class="ttdoc">An object of the class InteractionHandler.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1473</div></div>
<div class="ttc" id="aclassInteractionHandler_html"><div class="ttname"><a href="../../d7/d17/classInteractionHandler.html">InteractionHandler</a></div><div class="ttdoc">Container to store Interaction objects.</div><div class="ttdef"><b>Definition:</b> InteractionHandler.h:25</div></div>
<div class="ttc" id="aclassInteractionHandler_html_a50c5292c26c9a08a3c07b7961bc11a40"><div class="ttname"><a href="../../d7/d17/classInteractionHandler.html#a50c5292c26c9a08a3c07b7961bc11a40">InteractionHandler::createMPIInteractionDataArray</a></div><div class="ttdeci">void * createMPIInteractionDataArray(unsigned int numberOfInteractions) const</div><div class="ttdoc">creates an empty MPIInteractionDataArray</div><div class="ttdef"><b>Definition:</b> InteractionHandler.cc:191</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a344413d2630f097557e5bd488da18425"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">PeriodicBoundaryHandler::interactionDataSend_</a></div><div class="ttdeci">std::vector&lt; void * &gt; interactionDataSend_</div><div class="ttdoc">Stores the interaction data that is going to be send.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:371</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a71164088eccf5e5bff3589c4a99ad0a3"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">PeriodicBoundaryHandler::newInteractionList_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; BaseInteraction * &gt; &gt; newInteractionList_</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:388</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_aefb9a655cc97a054443e9c42e6ef6856"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">PeriodicBoundaryHandler::numberOfNewInteractionsSend_</a></div><div class="ttdeci">std::vector&lt; int &gt; numberOfNewInteractionsSend_</div><div class="ttdoc">Stores the number of new interactions to be send to target processor corresponding to sendTargetList_...</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:321</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d17/classInteractionHandler.html#a50c5292c26c9a08a3c07b7961bc11a40">InteractionHandler::createMPIInteractionDataArray()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>, <a class="el" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">DPMBase::interactionHandler</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="a56430d2a59f476c983cd9037d7c3b4d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56430d2a59f476c983cd9037d7c3b4d7">&#9670;&nbsp;</a></span>communicateNumberOfNewParticlesAndInteractions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::communicateNumberOfNewParticlesAndInteractions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Communicate the number of new particles and interactions to target processors. </p>
<p>Every receiving target that will receive ghost particle data will need to know how many particles are coming their way. This function performs that communication step. The same for interactions, not every ghost particle receives the same number of interactions and hence that step is done seperately. </p>
<div class="fragment"><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;{</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="../../d3/d19/classMPIContainer.html">MPIContainer</a>&amp; communicator = <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>();</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="comment">//Communicate to how many particles the target domains receive</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordtype">int</span> tagSend;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            tagSend = <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5acc26be688558492399e6790600cdfbfe">MercuryMPITag::PARTICLE_COUNT</a>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">send</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], tagSend);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            tagSend = <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a85c2f5ccf6a1aec110b040257566381e">MercuryMPITag::INTERACTION_COUNT</a>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">send</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], tagSend);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="comment">//Perform the receive routines</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>.resize(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>.size());</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>.resize(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>.size());</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordtype">int</span> tagReceive;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            tagReceive = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5acc26be688558492399e6790600cdfbfe">MercuryMPITag::PARTICLE_COUNT</a>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">receive</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], tagReceive);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            tagReceive = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a85c2f5ccf6a1aec110b040257566381e">MercuryMPITag::INTERACTION_COUNT</a>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">receive</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], tagReceive);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;}</div>
<div class="ttc" id="aGeneralDefine_8h_html_a63e32d00bc48471b4db49d481ac228dc"><div class="ttname"><a href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a></div><div class="ttdeci">#define MAX_PROC</div><div class="ttdef"><b>Definition:</b> GeneralDefine.h:30</div></div>
<div class="ttc" id="aMpiContainer_8h_html_a5a7093f893224b1b922eb50e386255a5a85c2f5ccf6a1aec110b040257566381e"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a85c2f5ccf6a1aec110b040257566381e">INTERACTION_COUNT</a></div><div class="ttdeci">@ INTERACTION_COUNT</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:62</div></div>
<div class="ttc" id="aMpiContainer_8h_html_a5a7093f893224b1b922eb50e386255a5acc26be688558492399e6790600cdfbfe"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5acc26be688558492399e6790600cdfbfe">PARTICLE_COUNT</a></div><div class="ttdeci">@ PARTICLE_COUNT</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:57</div></div>
<div class="ttc" id="aclassMPIContainer_html"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html">MPIContainer</a></div><div class="ttdoc">This class contains all information and functions required for communication between processors.</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:109</div></div>
<div class="ttc" id="aclassMPIContainer_html_a3176c8442db521646efe53f7869f3fd5"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">MPIContainer::receive</a></div><div class="ttdeci">std::enable_if&lt; std::is_scalar&lt; T &gt;::value, void &gt;::type receive(T &amp;t, int from, int tag)</div><div class="ttdoc">asynchronously receive a scalar from some other processor.</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:200</div></div>
<div class="ttc" id="aclassMPIContainer_html_a9e4c3007337c1e544e923b535f7be533"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a></div><div class="ttdeci">static MPIContainer &amp; Instance()</div><div class="ttdoc">fetch the instance to be used for communication</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:113</div></div>
<div class="ttc" id="aclassMPIContainer_html_ae30e765400529d59a80f714d49e6be11"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">MPIContainer::send</a></div><div class="ttdeci">std::enable_if&lt; std::is_scalar&lt; T &gt;::value, void &gt;::type send(T &amp;t, int to, int tag)</div><div class="ttdoc">Asynchronously send a scalar to some other processor.</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:150</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a449bae002a6f996c55660bfdff97e2cc"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">PeriodicBoundaryHandler::numberOfNewPeriodicGhostParticlesReceive_</a></div><div class="ttdeci">std::vector&lt; int &gt; numberOfNewPeriodicGhostParticlesReceive_</div><div class="ttdoc">A vector that stores how many new ghost particles will be received from other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:310</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_aec54174b3b6b52738646b576fc91ee5b"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">PeriodicBoundaryHandler::receiveTargetList_</a></div><div class="ttdeci">std::vector&lt; int &gt; receiveTargetList_</div><div class="ttdoc">A list that keeps track which target processors the current processor is receiving new particles from...</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:298</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_afb6714f6062ff52e99afa55cea019eda"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">PeriodicBoundaryHandler::numberOfNewInteractionsReceive_</a></div><div class="ttdeci">std::vector&lt; int &gt; numberOfNewInteractionsReceive_</div><div class="ttdoc">Stores the number of new interactions to be received from target processor corresponding to receiveTa...</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:326</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance()</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a85c2f5ccf6a1aec110b040257566381e">INTERACTION_COUNT</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5acc26be688558492399e6790600cdfbfe">PARTICLE_COUNT</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">MPIContainer::receive()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">MPIContainer::send()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="a324ff716c33092bfb574bdbe30f330ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324ff716c33092bfb574bdbe30f330ed">&#9670;&nbsp;</a></span>communicateTargetDomains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::communicateTargetDomains </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creats a list of send and receive targets for periodic/ghost particles. </p>
<p>When communicating ghost particles from periodic boundaries in paralell, it is not clear from the start which processor is sending to which processor. First all processors check to how many domains the processor is sending. A second communication step is then performed to tell all other processors which domains the processor is sending to. After this function has completed every processor has a list of targets that the processor sends data to and a list of targets the processor receives data from. </p>
<div class="fragment"><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;{</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="preprocessor">#ifdef MERCURYDPM_USE_MPI</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="comment">//Step 1: Check to how many domains this domain has to send particles</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordtype">int</span> numberOfTargetDomainsLocal = 0;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>; index++) </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[index].<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>() &gt; 0)</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            numberOfTargetDomainsLocal++;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.push_back(index);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>.push_back(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[index].<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="comment">//Communicate with other domains to how many domains this domain is sending</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    std::vector&lt;int&gt; numberOfTargetDomains(<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>().allGather(numberOfTargetDomainsLocal,1,numberOfTargetDomains,1);    </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="comment">//Step 2: Communicate to other domains what the target domains are</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    std::vector&lt;int&gt; receiveTargetList;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>; index++)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        <span class="keywordflow">if</span> (numberOfTargetDomains[index] &gt; 0)</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="keywordflow">if</span> (index == <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>().<a class="code" href="../../d3/d19/classMPIContainer.html#a0d83bd9e9eec09e5527f31cfef98bd2e">broadcast</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.data(), numberOfTargetDomainsLocal, index);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                receiveTargetList.resize(numberOfTargetDomains[index], 0);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>().<a class="code" href="../../d3/d19/classMPIContainer.html#a0d83bd9e9eec09e5527f31cfef98bd2e">broadcast</a>(receiveTargetList.data(),numberOfTargetDomains[index],index);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;            <span class="comment">//If this domain is a target, flag it.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; receiveTargetList.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                <span class="keywordflow">if</span> (receiveTargetList[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>.push_back(index);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            } </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    }</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div>
<div class="ttc" id="abenchVecAdd_8cpp_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="../../db/ddc/benchVecAdd_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">Scalar Scalar int size</div><div class="ttdef"><b>Definition:</b> benchVecAdd.cpp:17</div></div>
<div class="ttc" id="aclassMPIContainer_html_a0d83bd9e9eec09e5527f31cfef98bd2e"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html#a0d83bd9e9eec09e5527f31cfef98bd2e">MPIContainer::broadcast</a></div><div class="ttdeci">std::enable_if&lt; std::is_scalar&lt; T &gt;::value, void &gt;::type broadcast(T &amp;t, int fromProcessor=0)</div><div class="ttdoc">Broadcasts a scalar from the root to all other processors.</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:420</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d19/classMPIContainer.html#a0d83bd9e9eec09e5527f31cfef98bd2e">MPIContainer::broadcast()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>, and <a class="el" href="../../db/ddc/benchVecAdd_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="a3e83ab31122d45f62e58a0480462949a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e83ab31122d45f62e58a0480462949a">&#9670;&nbsp;</a></span>computePeriodicComplexity() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::computePeriodicComplexity </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>periodicComplexity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &amp;&#160;</td>
          <td class="paramname"><em>totalPeriodicComplexity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classVec3D.html">Vec3D</a>&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the periodic complexity and total periodic complexity based on a given position. </p>
<p>This function computes the periodic complexity, a vector of intergers that indicate how this particle is related to the periodic boundaries. Every boundary has a status value following: [2] = Real particle, not in the proximity of the boundary [1] = Real particle, in the proximity of the boundary [-1] = ghost particle, in the proximity of the boundary [-2] = ghost particle, not in the proximity of the boundary In addition to the periodic complexity it also computes the totalPeriodicComplexity that indicates with how many boundaries this position is in close proximity </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">periodicComplexity</td><td>The periodic complexity indicating how a given position is related to the periodic boundaries. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">totalPeriodicComplexity</td><td>The number of boundaries the position is in close proximity with. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">position</td><td>The input position for which the relation to the boundaries are determined. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">//Compute the new position</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    periodicComplexity.resize(this-&gt;<a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>());</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    totalPeriodicComplexity = 0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a>* boundary : *<span class="keyword">this</span>)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../df/de6/classdouble.html">Mdouble</a> distance = boundary-&gt;<a class="code" href="../../d5/db7/classBasePeriodicBoundary.html#a451b6bec14ddeed55869d9d580eafac0">getDistance</a>(position);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/de9/AnnoyingScalar_8h.html#a0b723dc4b77525f0cc278538ff494e29">std::abs</a>(distance) &lt;= <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">if</span> (distance &gt; 0)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="comment">//real particle</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                periodicComplexity[index] = 1;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                totalPeriodicComplexity++;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (distance &lt; 0)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="comment">//ghost particle</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                periodicComplexity[index] = -1;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordflow">else</span> <span class="comment">//distance == 0 In extremely rare cases (test cases mostly)</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="comment">//Check if on left or right side of boundary</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">if</span> (boundary-&gt;<a class="code" href="../../d5/db7/classBasePeriodicBoundary.html#a50d37cc20de79b50d89f8441337821b6">isClosestToLeftBoundary</a>(position))</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    <span class="comment">//ghost particle on the left side</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    periodicComplexity[index] = -1;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    <span class="comment">//real particle on the right side</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    periodicComplexity[index] = 1;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    totalPeriodicComplexity++;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">if</span> (distance &lt; 0)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                periodicComplexity[index] = -2;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                periodicComplexity[index] = 2;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        index++;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">    //Modify periodic complexity in case of maser</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">    for (int b = 0; b &lt; getSize(); b++)</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">        objects_[b]-&gt;modifyPeriodicComplexity(periodicComplexity, position, b);</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="ttc" id="aAnnoyingScalar_8h_html_a0b723dc4b77525f0cc278538ff494e29"><div class="ttname"><a href="../../d8/de9/AnnoyingScalar_8h.html#a0b723dc4b77525f0cc278538ff494e29">abs</a></div><div class="ttdeci">AnnoyingScalar abs(const AnnoyingScalar &amp;x)</div><div class="ttdef"><b>Definition:</b> AnnoyingScalar.h:135</div></div>
<div class="ttc" id="aclassBasePeriodicBoundary_html"><div class="ttname"><a href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a></div><div class="ttdef"><b>Definition:</b> BasePeriodicBoundary.h:20</div></div>
<div class="ttc" id="aclassBasePeriodicBoundary_html_a451b6bec14ddeed55869d9d580eafac0"><div class="ttname"><a href="../../d5/db7/classBasePeriodicBoundary.html#a451b6bec14ddeed55869d9d580eafac0">BasePeriodicBoundary::getDistance</a></div><div class="ttdeci">virtual Mdouble getDistance(const BaseParticle &amp;particle) const =0</div><div class="ttdoc">Returns the distance between a particle and the closest boundary, required for any periodic boundary.</div></div>
<div class="ttc" id="aclassBasePeriodicBoundary_html_a50d37cc20de79b50d89f8441337821b6"><div class="ttname"><a href="../../d5/db7/classBasePeriodicBoundary.html#a50d37cc20de79b50d89f8441337821b6">BasePeriodicBoundary::isClosestToLeftBoundary</a></div><div class="ttdeci">virtual bool isClosestToLeftBoundary(const Vec3D &amp;position) const =0</div><div class="ttdoc">Returns true if it is closer to the left boundary than the right boundary.</div></div>
<div class="ttc" id="aclassdouble_html"><div class="ttname"><a href="../../df/de6/classdouble.html">double</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/de9/AnnoyingScalar_8h.html#a0b723dc4b77525f0cc278538ff494e29">abs()</a>, <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html#a451b6bec14ddeed55869d9d580eafac0">BasePeriodicBoundary::getDistance()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>, and <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html#a50d37cc20de79b50d89f8441337821b6">BasePeriodicBoundary::isClosestToLeftBoundary()</a>.</p>

</div>
</div>
<a id="a70cb0d543c069807e92deaaeae3e6d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70cb0d543c069807e92deaaeae3e6d58">&#9670;&nbsp;</a></span>computePeriodicComplexity() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; PeriodicBoundaryHandler::computePeriodicComplexity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classVec3D.html">Vec3D</a>&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the periodic complexity based on a given position. </p>
<p>This function computes the periodic complexity, a vector of intergers that indicate how this particle is related to the periodic boundaries. Every boundary has a status value following: [2] = Real particle, not in the proximity of the boundary [1] = Real particle, in the proximity of the boundary [-1] = ghost particle, in the proximity of the boundary [-2] = ghost particle, not in the proximity of the boundary </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">position</td><td>The input position for which the relation to the boundaries are determined. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Periodic complexity of the given position </dd></dl>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    std::vector&lt;int&gt; periodicComplexity;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">int</span> totalPeriodicComplexity;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity</a>(periodicComplexity, totalPeriodicComplexity, position);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> periodicComplexity;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a70cb0d543c069807e92deaaeae3e6d58"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">PeriodicBoundaryHandler::computePeriodicComplexity</a></div><div class="ttdeci">std::vector&lt; int &gt; computePeriodicComplexity(Vec3D position)</div><div class="ttdoc">Computes the periodic complexity based on a given position.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:260</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="acecb2eb7cbcd69b025c33fe60076bc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acecb2eb7cbcd69b025c33fe60076bc46">&#9670;&nbsp;</a></span>finaliseNewParticleTransmission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::finaliseNewParticleTransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>creates the ghost particles and performs some bookkeeping to keep track of them </p>
<div class="fragment"><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;{</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">//Process the global received data</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        std::vector&lt;BaseParticle*&gt; newGhostParticles;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData</a>(<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, newGhostParticles);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9890abeac910b34f5569ab438eda54d5">processReceivedInteractionData</a>(<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, newGhostParticles);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="comment">//Process the local data</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    std::vector&lt;BaseParticle*&gt; newGhostParticles;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles</a>(newGhostParticles);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">processLocalInteractionData</a>(newGhostParticles);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="comment">//Process the periodic particles;</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">processPeriodicParticles</a>();</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="comment">//Clear lists</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>.clear();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.clear();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>.clear();</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>.clear();</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>.clear();</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>.clear();</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>.clear();</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a>.clear();</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>.clear();</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a>.clear();</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>.clear();</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>.clear();</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>.clear();</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.clear();</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>)</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>.clear();</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a24f5118b9078766197f4d7d561a46cfc"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">PeriodicBoundaryHandler::processLocalInteractionData</a></div><div class="ttdeci">void processLocalInteractionData(std::vector&lt; BaseParticle * &gt; &amp;newParticles)</div><div class="ttdoc">Process the interaction data for local ghosts.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:670</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a57fa1344e246ab98b77863458947d130"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">PeriodicBoundaryHandler::processPeriodicParticles</a></div><div class="ttdeci">void processPeriodicParticles()</div><div class="ttdoc">Creates a periodioc particle ID for book keeping and moves the ID to the correct list.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:760</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a77291fc44b9ae334533736b973d7b366"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">PeriodicBoundaryHandler::interactionDataReceive_</a></div><div class="ttdeci">std::vector&lt; void * &gt; interactionDataReceive_</div><div class="ttdoc">Stores the interaction data that is going to be received.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:376</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a9890abeac910b34f5569ab438eda54d5"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a9890abeac910b34f5569ab438eda54d5">PeriodicBoundaryHandler::processReceivedInteractionData</a></div><div class="ttdeci">void processReceivedInteractionData(int targetIndex, std::vector&lt; BaseParticle * &gt; &amp;newParticles)</div><div class="ttdoc">Process the received interaction data.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:593</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ab67cb0fad070436e7304b10c63e7fce3"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">PeriodicBoundaryHandler::periodicGhostComplexityReceive_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; periodicGhostComplexityReceive_</div><div class="ttdoc">Data container for periodic complexity that is being received from other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:341</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ac91ed0066f892cf3ad6a530d1d21fdf9"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">PeriodicBoundaryHandler::processReceivedGhostParticleData</a></div><div class="ttdeci">void processReceivedGhostParticleData(int targetIndex, std::vector&lt; BaseParticle * &gt; &amp;newParticles)</div><div class="ttdoc">Processes the received ghost data, creates a ghost particle and does some book keeping.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:538</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ade3bb036c2d726dcacdd0d1b648edd32"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">PeriodicBoundaryHandler::processLocalGhostParticles</a></div><div class="ttdeci">void processLocalGhostParticles(std::vector&lt; BaseParticle * &gt; &amp;newParticles)</div><div class="ttdoc">Creates ghost particles of periodic particles that are located on the same processor.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:783</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ae28535947c53535345e889562aa070f1"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">PeriodicBoundaryHandler::periodicGhostParticleReceive_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; MPIParticle &gt; &gt; periodicGhostParticleReceive_</div><div class="ttdoc">Data container for particles that are being received from other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:331</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">processLocalInteractionData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">processPeriodicParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9890abeac910b34f5569ab438eda54d5">processReceivedInteractionData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#abc91cd103173edc7cca97fecde8b96c4">addNewParticle()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles()</a>.</p>

</div>
</div>
<a id="afb953b6065b97b77a5ddf6da7ce7cd2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb953b6065b97b77a5ddf6da7ce7cd2f">&#9670;&nbsp;</a></span>finalisePositionAndVelocityUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::finalisePositionAndVelocityUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Communicates position and velocity data from periodic boundaries and updates ghost particles. </p>
<div class="fragment"><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;{</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="comment">//Update the positions, velocities and periodic complexities of particles</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles</a>();</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="comment">//Delete vectors</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">updatePositionDataSend_</a>.clear();</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>.clear();</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">updateVelocityDataSend_</a>.clear();</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>.clear();</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a0b60fb40c96132c28c0e00449b85804c"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">PeriodicBoundaryHandler::updatePositionDataReceive_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; MPIParticlePosition &gt; &gt; updatePositionDataReceive_</div><div class="ttdoc">Data container for position data that is being received from other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:351</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a8bf0ba961a5a5ae651e924256b19f227"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">PeriodicBoundaryHandler::updatePositionDataSend_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; MPIParticlePosition &gt; &gt; updatePositionDataSend_</div><div class="ttdoc">Data container for position data that is being send to other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:356</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_aae31864154621c4dfa5d244fc2326ad8"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">PeriodicBoundaryHandler::updateParticles</a></div><div class="ttdeci">void updateParticles()</div><div class="ttdoc">Updates position/velocity and periodic complexity of ghost particles.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:838</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ac6c4d5cf26f5c95e1fb999c87d7a10cc"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">PeriodicBoundaryHandler::updateVelocityDataReceive_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; MPIParticleVelocity &gt; &gt; updateVelocityDataReceive_</div><div class="ttdoc">Data container for velocity data that is being received from other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:361</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_af243c7a13194e6db6cb6ff78d2926909"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">PeriodicBoundaryHandler::updateVelocityDataSend_</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; MPIParticleVelocity &gt; &gt; updateVelocityDataSend_</div><div class="ttdoc">Data container for velocity data that is being send to other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:366</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">updatePositionDataSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">updateVelocityDataSend_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a76c0adeaa55a505950b5a5a550d6b507">updateStatus()</a>.</p>

</div>
</div>
<a id="ad650565a808f51f033ce83469ac5015b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad650565a808f51f033ce83469ac5015b">&#9670;&nbsp;</a></span>findBoundariesToIgnore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::findBoundariesToIgnore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>periodicComplexity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &amp;&#160;</td>
          <td class="paramname"><em>totalPeriodicComplexity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables boundaries that need to be ignored (i.e. a non-maser particle needs to ignore the maser boundary) </p>

</div>
</div>
<a id="aab43137fc1f5f3106435e15b72e96102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab43137fc1f5f3106435e15b72e96102">&#9670;&nbsp;</a></span>findNewInteractions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::findNewInteractions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds interactions that accompany future ghost particles. </p>
<p>Ghost particles have interactions with history parameters. These interactions also need to be copied to the other processor. This function finds these interactions and stores them. </p>
<div class="fragment"><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;{</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="comment">//Check all new particle lists</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>.resize(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size());</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> = 0; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]].size(); <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>++)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>]-&gt;particle;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            <span class="comment">//Loop over all its interactions</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            std::vector&lt;BaseInteraction*&gt; interactions = particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a9589d8464094161a0b5228de92c42e4c">getInteractions</a>();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a>* interaction : interactions)</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                <span class="comment">//Find out what the new particle is interacting with</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particleP = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>*<span class="keyword">&gt;</span>(interaction-&gt;getP());</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* objectI = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>*<span class="keyword">&gt;</span>(interaction-&gt;getI());</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                <span class="comment">//If the P in the interaction structure is the new particle, find I</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                <span class="keywordflow">if</span> (particle == particleP)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                    <span class="comment">//Check if the new particle is interacting with a wall</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                    <span class="keywordflow">if</span> (!objectI)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(interaction);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                    }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                    <span class="keywordflow">else</span> <span class="comment">//is I a particle</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                    {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(interaction);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                    }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                <span class="keywordflow">else</span> <span class="comment">//newBoundaryParticle is I in the interaction, P can only be a particle</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(interaction);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="comment">//Store the number of interactions</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>.push_back(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;}</div>
<div class="ttc" id="aTutorial__Map__using_8cpp_html_a7fe964f6b1afd4591f637999272ab9a2"><div class="ttname"><a href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a></div><div class="ttdeci">float * p</div><div class="ttdef"><b>Definition:</b> Tutorial_Map_using.cpp:9</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a9589d8464094161a0b5228de92c42e4c"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a9589d8464094161a0b5228de92c42e4c">BaseInteractable::getInteractions</a></div><div class="ttdeci">const std::vector&lt; BaseInteraction * &gt; &amp; getInteractions() const</div><div class="ttdoc">Returns a list of interactions which belong to this interactable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.h:256</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d84/classBaseInteractable.html#a9589d8464094161a0b5228de92c42e4c">BaseInteractable::getInteractions()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71164088eccf5e5bff3589c4a99ad0a3">newInteractionList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>, <a class="el" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>, and <a class="el" href="../../db/ddc/benchVecAdd_8cpp.html#a439227feff9d7f55384e8780cfc2eb82">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a47b641ee0ea50cb9db8eccd7aead98b1">prepareNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="afcd663632174014fefc7b437a2952f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd663632174014fefc7b437a2952f58">&#9670;&nbsp;</a></span>findNewParticle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::findNewParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a particle is in the periodic domain, but are not flagged as being in the periodic domain. </p>
<p>Particles that are located close to a periodic boundary, but not flagged as being in the periodic domain will be added to a list by this function. If they indeed have to be added a periodic ID will be created that stores some basic information required to setup a ghost particle. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">particle</td><td>A particle that is considered to be added to the periodic boundary lists </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;{</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="comment">//Skip the ghost particles</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6eb299e982b0c56110bfbaab525c64ca">checkIfAddNewParticle</a>(particle))</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="comment">//If the particle was not yet flagged to be in the periodic domain, check if it is in the domain</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="comment">//if(!particle-&gt;isInPeriodicDomain())</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordtype">int</span> totalPeriodicComplexity;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            std::vector&lt;int&gt; periodicComplexity;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity</a>(periodicComplexity, totalPeriodicComplexity, particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="comment">//Modify periodic complexity tailored to specific boundary requirements</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> = 0; <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>++)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]-&gt;modifyPeriodicComplexity(periodicComplexity, totalPeriodicComplexity, particle, <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <span class="comment">//Set periodicComplexity</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">setPeriodicComplexity</a>(periodicComplexity);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="comment">//Create ghost particle ID&#39;s</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            std::vector&lt;std::vector&lt;int&gt; &gt; list(0);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <span class="keywordflow">if</span> (totalPeriodicComplexity &gt; 0)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                periodicComplexity = particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>();</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                <span class="comment">//Generating all possible complexities.</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">generateGhosts</a>(list, periodicComplexity, periodicComplexity, <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>());</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                <span class="comment">//logger(VERBOSE,&quot;New ghost particles: %&quot;,list.size() - 1);</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                <span class="comment">//Note: the first one in the list is the real particle such that we skip it</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; list.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    <span class="comment">//Compute target domain</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    <span class="comment">//logger(VERBOSE,&quot;Particle position: %&quot;,particle-&gt;getPosition());</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                    <span class="keywordtype">int</span> targetProcessor = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9c86f3f19f8bea107cbe53520b9f0a36">findTargetProcessor</a>(list[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                    </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    <span class="comment">//Create periodic particle ID</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                    <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleID</a>* ppid = <span class="keyword">new</span> <a class="code" href="../../d6/d51/MpiDataClass_8h.html#ab9e0a307aa1b2d8fe8041fd8e7037452">MpiPeriodicParticleID</a>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                    ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a> = particle;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                    ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a015f57b82f049c6b0c453b4c112f81d6">periodicComplexity</a> = periodicComplexity;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                    ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ab2ccd31e58715c2ad93bbd2ed3eee07d">targetPeriodicComplexity</a> = list[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                    ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a6f98dd1bf50ed6a041125d1de0b22c57">targetProcessor</a> = targetProcessor;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[targetProcessor].push_back(ppid);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Adding a periodic particle with id % and real particle position: %&quot;</span>,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                           particle-&gt;<a class="code" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">getId</a>(), particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div>
<div class="ttc" id="aLogger_8h_html_a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc"><div class="ttname"><a href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">Log::VERBOSE</a></div><div class="ttdeci">@ VERBOSE</div></div>
<div class="ttc" id="aMpiDataClass_8h_html_ab9e0a307aa1b2d8fe8041fd8e7037452"><div class="ttname"><a href="../../d6/d51/MpiDataClass_8h.html#ab9e0a307aa1b2d8fe8041fd8e7037452">MpiPeriodicParticleID</a></div><div class="ttdeci">MpiPeriodicParticleIDBase MpiPeriodicParticleID</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:145</div></div>
<div class="ttc" id="abenchVecAdd_8cpp_html_af9816f50f32fc22762a8289c3cc44f22"><div class="ttname"><a href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a></div><div class="ttdeci">Scalar * b</div><div class="ttdef"><b>Definition:</b> benchVecAdd.cpp:17</div></div>
<div class="ttc" id="aclassBaseInteractable_html_ab3ce403f3f719eb6427284211cfa4bcb"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">BaseInteractable::getPosition</a></div><div class="ttdeci">const Vec3D &amp; getPosition() const</div><div class="ttdoc">Returns the position of this BaseInteractable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.h:197</div></div>
<div class="ttc" id="aclassBaseObject_html_a3a9b12be437a2032f675e057aba1aabc"><div class="ttname"><a href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">BaseObject::getId</a></div><div class="ttdeci">unsigned int getId() const</div><div class="ttdoc">Returns the unique identifier of any particular object.</div><div class="ttdef"><b>Definition:</b> BaseObject.h:104</div></div>
<div class="ttc" id="aclassBaseParticle_html_a1d3db300e969bde01c605bcdc3f3902b"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">BaseParticle::setPeriodicComplexity</a></div><div class="ttdeci">void setPeriodicComplexity(std::vector&lt; int &gt; complexity)</div><div class="ttdoc">Set the periodic communication complexity of the particle.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:189</div></div>
<div class="ttc" id="aclassBaseParticle_html_af1d384723b9bcfa6b122779bd53fef4a"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">BaseParticle::getPeriodicComplexity</a></div><div class="ttdeci">const std::vector&lt; int &gt; &amp; getPeriodicComplexity()</div><div class="ttdoc">Obtains the periodic communication complexity of the particle.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:214</div></div>
<div class="ttc" id="aclassMpiPeriodicParticleIDBase_html_a015f57b82f049c6b0c453b4c112f81d6"><div class="ttname"><a href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a015f57b82f049c6b0c453b4c112f81d6">MpiPeriodicParticleIDBase::periodicComplexity</a></div><div class="ttdeci">std::vector&lt; int &gt; periodicComplexity</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:138</div></div>
<div class="ttc" id="aclassMpiPeriodicParticleIDBase_html_a6f98dd1bf50ed6a041125d1de0b22c57"><div class="ttname"><a href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a6f98dd1bf50ed6a041125d1de0b22c57">MpiPeriodicParticleIDBase::targetProcessor</a></div><div class="ttdeci">int targetProcessor</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:133</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a6538067d5852993bcc384b27921732e4"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">PeriodicBoundaryHandler::generateGhosts</a></div><div class="ttdeci">void generateGhosts(std::vector&lt; std::vector&lt; int &gt; &gt; &amp;list, std::vector&lt; int &gt; periodicComplexity, std::vector&lt; int &gt; &amp;complexity, int level)</div><div class="ttdoc">generates a list of periodic complexities corresponding to a give real particle.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:443</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a6eb299e982b0c56110bfbaab525c64ca"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a6eb299e982b0c56110bfbaab525c64ca">PeriodicBoundaryHandler::checkIfAddNewParticle</a></div><div class="ttdeci">bool checkIfAddNewParticle(BaseParticle *particle)</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1863</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a9c86f3f19f8bea107cbe53520b9f0a36"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a9c86f3f19f8bea107cbe53520b9f0a36">PeriodicBoundaryHandler::findTargetProcessor</a></div><div class="ttdeci">int findTargetProcessor(const std::vector&lt; int &gt; &amp;complexity)</div><div class="ttdoc">For a given complexity this function returns the target processor.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1228</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6eb299e982b0c56110bfbaab525c64ca">checkIfAddNewParticle()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9c86f3f19f8bea107cbe53520b9f0a36">findTargetProcessor()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">generateGhosts()</a>, <a class="el" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">BaseObject::getId()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">BaseParticle::getPeriodicComplexity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">BaseInteractable::getPosition()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a015f57b82f049c6b0c453b4c112f81d6">MpiPeriodicParticleIDBase::periodicComplexity</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">BaseParticle::setPeriodicComplexity()</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ab2ccd31e58715c2ad93bbd2ed3eee07d">MpiPeriodicParticleIDBase::targetPeriodicComplexity</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a6f98dd1bf50ed6a041125d1de0b22c57">MpiPeriodicParticleIDBase::targetProcessor</a>, and <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#abc91cd103173edc7cca97fecde8b96c4">addNewParticle()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#adef0acfa02ebe8c2bc9140287615801e">findNewParticles()</a>.</p>

</div>
</div>
<a id="adef0acfa02ebe8c2bc9140287615801e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adef0acfa02ebe8c2bc9140287615801e">&#9670;&nbsp;</a></span>findNewParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::findNewParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loops over all particles in the simulation to check if they need to be added to the periodic lists. </p>
<p>Loops over all base particles in the domain to see if they have to be added to the periodic domain lists </p>
<div class="fragment"><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;{</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="comment">//Check for all particles if there are unassigned periodic particles</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> particle_it = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;particleHandler.begin();</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;         particle_it != <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;particleHandler.end(); particle_it++)</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle</a>(*particle_it);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle()</a>, and <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles()</a>.</p>

</div>
</div>
<a id="a9c86f3f19f8bea107cbe53520b9f0a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c86f3f19f8bea107cbe53520b9f0a36">&#9670;&nbsp;</a></span>findTargetProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> PeriodicBoundaryHandler::findTargetProcessor </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>complexity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For a given complexity this function returns the target processor. </p>
<p>A given complexity can be turned into a particle position, somewhere in the simulation domain. This position belongs to a specific processor and this function computes which processor this actually is. Note: When an PMG particle is in the periodic domain, it needs to be copied into a PG"MG" particle. A particle that is in the MG domain, but is not updated by the M boundaries. The position of this MG particle is not in the actual domain to where it has to be copied, but slightly outside. For that reason the position is shifted to the middle of the domain the official particle is found on, and that position is used to determine the actual domain the particle has to go to. Note that currently this only works for a structured grid with equal domain sizes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">complexity</td><td>A complexity vector which determines the location of a ghost particle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The processor ID of the ghost particle location </dd></dl>
<div class="fragment"><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;{</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">//Find the middle of this domain (or any valid point anyway)</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a> middlePosition = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#ac6aeb28c39a9e084e81fdef725302fee">domainHandler</a>.<a class="code" href="../../d4/d39/classDomainHandler.html#abfc4062331a0cae5f0c7d25bf66f7fc9">getCurrentDomain</a>()-&gt;<a class="code" href="../../d2/dc6/classDomain.html#a4d86080268a60f3959359bd108106bd0">getMiddle</a>();</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">//Create the particle with a target position</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <a class="code" href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a> particle;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    particle.<a class="code" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">setPosition</a>(middlePosition);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle</a>(&amp;particle, complexity);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="comment">//Obtain target domain</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordtype">int</span> targetGlobalIndex = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#ac6aeb28c39a9e084e81fdef725302fee">domainHandler</a>.<a class="code" href="../../d4/d39/classDomainHandler.html#a31e323a90faa4031c6ac50fa0018a1b4">getParticleDomainGlobalIndex</a>(&amp;particle);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#ac6aeb28c39a9e084e81fdef725302fee">domainHandler</a>.<a class="code" href="../../d4/d39/classDomainHandler.html#af1ba1111298ffb5a992fb51b1f1dbfd3">getParticleProcessor</a>(targetGlobalIndex);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
<div class="ttc" id="aclassBaseInteractable_html_a8650c49093f29960083d755945e6cdfc"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">BaseInteractable::setPosition</a></div><div class="ttdeci">virtual void setPosition(const Vec3D &amp;position)</div><div class="ttdoc">Sets the position of this BaseInteractable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.h:218</div></div>
<div class="ttc" id="aclassDPMBase_html_ac6aeb28c39a9e084e81fdef725302fee"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#ac6aeb28c39a9e084e81fdef725302fee">DPMBase::domainHandler</a></div><div class="ttdeci">DomainHandler domainHandler</div><div class="ttdoc">An object of the class DomainHandler which deals with parallel code.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1468</div></div>
<div class="ttc" id="aclassDomainHandler_html_a31e323a90faa4031c6ac50fa0018a1b4"><div class="ttname"><a href="../../d4/d39/classDomainHandler.html#a31e323a90faa4031c6ac50fa0018a1b4">DomainHandler::getParticleDomainGlobalIndex</a></div><div class="ttdeci">int getParticleDomainGlobalIndex(BaseParticle *particle)</div><div class="ttdef"><b>Definition:</b> DomainHandler.cc:308</div></div>
<div class="ttc" id="aclassDomainHandler_html_abfc4062331a0cae5f0c7d25bf66f7fc9"><div class="ttname"><a href="../../d4/d39/classDomainHandler.html#abfc4062331a0cae5f0c7d25bf66f7fc9">DomainHandler::getCurrentDomain</a></div><div class="ttdeci">Domain * getCurrentDomain()</div><div class="ttdoc">Gets the domain assigned to the processor.</div><div class="ttdef"><b>Definition:</b> DomainHandler.cc:228</div></div>
<div class="ttc" id="aclassDomainHandler_html_af1ba1111298ffb5a992fb51b1f1dbfd3"><div class="ttname"><a href="../../d4/d39/classDomainHandler.html#af1ba1111298ffb5a992fb51b1f1dbfd3">DomainHandler::getParticleProcessor</a></div><div class="ttdeci">int getParticleProcessor(int globalIndex)</div><div class="ttdef"><b>Definition:</b> DomainHandler.cc:387</div></div>
<div class="ttc" id="aclassDomain_html_a4d86080268a60f3959359bd108106bd0"><div class="ttname"><a href="../../d2/dc6/classDomain.html#a4d86080268a60f3959359bd108106bd0">Domain::getMiddle</a></div><div class="ttdeci">Vec3D getMiddle() const</div><div class="ttdoc">Gives the middle of the domain.</div><div class="ttdef"><b>Definition:</b> Domain.cc:1712</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a393ea8617fb6502828549ca0f935ca81"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">PeriodicBoundaryHandler::shiftParticle</a></div><div class="ttdeci">void shiftParticle(BaseParticle *particle)</div><div class="ttdoc">Shifts the position of the particle based on its current periodic complexity.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:148</div></div>
<div class="ttc" id="aclassSphericalParticle_html"><div class="ttname"><a href="../../d7/d41/classSphericalParticle.html">SphericalParticle</a></div><div class="ttdoc">A spherical particle is the most simple particle used in MercuryDPM.</div><div class="ttdef"><b>Definition:</b> SphericalParticle.h:16</div></div>
<div class="ttc" id="aclassVec3D_html"><div class="ttname"><a href="../../d5/dc1/classVec3D.html">Vec3D</a></div><div class="ttdef"><b>Definition:</b> Kernel/Math/Vector.h:30</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d89/classDPMBase.html#ac6aeb28c39a9e084e81fdef725302fee">DPMBase::domainHandler</a>, <a class="el" href="../../d4/d39/classDomainHandler.html#abfc4062331a0cae5f0c7d25bf66f7fc9">DomainHandler::getCurrentDomain()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d2/dc6/classDomain.html#a4d86080268a60f3959359bd108106bd0">Domain::getMiddle()</a>, <a class="el" href="../../d4/d39/classDomainHandler.html#a31e323a90faa4031c6ac50fa0018a1b4">DomainHandler::getParticleDomainGlobalIndex()</a>, <a class="el" href="../../d4/d39/classDomainHandler.html#af1ba1111298ffb5a992fb51b1f1dbfd3">DomainHandler::getParticleProcessor()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">BaseInteractable::setPosition()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle()</a>.</p>

</div>
</div>
<a id="af603886bc708208dd31daac7960baf58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af603886bc708208dd31daac7960baf58">&#9670;&nbsp;</a></span>flushParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::flushParticles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>particlesToBeFlushed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes particles from the periodiocParticleList_ and periociGhostList_. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000356">Todo:</a></b></dt><dd>This function uses a brute force method to flush the particles, this can be done in a smarter way if profiling shows that this is a bottleneck. </dd></dl>
<div class="fragment"><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;{</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    std::set&lt;MpiPeriodicParticleIDBase*&gt; toBeDeleted;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> p_it : particlesToBeFlushed)</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                    <span class="keywordflow">if</span> (p_it == <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>-&gt;particle)</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                    {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                        toBeDeleted.insert(<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                        <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                    }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                    <span class="keywordflow">if</span> (p_it == <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>-&gt;particle)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                    {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                        toBeDeleted.insert(<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                        <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                    }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                }</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="comment">//Delete ID&#39;s</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> id_it : toBeDeleted)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keyword">delete</span> id_it;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d89/classDPMBase.html#a6c0f07eec6136972a627a1dd7a9d62b1">DPMBase::checkInteractionWithBoundaries()</a>, and <a class="el" href="../../d5/d89/classDPMBase.html#a3c04a49c14b1fd3702c0e900b81d0255">DPMBase::deleteGhostParticles()</a>.</p>

</div>
</div>
<a id="a67233e9c84ba615b2fc2685f0e51a275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67233e9c84ba615b2fc2685f0e51a275">&#9670;&nbsp;</a></span>flushPeriodicParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::flushPeriodicParticles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>particlesToBeDeleted</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flushes periodioc particles that need to be deleted from the periodic lists. </p>

</div>
</div>
<a id="a6538067d5852993bcc384b27921732e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6538067d5852993bcc384b27921732e4">&#9670;&nbsp;</a></span>generateGhosts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::generateGhosts </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt;&#160;</td>
          <td class="paramname"><em>periodicComplexity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>complexity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>generates a list of periodic complexities corresponding to a give real particle. </p>
<p>Given a real particle that interacts with periodic boundaries, ghosts need to be generated. Depending on the number of boundaries this particle is interacting the number of ghosts differs. A recursive function makes sure that all possibilities of the periodic complexity of the real particle are generated. Note that the first periodic complexity in the list returned by this function is always the periodic complexity of the real particle. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">list</td><td>A list containing all possible ghost periodic complexities for a given periodic complexity </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">periodicComplexity</td><td>A periodic complexity of a real particle that is used to determine all its possible ghost periodic complexities </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">complexity</td><td>One of the possible permutations of the ghost periodic complexity </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>Indicator at which level the recursive function is </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">//Add the complexity to the list</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (level == 0)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="comment">//logger(VERBOSE,&quot;complexity: [%, %, %]&quot;,complexity[0], complexity[1], complexity[2]);</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        list.push_back(complexity);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">//Vary complexity values of level</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">if</span> (periodicComplexity[level - 1] == 1)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            complexity[level - 1] = 1;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">generateGhosts</a>(list, periodicComplexity, complexity, level - 1);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            complexity[level - 1] = -1;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">generateGhosts</a>(list, periodicComplexity, complexity, level - 1);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6538067d5852993bcc384b27921732e4">generateGhosts</a>(list, periodicComplexity, complexity, level - 1);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle()</a>.</p>

</div>
</div>
<a id="aa6e34f04d7bb223780b914c549f8fbaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e34f04d7bb223780b914c549f8fbaa">&#9670;&nbsp;</a></span>getInteractionDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> PeriodicBoundaryHandler::getInteractionDistance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the interaction distance. </p>
<p>This distance determines when a particle starts to interact with a periodic boundary. </p><dl class="section return"><dt>Returns</dt><dd>The interaction distance. </dd></dl>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>.</p>

</div>
</div>
<a id="a67c27b9fc211923833bb4db3f5b9dc4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c27b9fc211923833bb4db3f5b9dc4b">&#9670;&nbsp;</a></span>getMPIFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::getMPIFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a> &amp;&#160;</td>
          <td class="paramname"><em>isInMPIDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a> &amp;&#160;</td>
          <td class="paramname"><em>isMPIParticle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if a given particle is in the MPI domain and if it is an MPI Particle. </p>
<p>Mixed particles that are both a interacting with a periodic boundary and also in an mpi boundary are special cases that need to be handled with care. As example a real particle that moves to another domain will be removed by the mpi boundaries. To avoid segmentation faults the particle needs to be flushed from the periodic boundaries as well. This function determines if a particle is in the MPI domain and if it is a MPIParticle or not. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">particle</td><td>The particle for which the MPI flags are being computed </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">isInMPIDomain</td><td>A check to see if the particle is in the MPI domain (true) or not (false) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">isMPIParticle</td><td>A bool to see if the particle is a ghost in the MPI domain (true) or not (false) </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">//Check if the particle is actually in this domain. If not the case it is an &quot;MG&quot;-particle</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="../../d2/dc6/classDomain.html">Domain</a>* <a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#addd2ff2fb055b13846d2eb9c703c4cac">domain</a> = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#ac6aeb28c39a9e084e81fdef725302fee">domainHandler</a>.<a class="code" href="../../d4/d39/classDomainHandler.html#abfc4062331a0cae5f0c7d25bf66f7fc9">getCurrentDomain</a>();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#addd2ff2fb055b13846d2eb9c703c4cac">domain</a>-&gt;containsParticle(particle))</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">//If the particle is in the inner domain, it is not in the mpi doamin</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#addd2ff2fb055b13846d2eb9c703c4cac">domain</a>-&gt;isInInnerDomain(particle))</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            isInMPIDomain = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            isMPIParticle = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            isInMPIDomain = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            isMPIParticle = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">//If the particle is outside the communication zone it is not in the mpi domain</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#addd2ff2fb055b13846d2eb9c703c4cac">domain</a>-&gt;isInGreaterDomain(particle))</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            isInMPIDomain = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            isMPIParticle = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            isInMPIDomain = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            isMPIParticle = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="ttc" id="aclassDomain_html"><div class="ttname"><a href="../../d2/dc6/classDomain.html">Domain</a></div><div class="ttdoc">The simulation can be subdivided into Domain's used in parallel code.</div><div class="ttdef"><b>Definition:</b> Domain.h:42</div></div>
<div class="ttc" id="asteady__axisym__advection__diffusion_8cc_html_addd2ff2fb055b13846d2eb9c703c4cac"><div class="ttname"><a href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#addd2ff2fb055b13846d2eb9c703c4cac">domain</a></div><div class="ttdeci">SteadyAxisymAdvectionDiffusion problem on rectangular domain</div><div class="ttdef"><b>Definition:</b> steady_axisym_advection_diffusion.cc:151</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d5b/steady__axisym__advection__diffusion_8cc.html#addd2ff2fb055b13846d2eb9c703c4cac">domain</a>, <a class="el" href="../../d5/d89/classDPMBase.html#ac6aeb28c39a9e084e81fdef725302fee">DPMBase::domainHandler</a>, <a class="el" href="../../d4/d39/classDomainHandler.html#abfc4062331a0cae5f0c7d25bf66f7fc9">DomainHandler::getCurrentDomain()</a>, and <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">setMPIFlags()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="ade22fd19615be3b22ea8d8dca745faa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade22fd19615be3b22ea8d8dca745faa8">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string PeriodicBoundaryHandler::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the handler, namely the string "PeriodicBoundaryHandler". </p>
<p>This determines the unique name of the current class </p><dl class="section return"><dt>Returns</dt><dd>The string "PeriodicBoundaryHandler" </dd></dl>

<p>Implements <a class="el" href="../../d2/dcc/classBaseHandler.html#a1db37914f29fe5174b83e76b2d90f11b">BaseHandler&lt; BasePeriodicBoundary &gt;</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PeriodicBoundaryHandler&quot;</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e249d01e036b968af0eb8e956bd4335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e249d01e036b968af0eb8e956bd4335">&#9670;&nbsp;</a></span>getNumberOfPeriodicGhostParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d1d/classunsigned.html">unsigned</a> <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> PeriodicBoundaryHandler::getNumberOfPeriodicGhostParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of particles that are flagged is periodicGhostParticle. </p>
<p>Counts the number of periodic ghost particles by simply checking how many entries there are in the periodicGhostLists. </p><dl class="section return"><dt>Returns</dt><dd>The number of particles that have isPeriodicGhostParticle() == true </dd></dl>
<div class="fragment"><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sum = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; index : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        sum += index.size();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d6e/classParticleHandler.html#a5d5e6d8ff7cc7dac69635195e1a5528d">ParticleHandler::getNumberOfRealObjectsLocal()</a>.</p>

</div>
</div>
<a id="a71ea983f65c3f2c6170064e61b10c0e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ea983f65c3f2c6170064e61b10c0e2">&#9670;&nbsp;</a></span>getNumberOfTruePeriodicGhostParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> PeriodicBoundaryHandler::getNumberOfTruePeriodicGhostParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of particles that are flagged as periodicGhostParticles, but not as MPIParticles. </p>
<p>Counts the number of true periodic ghost particles by checking how many entries there are in the periodiocGhostLists, but ignores mixed ghost particles that additionally have the flay isMPIParticle() == true. </p><dl class="section return"><dt>Returns</dt><dd>The number of periodic particles that are not also MPIParticles </dd></dl>
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordtype">int</span> sum = 0;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; index : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordtype">int</span> numberOfMPIParticles = 0;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pIndex = 0; pIndex &lt; index.size(); pIndex++)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (index[pIndex]-&gt;particle-&gt;isMPIParticle() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                numberOfMPIParticles++;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        sum += (index.size() - numberOfMPIParticles);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>.</p>

</div>
</div>
<a id="a310274fe4f9a3ce533d1a50aca45da59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a310274fe4f9a3ce533d1a50aca45da59">&#9670;&nbsp;</a></span>initialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::initialise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the communication list vectors as they can not be determined on compile time. </p>
<p>On compile time it is not clear how many processors will be used when running the simulation and therefore the basic periodioc lists can't be initialised /bi the constructor. This function initialises the vectors to avoid segmentationfaults. </p>
<div class="fragment"><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;{</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a> = std::vector&lt;PeriodicList&gt;(<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="code" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a5651a54bbb22de568575ca5fd2bc71e7">PeriodicList</a>(0));</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a> = std::vector&lt;PeriodicList&gt;(<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="code" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a5651a54bbb22de568575ca5fd2bc71e7">PeriodicList</a>(0));</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a> = std::vector&lt;PeriodicGhostList&gt;(<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="code" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a635a1dfa2b7eb20c456fd98cb48f1616">PeriodicGhostList</a>(0));</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;}</div>
<div class="ttc" id="aPeriodicBoundaryHandler_8h_html_a5651a54bbb22de568575ca5fd2bc71e7"><div class="ttname"><a href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a5651a54bbb22de568575ca5fd2bc71e7">PeriodicList</a></div><div class="ttdeci">std::vector&lt; MpiPeriodicParticleID * &gt; PeriodicList</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:14</div></div>
<div class="ttc" id="aPeriodicBoundaryHandler_8h_html_a635a1dfa2b7eb20c456fd98cb48f1616"><div class="ttname"><a href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a635a1dfa2b7eb20c456fd98cb48f1616">PeriodicGhostList</a></div><div class="ttdeci">std::vector&lt; MpiPeriodicGhostParticleID * &gt; PeriodicGhostList</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.h:15</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d89/classDPMBase.html#adfcdb01dd7470948be121efe9b97b5cb">DPMBase::constructor()</a>, and <a class="el" href="../../d5/d89/classDPMBase.html#a4bf6d5290c1a1025dd99a6d0426dcc22">DPMBase::DPMBase()</a>.</p>

</div>
</div>
<a id="a348b964949571fab41e63edfcfca0b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a348b964949571fab41e63edfcfca0b5f">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html">PeriodicBoundaryHandler</a> PeriodicBoundaryHandler::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html">PeriodicBoundaryHandler</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assignment operator, copies only the vector of BasePeriodicBoundary and sets the other variables to 0/nullptr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rhs</td><td>The PeriodicBoundaryHandler on the right hand side of the assignment.</td></tr>
  </table>
  </dd>
</dl>
<p>This is not a copy assignment operator! It just copies all BaseBoundary from the other handler into this handler, and clears all other variables. </p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;rhs)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>.clear();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a> = rhs.<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <span class="stringliteral">&quot;PeriodicBoundaryHandler PeriodicBoundaryHandler::operator =(const BoundaryHandler&amp; rhs)&quot;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399adc30ec20708ef7b0f641ef78b7880a15">DEBUG</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, and <a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a>.</p>

</div>
</div>
<a id="a0457d853f8f5208f19f07823907062b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0457d853f8f5208f19f07823907062b4">&#9670;&nbsp;</a></span>performActionsBeforeAddingParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::performActionsBeforeAddingParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Actions that boundaries perform before adding new periodic/ghost particles. </p>
<div class="fragment"><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;{</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a>* boundary : *<span class="keyword">this</span>)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        boundary-&gt;<a class="code" href="../../d5/db7/classBasePeriodicBoundary.html#a5abcf96baad767aa30e1b85d2c1b22d3">performActionsBeforeAddingParticles</a>();</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div>
<div class="ttc" id="aclassBasePeriodicBoundary_html_a5abcf96baad767aa30e1b85d2c1b22d3"><div class="ttname"><a href="../../d5/db7/classBasePeriodicBoundary.html#a5abcf96baad767aa30e1b85d2c1b22d3">BasePeriodicBoundary::performActionsBeforeAddingParticles</a></div><div class="ttdeci">virtual void performActionsBeforeAddingParticles()</div><div class="ttdoc">Actions that need to be performed before adding new ghost particles.</div><div class="ttdef"><b>Definition:</b> BasePeriodicBoundary.cc:117</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html#a5abcf96baad767aa30e1b85d2c1b22d3">BasePeriodicBoundary::performActionsBeforeAddingParticles()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles()</a>.</p>

</div>
</div>
<a id="a6a2c8607a6aa6691aebbc8131d8651b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2c8607a6aa6691aebbc8131d8651b4">&#9670;&nbsp;</a></span>performNewParticleTransmission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::performNewParticleTransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects and sends the ghost particle data. </p>
<div class="fragment"><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;{</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="../../d3/d19/classMPIContainer.html">MPIContainer</a>&amp; communicator = <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>();</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordtype">int</span> numberOfTargetsReceive = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>.size();</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordtype">int</span> numberOfTargetsSend = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size();</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="comment">//Make sure that the receiving vectors have the correct length</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>.resize(numberOfTargetsReceive);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>.resize(numberOfTargetsReceive);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>.resize(numberOfTargetsReceive);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <a class="code" href="../../d7/d17/classInteractionHandler.html">InteractionHandler</a>&amp; iH = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">interactionHandler</a>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfTargetsReceive; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].resize(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].resize(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>());</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = iH.<a class="code" href="../../d7/d17/classInteractionHandler.html#a50c5292c26c9a08a3c07b7961bc11a40">createMPIInteractionDataArray</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">//Collect data for sending</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData</a>();</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">collectInteractionData</a>();</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="comment">//Send particle and interaction data</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfTargetsSend; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="comment">//Send particle data</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            <span class="keywordtype">int</span> sendCount = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            <span class="keywordtype">int</span> processor = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <span class="keywordtype">int</span> tagSend = <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af3bb304c1b22800e02f6fc0f0e9c0161">MercuryMPITag::PARTICLE_DATA</a>;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">send</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d5/d3b/Map__placement__new_8cpp.html#abe49a82806b5db2e012bc33839af03e6">data</a>(), <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a9d5f1bb92a042f18899b99e4212bf848">MercuryMPIType::PARTICLE</a>, sendCount, processor,</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                              tagSend);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            <span class="comment">//Send complexity</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            tagSend = <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af45763c0a41cb1c6f6c19489ffb41850">MercuryMPITag::PERIODIC_COMPLEXITY</a>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            sendCount = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>();</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">send</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d5/d3b/Map__placement__new_8cpp.html#abe49a82806b5db2e012bc33839af03e6">data</a>(), sendCount, processor, tagSend);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            <span class="comment">//Send interactions</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            tagSend = <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a48f48b1822176489d9338f9ae299773e">MercuryMPITag::INTERACTION_DATA</a>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            sendCount = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="keywordflow">if</span> (sendCount &gt; 0)</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">send</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a40df6fdb695dcd449dcc60c2e5a3a58c">MercuryMPIType::INTERACTION</a>, sendCount, processor, tagSend);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">//Receive data</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfTargetsReceive; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            <span class="comment">//Receive particle data</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="keywordtype">int</span> receiveCount = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            <span class="keywordtype">int</span> processor = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            <span class="keywordtype">int</span> tagReceive = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af3bb304c1b22800e02f6fc0f0e9c0161">MercuryMPITag::PARTICLE_DATA</a>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">receive</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d5/d3b/Map__placement__new_8cpp.html#abe49a82806b5db2e012bc33839af03e6">data</a>(), <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a9d5f1bb92a042f18899b99e4212bf848">MercuryMPIType::PARTICLE</a>,</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                                 receiveCount, processor, tagReceive);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            <span class="comment">//Receive complexity</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            tagReceive = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af45763c0a41cb1c6f6c19489ffb41850">MercuryMPITag::PERIODIC_COMPLEXITY</a>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            receiveCount = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>();</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">receive</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d5/d3b/Map__placement__new_8cpp.html#abe49a82806b5db2e012bc33839af03e6">data</a>(), receiveCount, processor, tagReceive);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="comment">//Send interactions</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            tagReceive = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a> * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a48f48b1822176489d9338f9ae299773e">MercuryMPITag::INTERACTION_DATA</a>;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            receiveCount = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            <span class="keywordflow">if</span> (receiveCount &gt; 0)</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">receive</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a40df6fdb695dcd449dcc60c2e5a3a58c">MercuryMPIType::INTERACTION</a>, receiveCount, processor,</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                                     tagReceive);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">//Synchronise the communications</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#abaea4c84f3c6f8af129b16e11bf2b8e9">sync</a>();</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;}</div>
<div class="ttc" id="aMap__placement__new_8cpp_html_abe49a82806b5db2e012bc33839af03e6"><div class="ttname"><a href="../../d5/d3b/Map__placement__new_8cpp.html#abe49a82806b5db2e012bc33839af03e6">data</a></div><div class="ttdeci">int data[]</div><div class="ttdef"><b>Definition:</b> Map_placement_new.cpp:1</div></div>
<div class="ttc" id="aMpiContainer_8h_html_a5a7093f893224b1b922eb50e386255a5a48f48b1822176489d9338f9ae299773e"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a48f48b1822176489d9338f9ae299773e">INTERACTION_DATA</a></div><div class="ttdeci">@ INTERACTION_DATA</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:63</div></div>
<div class="ttc" id="aMpiContainer_8h_html_a5a7093f893224b1b922eb50e386255a5af3bb304c1b22800e02f6fc0f0e9c0161"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af3bb304c1b22800e02f6fc0f0e9c0161">PARTICLE_DATA</a></div><div class="ttdeci">@ PARTICLE_DATA</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:58</div></div>
<div class="ttc" id="aMpiContainer_8h_html_a5a7093f893224b1b922eb50e386255a5af45763c0a41cb1c6f6c19489ffb41850"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af45763c0a41cb1c6f6c19489ffb41850">PERIODIC_COMPLEXITY</a></div><div class="ttdeci">@ PERIODIC_COMPLEXITY</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:64</div></div>
<div class="ttc" id="aMpiContainer_8h_html_af710d587beb78964e65f3c34c39faa07a40df6fdb695dcd449dcc60c2e5a3a58c"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a40df6fdb695dcd449dcc60c2e5a3a58c">INTERACTION</a></div><div class="ttdeci">@ INTERACTION</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:46</div></div>
<div class="ttc" id="aMpiContainer_8h_html_af710d587beb78964e65f3c34c39faa07a9d5f1bb92a042f18899b99e4212bf848"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a9d5f1bb92a042f18899b99e4212bf848">PARTICLE</a></div><div class="ttdeci">@ PARTICLE</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:46</div></div>
<div class="ttc" id="aclassMPIContainer_html_abaea4c84f3c6f8af129b16e11bf2b8e9"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html#abaea4c84f3c6f8af129b16e11bf2b8e9">MPIContainer::sync</a></div><div class="ttdeci">void sync()</div><div class="ttdoc">Process all pending asynchronous communication requests before continuing.</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:131</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ab7c015999e4ff5044de41c88a3f85ee6"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">PeriodicBoundaryHandler::collectInteractionData</a></div><div class="ttdeci">void collectInteractionData()</div><div class="ttdoc">Collects interaction data into an MPI data structure.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:506</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_afe3c06da2bc716774764d1e1a5be99b3"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">PeriodicBoundaryHandler::collectGhostParticleData</a></div><div class="ttdeci">void collectGhostParticleData()</div><div class="ttdoc">Collects ghost particle data that needs to be be sent to other processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:475</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">collectInteractionData()</a>, <a class="el" href="../../d7/d17/classInteractionHandler.html#a50c5292c26c9a08a3c07b7961bc11a40">InteractionHandler::createMPIInteractionDataArray()</a>, <a class="el" href="../../d5/d3b/Map__placement__new_8cpp.html#abe49a82806b5db2e012bc33839af03e6">data</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance()</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a40df6fdb695dcd449dcc60c2e5a3a58c">INTERACTION</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a48f48b1822176489d9338f9ae299773e">INTERACTION_DATA</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>, <a class="el" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">DPMBase::interactionHandler</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a9d5f1bb92a042f18899b99e4212bf848">PARTICLE</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af3bb304c1b22800e02f6fc0f0e9c0161">PARTICLE_DATA</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5af45763c0a41cb1c6f6c19489ffb41850">PERIODIC_COMPLEXITY</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af9bd41dfb6481378ff63de04f61df79b">periodicGhostComplexitySend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acebdc8f6a820ff0e9e5cdf76fbbe06e4">periodicGhostParticleSend_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">MPIContainer::receive()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">MPIContainer::send()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>, and <a class="el" href="../../d3/d19/classMPIContainer.html#abaea4c84f3c6f8af129b16e11bf2b8e9">MPIContainer::sync()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#abc91cd103173edc7cca97fecde8b96c4">addNewParticle()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles()</a>.</p>

</div>
</div>
<a id="a47b641ee0ea50cb9db8eccd7aead98b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b641ee0ea50cb9db8eccd7aead98b1">&#9670;&nbsp;</a></span>prepareNewParticleTransmission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::prepareNewParticleTransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial preparation work for sending ghost particles. </p>
<p>The first step in adding new particles is the prepare step. First the target domains are determined such that every processors knows where particles are coming from. This step includes finding new particles. The second step is to find the interactions that have to be send with the new particles. The receiving targets need to know how many particles and interactions they receive which is the third step. Finally a communication synchronisation is performed to actually perform the communications which were pending in the MPIContainer. </p>
<div class="fragment"><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;{</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">//Communicate which domains send and which domains receive particles</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">communicateTargetDomains</a>();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="comment">//Find new interactions</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">findNewInteractions</a>();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="comment">//Communicate the number of particles and interactions send to the other domains</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions</a>();</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="comment">//Synchronise the communications</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>().<a class="code" href="../../d3/d19/classMPIContainer.html#abaea4c84f3c6f8af129b16e11bf2b8e9">sync</a>();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a324ff716c33092bfb574bdbe30f330ed"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">PeriodicBoundaryHandler::communicateTargetDomains</a></div><div class="ttdeci">void communicateTargetDomains()</div><div class="ttdoc">Creats a list of send and receive targets for periodic/ghost particles.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1372</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a56430d2a59f476c983cd9037d7c3b4d7"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">PeriodicBoundaryHandler::communicateNumberOfNewParticlesAndInteractions</a></div><div class="ttdeci">void communicateNumberOfNewParticlesAndInteractions()</div><div class="ttdoc">Communicate the number of new particles and interactions to target processors.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1426</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_aab43137fc1f5f3106435e15b72e96102"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">PeriodicBoundaryHandler::findNewInteractions</a></div><div class="ttdeci">void findNewInteractions()</div><div class="ttdoc">Finds interactions that accompany future ghost particles.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1321</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">communicateTargetDomains()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">findNewInteractions()</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance()</a>, and <a class="el" href="../../d3/d19/classMPIContainer.html#abaea4c84f3c6f8af129b16e11bf2b8e9">MPIContainer::sync()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#abc91cd103173edc7cca97fecde8b96c4">addNewParticle()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fed9f5051c6f38b1b12975ad58ebb8f">addNewParticles()</a>.</p>

</div>
</div>
<a id="a9a95ef3390d944a93898b505708c2767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a95ef3390d944a93898b505708c2767">&#9670;&nbsp;</a></span>preparePositionAndVelocityUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::preparePositionAndVelocityUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects the position and velocity data from periodic boundaries. </p>
<div class="fragment"><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;{</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <a class="code" href="../../d3/d19/classMPIContainer.html">MPIContainer</a>&amp; communicator = <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>();</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numberOfProcessors = communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a1157f20c9d9c5066cfd2886c1794f2b7">getNumberOfProcessors</a>();</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> processorID = communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ad9d014904fefeae911aad76a41ef33e6">getProcessorID</a>();</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="comment">//For all lists that contain periodic particles</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfProcessors; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numberOfParticles = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].size();</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordflow">if</span> (numberOfParticles &gt; 0 &amp;&amp; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> != processorID)</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            <span class="comment">//Increase the vector size;</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">updatePositionDataSend_</a>.emplace_back(0);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">updateVelocityDataSend_</a>.emplace_back(0);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="comment">//Collect the data</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> = 0; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> &lt; numberOfParticles; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>++)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>]-&gt;particle;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">updatePositionDataSend_</a>.back().push_back(<a class="code" href="../../d2/d58/MpiDataClass_8cc.html#ab4760fcc1dd47d00bbb333843b6bd123">copyPositionFrom</a>(particle));</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">updateVelocityDataSend_</a>.back().push_back(<a class="code" href="../../d2/d58/MpiDataClass_8cc.html#ae33d8ef814c32963cf5390399f7616d9">copyVelocityFrom</a>(particle));</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            </div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="comment">//Send position data</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = numberOfParticles;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> processor = <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tag = processorID * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + processor * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5ae4c4951146796d46e0bab418fd93b7cc">MercuryMPITag::POSITION_DATA</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">send</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">updatePositionDataSend_</a>.back().data(), <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07ad34d5395053a1781444508e570283be1">MercuryMPIType::POSITION</a>, count, processor, tag);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="comment">//Send velocity data</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            tag = processorID * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + processor * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a7f7e344e24e47a9dd902d14675d168f5">MercuryMPITag::VELOCITY_DATA</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">send</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">updateVelocityDataSend_</a>.back().data(), <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a06e15744a8bd69fceeeb39ab3614b3f6">MercuryMPIType::VELOCITY</a>, count, processor, tag);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="comment">//For all lists that contain ghost particles</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfProcessors; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    {</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numberOfParticles = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].size();</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">if</span> (numberOfParticles &gt; 0 &amp;&amp; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> != processorID)</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            <span class="comment">//Increase the vector size</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>.emplace_back(numberOfParticles);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>.emplace_back(numberOfParticles);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            <span class="comment">//Receive position data</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;            <span class="keywordtype">int</span> count = numberOfParticles;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            <span class="keywordtype">int</span> processor = <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <span class="keywordtype">int</span> tag = processor * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + processorID * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5ae4c4951146796d46e0bab418fd93b7cc">MercuryMPITag::POSITION_DATA</a>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">receive</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>.back().data(), <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07ad34d5395053a1781444508e570283be1">MercuryMPIType::POSITION</a>, count, processor,</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                 tag);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            <span class="comment">//Receive velocity data</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            tag = processor * <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a> + processorID * 10 + <a class="code" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a7f7e344e24e47a9dd902d14675d168f5">MercuryMPITag::VELOCITY_DATA</a>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">receive</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>.back().data(), <a class="code" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07ad34d5395053a1781444508e570283be1">MercuryMPIType::POSITION</a>, count, processor,</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                                 tag);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">//Synchronise all the requests</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#abaea4c84f3c6f8af129b16e11bf2b8e9">sync</a>();</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;}</div>
<div class="ttc" id="aMpiContainer_8h_html_a5a7093f893224b1b922eb50e386255a5a7f7e344e24e47a9dd902d14675d168f5"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a7f7e344e24e47a9dd902d14675d168f5">VELOCITY_DATA</a></div><div class="ttdeci">@ VELOCITY_DATA</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:61</div></div>
<div class="ttc" id="aMpiContainer_8h_html_a5a7093f893224b1b922eb50e386255a5ae4c4951146796d46e0bab418fd93b7cc"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5ae4c4951146796d46e0bab418fd93b7cc">POSITION_DATA</a></div><div class="ttdeci">@ POSITION_DATA</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:59</div></div>
<div class="ttc" id="aMpiContainer_8h_html_af710d587beb78964e65f3c34c39faa07a06e15744a8bd69fceeeb39ab3614b3f6"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a06e15744a8bd69fceeeb39ab3614b3f6">VELOCITY</a></div><div class="ttdeci">@ VELOCITY</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:46</div></div>
<div class="ttc" id="aMpiContainer_8h_html_af710d587beb78964e65f3c34c39faa07ad34d5395053a1781444508e570283be1"><div class="ttname"><a href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07ad34d5395053a1781444508e570283be1">POSITION</a></div><div class="ttdeci">@ POSITION</div><div class="ttdef"><b>Definition:</b> MpiContainer.h:46</div></div>
<div class="ttc" id="aMpiDataClass_8cc_html_ab4760fcc1dd47d00bbb333843b6bd123"><div class="ttname"><a href="../../d2/d58/MpiDataClass_8cc.html#ab4760fcc1dd47d00bbb333843b6bd123">copyPositionFrom</a></div><div class="ttdeci">MPIParticlePosition copyPositionFrom(BaseParticle *particle)</div><div class="ttdoc">Copies the position from a particle to an MPIParticlePosition class.</div><div class="ttdef"><b>Definition:</b> MpiDataClass.cc:153</div></div>
<div class="ttc" id="aMpiDataClass_8cc_html_ae33d8ef814c32963cf5390399f7616d9"><div class="ttname"><a href="../../d2/d58/MpiDataClass_8cc.html#ae33d8ef814c32963cf5390399f7616d9">copyVelocityFrom</a></div><div class="ttdeci">MPIParticleVelocity copyVelocityFrom(BaseParticle *particle)</div><div class="ttdoc">Copies the velocity from a particle to an MPIParticleVelocity class.</div><div class="ttdef"><b>Definition:</b> MpiDataClass.cc:169</div></div>
<div class="ttc" id="aclassMPIContainer_html_a1157f20c9d9c5066cfd2886c1794f2b7"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html#a1157f20c9d9c5066cfd2886c1794f2b7">MPIContainer::getNumberOfProcessors</a></div><div class="ttdeci">std::size_t getNumberOfProcessors() const</div><div class="ttdoc">Get the total number of processors participating in this simulation.</div><div class="ttdef"><b>Definition:</b> MpiContainer.cc:83</div></div>
<div class="ttc" id="aclassMPIContainer_html_ad9d014904fefeae911aad76a41ef33e6"><div class="ttname"><a href="../../d3/d19/classMPIContainer.html#ad9d014904fefeae911aad76a41ef33e6">MPIContainer::getProcessorID</a></div><div class="ttdeci">std::size_t getProcessorID()</div><div class="ttdoc">Reduces a scalar on all processors to one scalar on a target processor.</div><div class="ttdef"><b>Definition:</b> MpiContainer.cc:92</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d58/MpiDataClass_8cc.html#ab4760fcc1dd47d00bbb333843b6bd123">copyPositionFrom()</a>, <a class="el" href="../../d2/d58/MpiDataClass_8cc.html#ae33d8ef814c32963cf5390399f7616d9">copyVelocityFrom()</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a1157f20c9d9c5066cfd2886c1794f2b7">MPIContainer::getNumberOfProcessors()</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#ad9d014904fefeae911aad76a41ef33e6">MPIContainer::getProcessorID()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance()</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a63e32d00bc48471b4db49d481ac228dc">MAX_PROC</a>, <a class="el" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07ad34d5395053a1781444508e570283be1">POSITION</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5ae4c4951146796d46e0bab418fd93b7cc">POSITION_DATA</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a3176c8442db521646efe53f7869f3fd5">MPIContainer::receive()</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#ae30e765400529d59a80f714d49e6be11">MPIContainer::send()</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#abaea4c84f3c6f8af129b16e11bf2b8e9">MPIContainer::sync()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a8bf0ba961a5a5ae651e924256b19f227">updatePositionDataSend_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af243c7a13194e6db6cb6ff78d2926909">updateVelocityDataSend_</a>, <a class="el" href="../../d5/dd3/MpiContainer_8h.html#af710d587beb78964e65f3c34c39faa07a06e15744a8bd69fceeeb39ab3614b3f6">VELOCITY</a>, and <a class="el" href="../../d5/dd3/MpiContainer_8h.html#a5a7093f893224b1b922eb50e386255a5a7f7e344e24e47a9dd902d14675d168f5">VELOCITY_DATA</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a76c0adeaa55a505950b5a5a550d6b507">updateStatus()</a>.</p>

</div>
</div>
<a id="ade3bb036c2d726dcacdd0d1b648edd32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade3bb036c2d726dcacdd0d1b648edd32">&#9670;&nbsp;</a></span>processLocalGhostParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::processLocalGhostParticles </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>newParticles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates ghost particles of periodic particles that are located on the same processor. </p>
<p>Ghost particles sometimes are located on the same processor as the original periodic particle. These particles are processed in this function. Firstly the ghost is created with the correct position, periodic complexity and flags and is added to the particleHandler. Secondly ID's are made for both ghost and periodic particles to keep track of their movements. Periodic particles are flaged now as being in the periodic domain. </p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="comment">//Check if the processor is sending ghosts to itself</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = 0; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>++)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleID</a>* ppid = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>][<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>];</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle = ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <span class="comment">//Create ghost particle</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* pGhost = particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#aaefb87267f79198b0a7e02b52cdc419e">copy</a>();</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <span class="comment">//Obtain and set the ghost periodic complexity</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">setPeriodicComplexity</a>(ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ab2ccd31e58715c2ad93bbd2ed3eee07d">targetPeriodicComplexity</a>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                <span class="comment">//Shift the particle</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle</a>(pGhost);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                <span class="comment">//Set the correct flags</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#ab5fb6e830e3cf1fa460960e73d754c14">setPeriodicGhostParticle</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">setInPeriodicDomain</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                <span class="comment">//Note: mpi flags dont have to be set for local particles</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                <span class="comment">//these flags are copied from the original particle</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Adding a ghost with id % at position %&quot;</span>, pGhost-&gt;<a class="code" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">getId</a>(), pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                <span class="comment">//Finally add it to the particle handler</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d5/d6e/classParticleHandler.html#ac8d3f6878d5af04dc8f34e1956d81b53">addGhostObject</a>(pGhost);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="comment">//Do some bookkeeping</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicGhostParticleID</a>* gpid = <span class="keyword">new</span> <a class="code" href="../../d6/d51/MpiDataClass_8h.html#a7fe7b4696d630e2e688b9fad94815e0e">MpiPeriodicGhostParticleID</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                gpid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a> = pGhost;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                gpid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">otherParticle</a> = particle;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                gpid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a49e15eb561060560695d081b21ad4e66">realPeriodicComplexity</a> = particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>].push_back(gpid);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                <span class="comment">//Flag real particle and do some bookkeeping</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">setInPeriodicDomain</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">otherParticle</a> = pGhost;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                <span class="comment">//Add to the new particle list for an interaction update</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                newParticles.push_back(pGhost);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;}</div>
<div class="ttc" id="aMpiDataClass_8h_html_a7fe7b4696d630e2e688b9fad94815e0e"><div class="ttname"><a href="../../d6/d51/MpiDataClass_8h.html#a7fe7b4696d630e2e688b9fad94815e0e">MpiPeriodicGhostParticleID</a></div><div class="ttdeci">MpiPeriodicParticleIDBase MpiPeriodicGhostParticleID</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:146</div></div>
<div class="ttc" id="aclassBaseParticle_html_a36a61c1de5f94daa02a99c530ef16367"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">BaseParticle::setInPeriodicDomain</a></div><div class="ttdeci">void setInPeriodicDomain(bool flag)</div><div class="ttdoc">Flags the status of the particle whether it is in the periodic communication zone or not.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:275</div></div>
<div class="ttc" id="aclassBaseParticle_html_aaefb87267f79198b0a7e02b52cdc419e"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#aaefb87267f79198b0a7e02b52cdc419e">BaseParticle::copy</a></div><div class="ttdeci">virtual BaseParticle * copy() const =0</div><div class="ttdoc">Particle copy method. It calls to copy constructor of this Particle, useful for polymorphism.</div></div>
<div class="ttc" id="aclassBaseParticle_html_ab5fb6e830e3cf1fa460960e73d754c14"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#ab5fb6e830e3cf1fa460960e73d754c14">BaseParticle::setPeriodicGhostParticle</a></div><div class="ttdeci">void setPeriodicGhostParticle(bool flag)</div><div class="ttdoc">Flags the status of the particle to be a ghost in periodic boundary or not.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:285</div></div>
<div class="ttc" id="aclassMpiPeriodicParticleIDBase_html_a49e15eb561060560695d081b21ad4e66"><div class="ttname"><a href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a49e15eb561060560695d081b21ad4e66">MpiPeriodicParticleIDBase::realPeriodicComplexity</a></div><div class="ttdeci">std::vector&lt; int &gt; realPeriodicComplexity</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:140</div></div>
<div class="ttc" id="aclassMpiPeriodicParticleIDBase_html_a73dcdf262b0cc9c8b4ee13a532edc808"><div class="ttname"><a href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">MpiPeriodicParticleIDBase::otherParticle</a></div><div class="ttdeci">BaseParticle * otherParticle</div><div class="ttdef"><b>Definition:</b> MpiDataClass.h:130</div></div>
<div class="ttc" id="aclassParticleHandler_html_ac8d3f6878d5af04dc8f34e1956d81b53"><div class="ttname"><a href="../../d5/d6e/classParticleHandler.html#ac8d3f6878d5af04dc8f34e1956d81b53">ParticleHandler::addGhostObject</a></div><div class="ttdeci">void addGhostObject(int fromProcessor, int toProcessor, BaseParticle *p)</div><div class="ttdoc">Adds a ghost particle located at fromProcessor to toProcessor.</div><div class="ttdef"><b>Definition:</b> ParticleHandler.cc:275</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d6e/classParticleHandler.html#ac8d3f6878d5af04dc8f34e1956d81b53">ParticleHandler::addGhostObject()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#aaefb87267f79198b0a7e02b52cdc419e">BaseParticle::copy()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">BaseObject::getId()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">BaseParticle::getPeriodicComplexity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">BaseInteractable::getPosition()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a55e04cf035880b2473905910fd6e294e">numberOfNewPeriodicGhostParticlesSend_</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">MpiPeriodicParticleIDBase::otherParticle</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a>, <a class="el" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">DPMBase::particleHandler</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a49e15eb561060560695d081b21ad4e66">MpiPeriodicParticleIDBase::realPeriodicComplexity</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">BaseParticle::setInPeriodicDomain()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">BaseParticle::setPeriodicComplexity()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#ab5fb6e830e3cf1fa460960e73d754c14">BaseParticle::setPeriodicGhostParticle()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle()</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ab2ccd31e58715c2ad93bbd2ed3eee07d">MpiPeriodicParticleIDBase::targetPeriodicComplexity</a>, and <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="a24f5118b9078766197f4d7d561a46cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f5118b9078766197f4d7d561a46cfc">&#9670;&nbsp;</a></span>processLocalInteractionData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::processLocalInteractionData </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>newParticles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the interaction data for local ghosts. </p>
<p>Newly added ghost particles also need their interactions. This function adds the interactions to the correct ghost particles. The interaction data send over MPI only contains the ID's of the particles so a search has to be performed to obtain the particle pointers. For the ghost particles we use the newParticle list that contains all newly added ghost particles. For the other particle an hgrid search is performed. Finally when the two interactables are found the data is copied from the data vector. Note: because these ghost particles are local, the data is actually never send. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newParticles</td><td>A list containing the newly added ghost particles </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;{</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="../../d7/d17/classInteractionHandler.html">InteractionHandler</a>&amp; iH = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">interactionHandler</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>.size(); <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l = 0; l &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>]; l++)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> identificationP;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> identificationI;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <span class="keywordtype">bool</span> isWallInteraction;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <span class="keywordtype">unsigned</span> timeStamp;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="comment">//Get the general information required to setup a new interaction</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                iH.<a class="code" href="../../d7/d17/classInteractionHandler.html#ab772365a2be9d545ecaba9ba443a63e2">getInteractionDetails</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], l, identificationP, identificationI,</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                                         isWallInteraction, timeStamp);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                <span class="comment">//Obtain the particle pointer of the ghost</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* pGhost;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="keywordtype">int</span> idOther;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <span class="comment">//Check if the particle is P</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle : newParticles)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    <span class="keywordflow">if</span> (particle-&gt;getId() == identificationP)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                        pGhost = particle;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                        idOther = identificationI;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                    </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                    <span class="keywordflow">if</span> (particle-&gt;getId() == identificationI)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        pGhost = particle;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                        idOther = identificationP;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                <span class="comment">//If it is a wall interaction, do stuff</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                <span class="keywordflow">if</span> (isWallInteraction)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                    <a class="code" href="../../d0/dd3/classBaseWall.html">BaseWall</a>* <a class="code" href="../../d4/dbf/main_8h.html#a60ef6e1bcfabb95cfeb300e1d03ce470">I</a> = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#ae9dd1e2792d7c896ea806dff1987bf1d">getObjectById</a>(identificationI);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    <span class="comment">//Create interactions</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    <a class="code" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a>* <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = <a class="code" href="../../d4/dbf/main_8h.html#a60ef6e1bcfabb95cfeb300e1d03ce470">I</a>-&gt;getInteractionWith(pGhost, timeStamp, &amp;iH);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>!= <span class="keyword">nullptr</span>) <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>-&gt;setMPIInteraction(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], l, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Wall interaction added!&quot;</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    <span class="comment">//Obtain potential interaction particles</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    std::vector&lt;BaseParticle*&gt; interactingParticleList;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                    <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a34dfc1fee41b1d0254ac48a63d303306">hGridGetInteractingParticleList</a>(pGhost, interactingParticleList);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    <span class="keywordflow">if</span> (interactingParticleList.empty())</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Failed in creating an interaction :(&quot;</span>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                    </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                    <span class="comment">//Find the other interacting particle</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* otherParticle = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* p2 : interactingParticleList)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                    {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                        <span class="keywordflow">if</span> (p2-&gt;getId() == idOther)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                        {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                            otherParticle = p2;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                        }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                    <span class="keywordflow">if</span> (otherParticle == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                        <span class="comment">//The interacting object can&#39;t be found</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                    }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    <span class="comment">//Add the interaction</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    <a class="code" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a>* <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a28921f4bda6bebd771505c5bef7aa9ff">getInteractionWith</a>(otherParticle, timeStamp, &amp;iH);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>!= <span class="keyword">nullptr</span>) <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>-&gt;setMPIInteraction(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>], l, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div>
<div class="ttc" id="aclassBaseHandler_html_ae9dd1e2792d7c896ea806dff1987bf1d"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#ae9dd1e2792d7c896ea806dff1987bf1d">BaseHandler::getObjectById</a></div><div class="ttdeci">T * getObjectById(const unsigned int id)</div><div class="ttdoc">Gets a pointer to the Object at the specified index in the BaseHandler.</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:573</div></div>
<div class="ttc" id="aclassBaseParticle_html_a28921f4bda6bebd771505c5bef7aa9ff"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a28921f4bda6bebd771505c5bef7aa9ff">BaseParticle::getInteractionWith</a></div><div class="ttdeci">BaseInteraction * getInteractionWith(BaseParticle *P, unsigned timeStamp, InteractionHandler *interactionHandler) override</div><div class="ttdoc">Checks if particle is in interaction with given particle P, and if so, returns vector of pointer to t...</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:667</div></div>
<div class="ttc" id="aclassBaseWall_html"><div class="ttname"><a href="../../d0/dd3/classBaseWall.html">BaseWall</a></div><div class="ttdoc">Basic class for walls.</div><div class="ttdef"><b>Definition:</b> BaseWall.h:28</div></div>
<div class="ttc" id="aclassDPMBase_html_a34dfc1fee41b1d0254ac48a63d303306"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a34dfc1fee41b1d0254ac48a63d303306">DPMBase::hGridGetInteractingParticleList</a></div><div class="ttdeci">virtual void hGridGetInteractingParticleList(BaseParticle *obj, std::vector&lt; BaseParticle * &gt; &amp;list)</div><div class="ttdoc">Creates a list of neighbour particles obtained from the hgrid.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:989</div></div>
<div class="ttc" id="aclassDPMBase_html_a63d4452eb048b1213a3876834032153c"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">DPMBase::wallHandler</a></div><div class="ttdeci">WallHandler wallHandler</div><div class="ttdoc">An object of the class WallHandler. Contains pointers to all the walls created.</div><div class="ttdef"><b>Definition:</b> DPMBase.h:1453</div></div>
<div class="ttc" id="aclassInteractionHandler_html_ab772365a2be9d545ecaba9ba443a63e2"><div class="ttname"><a href="../../d7/d17/classInteractionHandler.html#ab772365a2be9d545ecaba9ba443a63e2">InteractionHandler::getInteractionDetails</a></div><div class="ttdeci">void getInteractionDetails(void *interactionData, unsigned int index, unsigned int &amp;identificationP, unsigned int &amp;identificationI, bool &amp;isWallInteraction, unsigned &amp;timeStamp)</div><div class="ttdoc">reads the basic interaction details from an MPIInteractionDataArray</div><div class="ttdef"><b>Definition:</b> InteractionHandler.cc:225</div></div>
<div class="ttc" id="amain_8h_html_a60ef6e1bcfabb95cfeb300e1d03ce470"><div class="ttname"><a href="../../d4/dbf/main_8h.html#a60ef6e1bcfabb95cfeb300e1d03ce470">I</a></div><div class="ttdeci">#define I</div><div class="ttdef"><b>Definition:</b> main.h:127</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d7/d17/classInteractionHandler.html#ab772365a2be9d545ecaba9ba443a63e2">InteractionHandler::getInteractionDetails()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a28921f4bda6bebd771505c5bef7aa9ff">BaseParticle::getInteractionWith()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#ae9dd1e2792d7c896ea806dff1987bf1d">BaseHandler&lt; T &gt;::getObjectById()</a>, <a class="el" href="../../d5/d89/classDPMBase.html#a34dfc1fee41b1d0254ac48a63d303306">DPMBase::hGridGetInteractingParticleList()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d4/dbf/main_8h.html#a60ef6e1bcfabb95cfeb300e1d03ce470">I</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a344413d2630f097557e5bd488da18425">interactionDataSend_</a>, <a class="el" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">DPMBase::interactionHandler</a>, <a class="el" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aefb9a655cc97a054443e9c42e6ef6856">numberOfNewInteractionsSend_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>, <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, and <a class="el" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">DPMBase::wallHandler</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="a57fa1344e246ab98b77863458947d130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57fa1344e246ab98b77863458947d130">&#9670;&nbsp;</a></span>processPeriodicParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::processPeriodicParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a periodioc particle ID for book keeping and moves the ID to the correct list. </p>
<p>Periodic particles that have a copy somewhere else create an ID for book keeping This function also flags the particle being in the periodic domain such that it is ignored when finding new periodic particles. </p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> : <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = 0; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].size(); <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>++)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="comment">//Update the particle status</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleID</a>* ppid = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>];</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a>-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">setInPeriodicDomain</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="comment">//make new entry in the list</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].push_back(ppid);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a7fe72b6c83450e2d79ca0a564f2f3c51">newPeriodicParticleList_</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcad85ddabc2c7b68d4cb4434fec52cd">sendTargetList_</a>, and <a class="el" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">BaseParticle::setInPeriodicDomain()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="ac91ed0066f892cf3ad6a530d1d21fdf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91ed0066f892cf3ad6a530d1d21fdf9">&#9670;&nbsp;</a></span>processReceivedGhostParticleData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::processReceivedGhostParticleData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td>
          <td class="paramname"><em>targetIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>newParticles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes the received ghost data, creates a ghost particle and does some book keeping. </p>
<p>When processors have received new ghost particle data they have to be processed. First the periodic complexity of the ghost is determined. Secondly the ghost is created and given the correct flags and position and is added to the simulation. Thirdly a periodicGhost ID is created for book keeping purposes. A newParticle list is tracking the newly added ghost particles for a later step, processing the interactions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">targetIndex</td><td>The index in the receiveTargetList which indicates where the data is coming from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newParticles</td><td>A list to which new ghost particles are added. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> = 0; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>[targetIndex]; <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>++)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">//Create the ghost particle and copy basic information</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle = <a class="code" href="../../de/dd9/classMPISphericalParticle.html#a3ffee53963c14ca99cc380c0d9e48e59">MPIParticle::newParticle</a>();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="../../d2/d58/MpiDataClass_8cc.html#a3aa1246c704d41b7861027ae6423f6bd">copyDataFromMPIParticleToParticle</a>(&amp;(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>[targetIndex][<a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>]),</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                          particle, &amp;(<a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;particleHandler));</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="comment">//Obtain real periodic complexity</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        std::vector&lt;int&gt; realPeriodicComplexity = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity</a>(particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">//Obtain and set the ghost periodic complexity</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        std::vector&lt;int&gt; ghostPeriodicComplexity(<a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>());</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a> = 0; <a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a>++)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            ghostPeriodicComplexity[<a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a>] = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>[targetIndex][<a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>() * <a class="code" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a> + <a class="code" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a>];</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">setPeriodicComplexity</a>(ghostPeriodicComplexity);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">//Shift the ghost particle to it&#39;s correct positions and velocities</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle</a>(particle, ghostPeriodicComplexity);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="comment">//Add particle to simulation</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Adding a ghost at position %&quot;</span>, particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d5/d6e/classParticleHandler.html#ac8d3f6878d5af04dc8f34e1956d81b53">addGhostObject</a>(particle);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">//Set the correct flags</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* pGhost = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#af7cff62ff30bc63be61534ce38f017ce">getLastObject</a>();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#ab5fb6e830e3cf1fa460960e73d754c14">setPeriodicGhostParticle</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">setInPeriodicDomain</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">//Give the correct mpi flags </span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">setMPIFlags</a>(pGhost);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="comment">//Create the periodic ID</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicGhostParticleID</a>* gpid = <span class="keyword">new</span> <a class="code" href="../../d6/d51/MpiDataClass_8h.html#a7fe7b4696d630e2e688b9fad94815e0e">MpiPeriodicGhostParticleID</a>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        gpid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a49e15eb561060560695d081b21ad4e66">realPeriodicComplexity</a> = realPeriodicComplexity;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        gpid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a> = pGhost;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>[targetIndex]].push_back(gpid);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="comment">//Add to the newParticle list used for possible interactions</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        newParticles.push_back(pGhost);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div>
<div class="ttc" id="aMpiDataClass_8cc_html_a3aa1246c704d41b7861027ae6423f6bd"><div class="ttname"><a href="../../d2/d58/MpiDataClass_8cc.html#a3aa1246c704d41b7861027ae6423f6bd">copyDataFromMPIParticleToParticle</a></div><div class="ttdeci">void copyDataFromMPIParticleToParticle(MPIParticle *bP, BaseParticle *p, ParticleHandler *particleHandler)</div><div class="ttdoc">Copies data from an MPIParticle class to a BaseParticle and sets the particleHandler and species.</div><div class="ttdef"><b>Definition:</b> MpiDataClass.cc:84</div></div>
<div class="ttc" id="aclassBaseHandler_html_af7cff62ff30bc63be61534ce38f017ce"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#af7cff62ff30bc63be61534ce38f017ce">BaseHandler::getLastObject</a></div><div class="ttdeci">T * getLastObject()</div><div class="ttdoc">Gets a pointer to the last Object in this BaseHandler.</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:642</div></div>
<div class="ttc" id="aclassMPISphericalParticle_html_a3ffee53963c14ca99cc380c0d9e48e59"><div class="ttname"><a href="../../de/dd9/classMPISphericalParticle.html#a3ffee53963c14ca99cc380c0d9e48e59">MPISphericalParticle::newParticle</a></div><div class="ttdeci">static BaseParticle * newParticle()</div><div class="ttdef"><b>Definition:</b> MpiDataClass.cc:136</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a25a29feb7749e56a8bbedf07fe62dc00"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">PeriodicBoundaryHandler::setMPIFlags</a></div><div class="ttdeci">void setMPIFlags(BaseParticle *particle)</div><div class="ttdoc">Sets the MPIParticle and isMPIParticle flags of a given particle.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:421</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d6e/classParticleHandler.html#ac8d3f6878d5af04dc8f34e1956d81b53">ParticleHandler::addGhostObject()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity()</a>, <a class="el" href="../../d2/d58/MpiDataClass_8cc.html#a3aa1246c704d41b7861027ae6423f6bd">copyDataFromMPIParticleToParticle()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#af7cff62ff30bc63be61534ce38f017ce">BaseHandler&lt; T &gt;::getLastObject()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">BaseInteractable::getPosition()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../da/dd4/tut__arithmetic__redux__minmax_8cpp.html#a39513f0f8d942bf9ef17b2e87ac6d34e">j</a>, <a class="el" href="../../df/db8/level2__impl_8h.html#ad46ea6bf5745e72b985b11878e46a45d">k</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../de/dd9/classMPISphericalParticle.html#a3ffee53963c14ca99cc380c0d9e48e59">MPISphericalParticle::newParticle()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a449bae002a6f996c55660bfdff97e2cc">numberOfNewPeriodicGhostParticlesReceive_</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a>, <a class="el" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">DPMBase::particleHandler</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab67cb0fad070436e7304b10c63e7fce3">periodicGhostComplexityReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae28535947c53535345e889562aa070f1">periodicGhostParticleReceive_</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a49e15eb561060560695d081b21ad4e66">MpiPeriodicParticleIDBase::realPeriodicComplexity</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aec54174b3b6b52738646b576fc91ee5b">receiveTargetList_</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">BaseParticle::setInPeriodicDomain()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">setMPIFlags()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">BaseParticle::setPeriodicComplexity()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#ab5fb6e830e3cf1fa460960e73d754c14">BaseParticle::setPeriodicGhostParticle()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle()</a>, and <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="a9890abeac910b34f5569ab438eda54d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9890abeac910b34f5569ab438eda54d5">&#9670;&nbsp;</a></span>processReceivedInteractionData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::processReceivedInteractionData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&#160;</td>
          <td class="paramname"><em>targetIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>newParticles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the received interaction data. </p>
<p>Newly added ghost particles also need their interactions. This function adds the interactions to the correct ghost particles. The interaction data send over MPI only contains the ID's of the particles so a search has to be performed to obtain the particle pointers. For the ghost particles we use the newParticle list that contains all newly added ghost particles. For the other particle an hgrid search is performed. Finally when the two interactables are found the data is copied from the data vector. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">targetIndex</td><td>The index in the receiveTargetList which indicates where the data is coming from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newParticles</td><td>A list containing the newly added ghost particles </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;{</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="../../d7/d17/classInteractionHandler.html">InteractionHandler</a>&amp; iH = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">interactionHandler</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l = 0; l &lt; <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>[targetIndex]; l++)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> identificationP;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> identificationI;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordtype">bool</span> isWallInteraction;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordtype">unsigned</span> timeStamp;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="comment">//Get the general information required to setup a new interaction</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        iH.<a class="code" href="../../d7/d17/classInteractionHandler.html#ab772365a2be9d545ecaba9ba443a63e2">getInteractionDetails</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>[targetIndex], l, identificationP, identificationI,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                 isWallInteraction, timeStamp);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="comment">//Obtain the particle pointer of the ghost</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* pGhost;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordtype">int</span> idOther;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="comment">//Check if the particle is P</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle : newParticles)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">if</span> (particle-&gt;getId() == identificationP)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                pGhost = particle;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                idOther = identificationI;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">if</span> (particle-&gt;getId() == identificationI)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                pGhost = particle;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                idOther = identificationP;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="comment">//If it is a wall interaction, do stuff</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">if</span> (isWallInteraction)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="../../d8/d84/classBaseInteractable.html">BaseInteractable</a>* <a class="code" href="../../d4/dbf/main_8h.html#a60ef6e1bcfabb95cfeb300e1d03ce470">I</a> = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">wallHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#ae9dd1e2792d7c896ea806dff1987bf1d">getObjectById</a>(identificationI);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="comment">//Create interactions</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a>* <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d4/dbf/main_8h.html#a60ef6e1bcfabb95cfeb300e1d03ce470">I</a>-&gt;getInteractionWith(pGhost, timeStamp, &amp;iH);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>!= <span class="keyword">nullptr</span>) <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;setMPIInteraction(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>[targetIndex], l, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="comment">//Obtain potential interaction particles</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            std::vector&lt;BaseParticle*&gt; interactingParticleList;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#a34dfc1fee41b1d0254ac48a63d303306">hGridGetInteractingParticleList</a>(pGhost, interactingParticleList);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="comment">//Find the other interacting particle</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* otherParticle;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* p2 : interactingParticleList)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">if</span> (p2-&gt;getId() == idOther)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                    otherParticle = p2;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="comment">//Add the interaction</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <a class="code" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a>* <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a28921f4bda6bebd771505c5bef7aa9ff">getInteractionWith</a>(otherParticle, timeStamp, &amp;iH);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>!= <span class="keyword">nullptr</span>) <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;setMPIInteraction(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>[targetIndex], l, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="ttc" id="aclassBaseInteractable_html"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html">BaseInteractable</a></div><div class="ttdoc">Defines the basic properties that a interactable object can have.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.h:34</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d7/d17/classInteractionHandler.html#ab772365a2be9d545ecaba9ba443a63e2">InteractionHandler::getInteractionDetails()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a28921f4bda6bebd771505c5bef7aa9ff">BaseParticle::getInteractionWith()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#ae9dd1e2792d7c896ea806dff1987bf1d">BaseHandler&lt; T &gt;::getObjectById()</a>, <a class="el" href="../../d5/d89/classDPMBase.html#a34dfc1fee41b1d0254ac48a63d303306">DPMBase::hGridGetInteractingParticleList()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d4/dbf/main_8h.html#a60ef6e1bcfabb95cfeb300e1d03ce470">I</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a77291fc44b9ae334533736b973d7b366">interactionDataReceive_</a>, <a class="el" href="../../d5/d89/classDPMBase.html#a9b036552de2a419544b43d5d81c59df7">DPMBase::interactionHandler</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb6714f6062ff52e99afa55cea019eda">numberOfNewInteractionsReceive_</a>, and <a class="el" href="../../d5/d89/classDPMBase.html#a63d4452eb048b1213a3876834032153c">DPMBase::wallHandler</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="adb33c8462dd6f21698df1eac5df9e72c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb33c8462dd6f21698df1eac5df9e72c">&#9670;&nbsp;</a></span>readAndAddObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::readAndAddObject </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pure virtual function needs implementation, but it does nothing for the periodicBoudnaryHandler. </p>
<p>The periodic boundary handler does not need to read anything, it will be reconstructed. </p>

<p>Implements <a class="el" href="../../d2/dcc/classBaseHandler.html#a55221abcb510be3b87eba601c747c041">BaseHandler&lt; BasePeriodicBoundary &gt;</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af4057be23ea84ee972e42a4c0ab80a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4057be23ea84ee972e42a4c0ab80a99">&#9670;&nbsp;</a></span>setInteractionDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::setInteractionDistance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a>&#160;</td>
          <td class="paramname"><em>interactionDistance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the interaction distance. </p>
<p>This distance determines when a particle starts to interact with a periodic boundary </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">interactionDistance</td><td>The distance from a boundary when a particle starts to interact with it. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a> = interactionDistance;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a22a0aefd5a6cd2ea66c44b765e1a7144">interactionDistance_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d89/classDPMBase.html#af5d2bd34ca0a26fa63f47205dd9d4a62">DPMBase::read()</a>, and <a class="el" href="../../d5/d89/classDPMBase.html#a75b6730534b2cf3c4e2392230493182e">DPMBase::updateGhostGrid()</a>.</p>

</div>
</div>
<a id="a25a29feb7749e56a8bbedf07fe62dc00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25a29feb7749e56a8bbedf07fe62dc00">&#9670;&nbsp;</a></span>setMPIFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::setMPIFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the MPIParticle and isMPIParticle flags of a given particle. </p>
<p>Mixed particles that are in periodic and mpi domains, PM-particles can create ghosts of themselves PGM and PMG and additionally PGMG-particles. These last particles can't be created both by the periodic routines and the paralle routines and therefore the design choice is that these fully depend on the periodic routines. The update of their MPI flags such as isInMPIDomain and isMPIParticle is handled by this function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">particle</td><td>A particle that receives the correct MPI flags </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordtype">bool</span> isInMPIDomain;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordtype">bool</span> isMPIParticle;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a67c27b9fc211923833bb4db3f5b9dc4b">getMPIFlags</a>(particle, isInMPIDomain, isMPIParticle);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a6a75997983f8ec637736c26d2106c002">setInMPIDomain</a>(isInMPIDomain);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a89fe93dcda156448d731a00d343445cb">setMPIParticle</a>(isMPIParticle);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div>
<div class="ttc" id="aclassBaseParticle_html_a6a75997983f8ec637736c26d2106c002"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a6a75997983f8ec637736c26d2106c002">BaseParticle::setInMPIDomain</a></div><div class="ttdeci">void setInMPIDomain(bool flag)</div><div class="ttdoc">Flags the status of the particle if wether it is in the communication zone or not.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:264</div></div>
<div class="ttc" id="aclassBaseParticle_html_a89fe93dcda156448d731a00d343445cb"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a89fe93dcda156448d731a00d343445cb">BaseParticle::setMPIParticle</a></div><div class="ttdeci">void setMPIParticle(bool flag)</div><div class="ttdoc">Flags the mpi particle status.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:174</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a67c27b9fc211923833bb4db3f5b9dc4b"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a67c27b9fc211923833bb4db3f5b9dc4b">PeriodicBoundaryHandler::getMPIFlags</a></div><div class="ttdeci">void getMPIFlags(BaseParticle *particle, bool &amp;isInMPIDomain, bool &amp;isMPIParticle)</div><div class="ttdoc">Determines if a given particle is in the MPI domain and if it is an MPI Particle.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:379</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a67c27b9fc211923833bb4db3f5b9dc4b">getMPIFlags()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a6a75997983f8ec637736c26d2106c002">BaseParticle::setInMPIDomain()</a>, and <a class="el" href="../../db/d52/classBaseParticle.html#a89fe93dcda156448d731a00d343445cb">BaseParticle::setMPIParticle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="a393ea8617fb6502828549ca0f935ca81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a393ea8617fb6502828549ca0f935ca81">&#9670;&nbsp;</a></span>shiftParticle() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::shiftParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shifts the position of the particle based on its current periodic complexity. </p>
<p>This function shifts the position of the particle with respect to the periodic boundaries based on the periodic complexity it currently has. Note that some boundaries such as the angular periodic boundary do not only shift the position, but also the velocity. In that sense this function name is a bit of a misnomer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">particle</td><td>The particle that shifts position (and possibly other properties) </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle</a>(particle, particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>());</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">BaseParticle::getPeriodicComplexity()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9c86f3f19f8bea107cbe53520b9f0a36">findTargetProcessor()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles()</a>.</p>

</div>
</div>
<a id="a42ade2cb8630c92ddcdf0dc7aca6eb2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ade2cb8630c92ddcdf0dc7aca6eb2e">&#9670;&nbsp;</a></span>shiftParticle() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::shiftParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>complexity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shifts the position of the particle based on a given periodic complexity. </p>
<p>This function shifts the position of the particle with respect to the periodic boundaries based on a given periodic complexity. Note that some boundaries such as the angular periodic boundary do not only shift the position, but also the velocity. In that sense this function name is a bit of a misnomer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">particle</td><td>The particle that shifts position (and possibly other properties) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">complexity</td><td>The periodic complexity that determines how the particle is shifted </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">int</span> boundaryIndex = 0;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d5/db7/classBasePeriodicBoundary.html">BasePeriodicBoundary</a>* boundary : *<span class="keyword">this</span>)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (complexity[boundaryIndex] == -1)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            boundary-&gt;<a class="code" href="../../d5/db7/classBasePeriodicBoundary.html#a1bd2c3b6490ec3fbf2953e22254db8ba">shiftPosition</a>(particle);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        boundaryIndex++;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="ttc" id="aclassBasePeriodicBoundary_html_a1bd2c3b6490ec3fbf2953e22254db8ba"><div class="ttname"><a href="../../d5/db7/classBasePeriodicBoundary.html#a1bd2c3b6490ec3fbf2953e22254db8ba">BasePeriodicBoundary::shiftPosition</a></div><div class="ttdeci">virtual void shiftPosition(BaseParticle *particle) const =0</div><div class="ttdoc">Shifts the position (and velocity) of to the ghost particle.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/db7/classBasePeriodicBoundary.html#a1bd2c3b6490ec3fbf2953e22254db8ba">BasePeriodicBoundary::shiftPosition()</a>.</p>

</div>
</div>
<a id="a050c02d31e678f698fe2e26d2d57db99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a050c02d31e678f698fe2e26d2d57db99">&#9670;&nbsp;</a></span>updateMaserParticle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::updateMaserParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> *&#160;</td>
          <td class="paramname"><em>particle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the maser flag of particles leaving the maser. </p>
<p>When a periodic particle changes complexity and remains real, there is a possibility the particle moved over a maser boundary. If that is indeed the case then flag the particle as being not a maser particle </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particle</td><td>The particle that needs to check the isMaserParticle flag </td></tr>
  </table>
  </dd>
</dl>
<dl class="bug"><dt><b><a class="el" href="../../de/da5/bug.html#_bug000034">Bug:</a></b></dt><dd>This only works if all insertions happen on the root if there is a maser present, as the ID is increased locally </dd></dl>
<div class="fragment"><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;{</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a7dc36ab76508bafffe1b89ae73a687a9">isMaserParticle</a>())</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> = 0; <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>++)</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        {</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            <span class="keywordflow">if</span> (particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>(<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>) == 3)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#ab83eacb948f4be376c0395e1abd47ead">setMaserParticle</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                </div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;particle % with position % goes into outflow domain, new ID = %&quot;</span>, particle-&gt;<a class="code" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">getId</a>(),</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                       particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>(), <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;particleHandler.getNextId());</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newID = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a65c7307974e718b196e60b49c1f865b0">getNextId</a>();</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;new id % position X %&quot;</span>, newID, particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>().<a class="code" href="../../d5/dc1/classVec3D.html#a4df5bc1b87642dfbcec2b9313e2a7d8b">X</a>);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                particle-&gt;<a class="code" href="../../d5/d3f/classBaseObject.html#ac84cf77444f4f77def770722c0601e31">setId</a>(newID);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#acbd861017aec086ff6957584b131e8a1">increaseId</a>();</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            }</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        }</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    }</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;}</div>
<div class="ttc" id="aclassBaseHandler_html_a65c7307974e718b196e60b49c1f865b0"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#a65c7307974e718b196e60b49c1f865b0">BaseHandler::getNextId</a></div><div class="ttdeci">unsigned int getNextId()</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:237</div></div>
<div class="ttc" id="aclassBaseHandler_html_acbd861017aec086ff6957584b131e8a1"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#acbd861017aec086ff6957584b131e8a1">BaseHandler::increaseId</a></div><div class="ttdeci">void increaseId()</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:232</div></div>
<div class="ttc" id="aclassBaseObject_html_ac84cf77444f4f77def770722c0601e31"><div class="ttname"><a href="../../d5/d3f/classBaseObject.html#ac84cf77444f4f77def770722c0601e31">BaseObject::setId</a></div><div class="ttdeci">void setId(unsigned long id)</div><div class="ttdoc">Assigns a unique identifier to each object in the handler (container) which remains constant even aft...</div><div class="ttdef"><b>Definition:</b> BaseObject.cc:50</div></div>
<div class="ttc" id="aclassBaseParticle_html_a7dc36ab76508bafffe1b89ae73a687a9"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a7dc36ab76508bafffe1b89ae73a687a9">BaseParticle::isMaserParticle</a></div><div class="ttdeci">bool isMaserParticle() const</div><div class="ttdoc">Indicates if this particle belongs to the maser boundary.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:290</div></div>
<div class="ttc" id="aclassBaseParticle_html_ab83eacb948f4be376c0395e1abd47ead"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#ab83eacb948f4be376c0395e1abd47ead">BaseParticle::setMaserParticle</a></div><div class="ttdeci">void setMaserParticle(bool flag)</div><div class="ttdoc">Flags the status of the particle if it belongs to the maser boundary or not.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:295</div></div>
<div class="ttc" id="aclassVec3D_html_a4df5bc1b87642dfbcec2b9313e2a7d8b"><div class="ttname"><a href="../../d5/dc1/classVec3D.html#a4df5bc1b87642dfbcec2b9313e2a7d8b">Vec3D::X</a></div><div class="ttdeci">Mdouble X</div><div class="ttdoc">the vector components</div><div class="ttdef"><b>Definition:</b> Kernel/Math/Vector.h:45</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">BaseObject::getId()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a65c7307974e718b196e60b49c1f865b0">BaseHandler&lt; T &gt;::getNextId()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">BaseParticle::getPeriodicComplexity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">BaseInteractable::getPosition()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#acbd861017aec086ff6957584b131e8a1">BaseHandler&lt; T &gt;::increaseId()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a7dc36ab76508bafffe1b89ae73a687a9">BaseParticle::isMaserParticle()</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">DPMBase::particleHandler</a>, <a class="el" href="../../d5/d3f/classBaseObject.html#ac84cf77444f4f77def770722c0601e31">BaseObject::setId()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#ab83eacb948f4be376c0395e1abd47ead">BaseParticle::setMaserParticle()</a>, <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, and <a class="el" href="../../d5/dc1/classVec3D.html#a4df5bc1b87642dfbcec2b9313e2a7d8b">Vec3D::X</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="aae31864154621c4dfa5d244fc2326ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae31864154621c4dfa5d244fc2326ad8">&#9670;&nbsp;</a></span>updateParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::updateParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates position/velocity and periodic complexity of ghost particles. </p>
<p>This function updates the position/velocity and periodic complexity of ghost particles. There are two versions of update, a local and a global one. The local one can update the particles through pointers, as the periodic particle is located ont he same processor as the ghost. The local version has received data from other processors which is stored in the corresponding vectors </p>
<div class="fragment"><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;{</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">//For all lists that contain ghost particles</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">//The variable dataIndex indicates which index in update&lt;...&gt;Receive_ the data is located</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordtype">int</span> dataIndex = -1;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> numberOfParticles = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].size();</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordtype">bool</span> global;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">if</span> (numberOfParticles &gt; 0)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <span class="comment">//Check if the update is global or from the current processor</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                global = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                dataIndex++;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                global = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="comment">//Update all particles</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> = 0; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> &lt; numberOfParticles; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>++)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicGhostParticleID</a>* pgid = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>];</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* pGhost = pgid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                <span class="comment">//Depending on where the particle is located the data is stored in a different place</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <span class="keywordflow">if</span> (global)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                    <span class="comment">//logger(VERBOSE,&quot;i: %, numberOfParticles: %, dataIndex: %&quot;,i,numberOfParticles, dataIndex);</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    <span class="comment">//Check if this particle really belongs to the data that is send</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>.assert_debug(pGhost-&gt;<a class="code" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">getId</a>() == <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>[dataIndex][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>].id,</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                                  <span class="stringliteral">&quot;Periodic particle lists are not in syc&quot;</span>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                    </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                    <span class="comment">//Add the real position and velocity of the particles</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    <span class="comment">//Note: The before updating the position is the position of the ghost</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    <span class="comment">//Note: The received position and velocity values are of the real particle</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    <span class="comment">//Note: It will be shifted to the correct values after the complexity is computed</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                    pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a0e40341682d38b78d02f7ab95a0ed0b8">setPreviousPosition</a>(pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">setPosition</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>[dataIndex][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>].position);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a1d456a666640f302c71c3b20eb5cf6d3">setOrientation</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>[dataIndex][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>].orientation);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a4c8943dbb3f56794eacf7261d2dffc37">setVelocity</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>[dataIndex][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>].<a class="code" href="../../de/d8e/namespaceJeffery__Solution.html#acf35d547e7d28609a17c66c9a191090b">velocity</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a24fcda4bbc9610b4cf3bb9d189e49da1">setAngularVelocity</a>(<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>[dataIndex][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>].angularVelocity);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <span class="comment">//MpiPeriodicGhostParticleID * pgip = periodicGhostList_[i][p];</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a0e40341682d38b78d02f7ab95a0ed0b8">setPreviousPosition</a>(pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">setPosition</a>(pgid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">otherParticle</a>-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a1d456a666640f302c71c3b20eb5cf6d3">setOrientation</a>(pgid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">otherParticle</a>-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a054250a213a85b380b15f09d42135238">getOrientation</a>());</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a4c8943dbb3f56794eacf7261d2dffc37">setVelocity</a>(pgid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">otherParticle</a>-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a495f56c13f7228f93cd464c2658e6c99">getVelocity</a>());</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a24fcda4bbc9610b4cf3bb9d189e49da1">setAngularVelocity</a>(pgid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">otherParticle</a>-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#a17740505f0361800de673348eb8fe5db">getAngularVelocity</a>());</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                <span class="comment">//Move current periodic complexity to previous periodic complexity</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a8c637b59fd3e55fd9c60058caaad6f1a">setPreviousPeriodicComplexity</a>(pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>());</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                <span class="comment">//Compute the new realPeriodicComplexity</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                std::vector&lt;int&gt; previousRealPeriodicComplexity = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>]-&gt;realPeriodicComplexity;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="comment">//The ghost particle has the real position at the moment, so compute the real periodic complexity here</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                std::vector&lt;int&gt; realPeriodicComplexity = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity</a>(pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                std::vector&lt;int&gt; periodicComplexity(<a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> = 0; <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>++)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="../../d6/d9d/namespaceSYCL.html#a410cbd2f7b8989bd78f7cfdad7bbf9fc">sign</a> = <a class="code" href="../../d6/d6c/namespacemathsFunc.html#a522900942ccbfdf1bb7ce604486a43b5">mathsFunc::sign</a>(previousRealPeriodicComplexity[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                                               * realPeriodicComplexity[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                               * pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a22155a8c2aa37b7432f8d723893bb854">getPreviousPeriodicComplexity</a>()[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                    periodicComplexity[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>] = <a class="code" href="../../d6/d9d/namespaceSYCL.html#a410cbd2f7b8989bd78f7cfdad7bbf9fc">sign</a> * <a class="code" href="../../d8/de9/AnnoyingScalar_8h.html#a0b723dc4b77525f0cc278538ff494e29">abs</a>(realPeriodicComplexity[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <span class="comment">//The maser boundary needs this correction</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    <span class="keywordflow">if</span> (periodicComplexity[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>] == -3)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                        periodicComplexity[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>] = 1;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">setPeriodicComplexity</a>(periodicComplexity);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> = 0; <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>++)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                    <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]-&gt;modifyGhostAfterCreation(pGhost, <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                <span class="comment">//Shift the particle to correct position</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                <span class="comment">//Note: If the real particle changed complexity this position will be calculated incorrectly</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                <span class="comment">//Hence the previous complexity is used.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle</a>(pGhost, pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a22155a8c2aa37b7432f8d723893bb854">getPreviousPeriodicComplexity</a>());</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                <span class="comment">//Update hGrid</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                <a class="code" href="../../d5/dc1/classVec3D.html">Vec3D</a> displacement = pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#aa5316cb3e9b952927ca450df6894a8a8">getPreviousPosition</a>() - pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#ab884293fad2ce3d3be07e529f5ce6967">hGridUpdateMove</a>(pGhost, displacement.<a class="code" href="../../d5/dc1/classVec3D.html#a3d7bf3819688ec1fb8b03ca84e33066a">getLengthSquared</a>());</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                <span class="comment">//Do some book keeping</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>]-&gt;realPeriodicComplexity = realPeriodicComplexity;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">//Update periodic complexity of periodic particles</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle : <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;particleHandler)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">if</span> ((particle-&gt;isInPeriodicDomain()) &amp;&amp; !(particle-&gt;isPeriodicGhostParticle()))</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="comment">//Update the periodicComplexity of the real particles</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            particle-&gt;setPreviousPeriodicComplexity(particle-&gt;getPeriodicComplexity());</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            std::vector&lt;int&gt; periodicComplexity;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="keywordtype">int</span> totalPeriodicComplexity;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity</a>(periodicComplexity, totalPeriodicComplexity, particle-&gt;getPosition());</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="comment">//Modify periodic complexity tailored to specific boundary requirements</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> = 0; <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>++)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]-&gt;modifyPeriodicComplexity(periodicComplexity, totalPeriodicComplexity, particle, <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            particle-&gt;setPeriodicComplexity(periodicComplexity);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;}</div>
<div class="ttc" id="aclassBaseInteractable_html_a054250a213a85b380b15f09d42135238"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a054250a213a85b380b15f09d42135238">BaseInteractable::getOrientation</a></div><div class="ttdeci">const Quaternion &amp; getOrientation() const</div><div class="ttdoc">Returns the orientation of this BaseInteractable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.h:209</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a17740505f0361800de673348eb8fe5db"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a17740505f0361800de673348eb8fe5db">BaseInteractable::getAngularVelocity</a></div><div class="ttdeci">virtual const Vec3D &amp; getAngularVelocity() const</div><div class="ttdoc">Returns the angular velocity of this interactable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.cc:319</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a1d456a666640f302c71c3b20eb5cf6d3"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a1d456a666640f302c71c3b20eb5cf6d3">BaseInteractable::setOrientation</a></div><div class="ttdeci">virtual void setOrientation(const Quaternion &amp;orientation)</div><div class="ttdoc">Sets the orientation of this BaseInteractable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.h:239</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a24fcda4bbc9610b4cf3bb9d189e49da1"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a24fcda4bbc9610b4cf3bb9d189e49da1">BaseInteractable::setAngularVelocity</a></div><div class="ttdeci">void setAngularVelocity(const Vec3D &amp;angularVelocity)</div><div class="ttdoc">set the angular velocity of the BaseInteractble.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.cc:338</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a495f56c13f7228f93cd464c2658e6c99"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a495f56c13f7228f93cd464c2658e6c99">BaseInteractable::getVelocity</a></div><div class="ttdeci">virtual const Vec3D &amp; getVelocity() const</div><div class="ttdoc">Returns the velocity of this interactable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.cc:307</div></div>
<div class="ttc" id="aclassBaseInteractable_html_a4c8943dbb3f56794eacf7261d2dffc37"><div class="ttname"><a href="../../d8/d84/classBaseInteractable.html#a4c8943dbb3f56794eacf7261d2dffc37">BaseInteractable::setVelocity</a></div><div class="ttdeci">void setVelocity(const Vec3D &amp;velocity)</div><div class="ttdoc">set the velocity of the BaseInteractable.</div><div class="ttdef"><b>Definition:</b> BaseInteractable.cc:328</div></div>
<div class="ttc" id="aclassBaseParticle_html_a0e40341682d38b78d02f7ab95a0ed0b8"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a0e40341682d38b78d02f7ab95a0ed0b8">BaseParticle::setPreviousPosition</a></div><div class="ttdeci">void setPreviousPosition(const Vec3D &amp;pos)</div><div class="ttdoc">Sets the particle's position in the previous time step.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:600</div></div>
<div class="ttc" id="aclassBaseParticle_html_a22155a8c2aa37b7432f8d723893bb854"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a22155a8c2aa37b7432f8d723893bb854">BaseParticle::getPreviousPeriodicComplexity</a></div><div class="ttdeci">const std::vector&lt; int &gt; &amp; getPreviousPeriodicComplexity() const</div><div class="ttdoc">Sets the previous periodic communication complexity of the particle.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:254</div></div>
<div class="ttc" id="aclassBaseParticle_html_a8c637b59fd3e55fd9c60058caaad6f1a"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a8c637b59fd3e55fd9c60058caaad6f1a">BaseParticle::setPreviousPeriodicComplexity</a></div><div class="ttdeci">void setPreviousPeriodicComplexity(std::vector&lt; int &gt; complexity)</div><div class="ttdoc">Set the previous periodic communication complexity of the paritcle.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:249</div></div>
<div class="ttc" id="aclassBaseParticle_html_aa5316cb3e9b952927ca450df6894a8a8"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#aa5316cb3e9b952927ca450df6894a8a8">BaseParticle::getPreviousPosition</a></div><div class="ttdeci">const Vec3D &amp; getPreviousPosition() const</div><div class="ttdoc">Returns the particle's position in the previous time step.</div><div class="ttdef"><b>Definition:</b> BaseParticle.h:378</div></div>
<div class="ttc" id="aclassDPMBase_html_ab884293fad2ce3d3be07e529f5ce6967"><div class="ttname"><a href="../../d5/d89/classDPMBase.html#ab884293fad2ce3d3be07e529f5ce6967">DPMBase::hGridUpdateMove</a></div><div class="ttdeci">virtual void hGridUpdateMove(BaseParticle *, Mdouble)</div><div class="ttdef"><b>Definition:</b> DPMBase.cc:1922</div></div>
<div class="ttc" id="aclassVec3D_html_a3d7bf3819688ec1fb8b03ca84e33066a"><div class="ttname"><a href="../../d5/dc1/classVec3D.html#a3d7bf3819688ec1fb8b03ca84e33066a">Vec3D::getLengthSquared</a></div><div class="ttdeci">static Mdouble getLengthSquared(const Vec3D &amp;a)</div><div class="ttdoc">Calculates the squared length of a Vec3D: .</div><div class="ttdef"><b>Definition:</b> Kernel/Math/Vector.h:324</div></div>
<div class="ttc" id="anamespaceJeffery__Solution_html_acf35d547e7d28609a17c66c9a191090b"><div class="ttname"><a href="../../de/d8e/namespaceJeffery__Solution.html#acf35d547e7d28609a17c66c9a191090b">Jeffery_Solution::velocity</a></div><div class="ttdeci">double velocity(const double &amp;t)</div><div class="ttdoc">Angular velocity as function of time t.</div><div class="ttdef"><b>Definition:</b> jeffery_orbit.cc:107</div></div>
<div class="ttc" id="anamespaceSYCL_html_a410cbd2f7b8989bd78f7cfdad7bbf9fc"><div class="ttname"><a href="../../d6/d9d/namespaceSYCL.html#a410cbd2f7b8989bd78f7cfdad7bbf9fc">SYCL::sign</a></div><div class="ttdeci">T sign(T x)</div><div class="ttdef"><b>Definition:</b> cxx11_tensor_builtins_sycl.cpp:172</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/de9/AnnoyingScalar_8h.html#a0b723dc4b77525f0cc278538ff494e29">abs()</a>, <a class="el" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a17740505f0361800de673348eb8fe5db">BaseInteractable::getAngularVelocity()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">BaseObject::getId()</a>, <a class="el" href="../../d5/dc1/classVec3D.html#a3d7bf3819688ec1fb8b03ca84e33066a">Vec3D::getLengthSquared()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a054250a213a85b380b15f09d42135238">BaseInteractable::getOrientation()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">BaseParticle::getPeriodicComplexity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">BaseInteractable::getPosition()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a22155a8c2aa37b7432f8d723893bb854">BaseParticle::getPreviousPeriodicComplexity()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#aa5316cb3e9b952927ca450df6894a8a8">BaseParticle::getPreviousPosition()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a495f56c13f7228f93cd464c2658e6c99">BaseInteractable::getVelocity()</a>, <a class="el" href="../../d5/d89/classDPMBase.html#ab884293fad2ce3d3be07e529f5ce6967">DPMBase::hGridUpdateMove()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a8ffe5ac0e1d75193240b455918741263">NUMBER_OF_PROCESSORS</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#a73dcdf262b0cc9c8b4ee13a532edc808">MpiPeriodicParticleIDBase::otherParticle</a>, <a class="el" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, <a class="el" href="../../d5/de4/GeneralDefine_8h.html#a74075f95668704cf2d25c7ce880fb12a">PROCESSOR_ID</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a24fcda4bbc9610b4cf3bb9d189e49da1">BaseInteractable::setAngularVelocity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a1d456a666640f302c71c3b20eb5cf6d3">BaseInteractable::setOrientation()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a1d3db300e969bde01c605bcdc3f3902b">BaseParticle::setPeriodicComplexity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a8650c49093f29960083d755945e6cdfc">BaseInteractable::setPosition()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a8c637b59fd3e55fd9c60058caaad6f1a">BaseParticle::setPreviousPeriodicComplexity()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a0e40341682d38b78d02f7ab95a0ed0b8">BaseParticle::setPreviousPosition()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#a4c8943dbb3f56794eacf7261d2dffc37">BaseInteractable::setVelocity()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a393ea8617fb6502828549ca0f935ca81">shiftParticle()</a>, <a class="el" href="../../d6/d6c/namespacemathsFunc.html#a522900942ccbfdf1bb7ce604486a43b5">mathsFunc::sign()</a>, <a class="el" href="../../d6/d9d/namespaceSYCL.html#a410cbd2f7b8989bd78f7cfdad7bbf9fc">SYCL::sign()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a0b60fb40c96132c28c0e00449b85804c">updatePositionDataReceive_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac6c4d5cf26f5c95e1fb999c87d7a10cc">updateVelocityDataReceive_</a>, and <a class="el" href="../../de/d8e/namespaceJeffery__Solution.html#acf35d547e7d28609a17c66c9a191090b">Jeffery_Solution::velocity()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate()</a>.</p>

</div>
</div>
<a id="ae8748c02dc79845aaa2875fcc37901f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8748c02dc79845aaa2875fcc37901f6">&#9670;&nbsp;</a></span>updateParticleStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::updateParticleStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>particlesToBeDeleted</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the status of periodic particles and ghost particles. </p>
<p>This function updates the status of the particles based on the periodic complexity of the particles. this is beneficial as no round-off errors are made due to the shift in position. If a particle changes it's periodic complexity it is either removed or turned into a real particle. The real particle will be re-introduced in a later step. Particles that need to be deleted will be stored in a vector as these particles might also need to be flushed from the Domain.h lists. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particlesToBeDeleted</td><td>List of particles that will need to be removed from the simulation </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;{</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="../../d3/d19/classMPIContainer.html">MPIContainer</a>&amp; communicator = <a class="code" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance</a>();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordtype">int</span> numberOfProcessors = communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a1157f20c9d9c5066cfd2886c1794f2b7">getNumberOfProcessors</a>();</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    std::set&lt;MpiPeriodicParticleID*&gt; deletePeriodicIDList;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    std::set&lt;MpiPeriodicGhostParticleID*&gt; deletePeriodicGhostIDList;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    std::set&lt;BaseParticle*&gt; specialUpdateParticleList;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">//For all domains</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numberOfProcessors; <a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordtype">int</span> numberOfPeriodicParticles = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].size();</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="keywordtype">int</span> numberOfPeriodicGhostParticles = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].size();</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="comment">//Loop over all periodic particles to see if their complexity changed </span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> = 0; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> &lt; numberOfPeriodicParticles; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>++)</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicParticleID</a>* ppid = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>];</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* particle = ppid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a>;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="comment">//Check particle status</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            <span class="keywordtype">bool</span> isReal = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aeb8cc96878302a0e07178700c6a4a5a1">checkIsReal</a>(particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>());</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="keywordtype">bool</span> changed = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a86ef7fd21184c27a2500f48be3c31a2c">checkChanged</a>(particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a22155a8c2aa37b7432f8d723893bb854">getPreviousPeriodicComplexity</a>(), particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>());</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <span class="comment">//Only if the particle changed we need to undertake action</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="keywordflow">if</span> (changed)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                <span class="keywordflow">if</span> (isReal)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                    <span class="comment">//Flag this particle as normal, it will be re-introduced when finding new periodic particles</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Real particle % changed complexity at: %&quot;</span>, particle-&gt;<a class="code" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">getId</a>(),</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                           particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                    particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">setInPeriodicDomain</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                    <span class="comment">//Incase of a special flag 3, perform update action</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a050c02d31e678f698fe2e26d2d57db99">updateMaserParticle</a>(particle);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                    <span class="comment">//Oh noes, the particle became a ghost. Kill it with balefire!!... if it is necessary</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Real particle % changed to ghost at: %&quot;</span>, particle-&gt;<a class="code" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">getId</a>(),</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                           particle-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    particlesToBeDeleted.insert(particle);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                <span class="comment">//Delete the ID</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                deletePeriodicIDList.insert(ppid);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <span class="comment">//If a PM particle changes from to PMG it will need to be deleted.</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <span class="comment">//The deletion will be done by the M boundary, but it still needs to be flushed from the periodic lists</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <span class="keywordflow">if</span> (particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a302b30cf7f8716841aa39086a926a38a">isInMPIDomain</a>())</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                <span class="comment">//Store old values and compute new to see if the status has changed</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                <span class="keywordtype">bool</span> isMPIParticleOld = particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">isMPIParticle</a>();</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                <span class="keywordtype">bool</span> isMPIParticle;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                <span class="keywordtype">bool</span> isInMPIDomain;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a67c27b9fc211923833bb4db3f5b9dc4b">getMPIFlags</a>(particle, isInMPIDomain, isMPIParticle);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                <span class="comment">//Particle needs to be removed from lists if it becomes an MG particle</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                <span class="keywordflow">if</span> (isMPIParticleOld != isMPIParticle)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;PM to PMG: Flush from boundary&quot;</span>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                    deletePeriodicIDList.insert(ppid);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                <span class="comment">//MG particle needs to be removed from lists if it moves to another domain</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                <span class="keywordflow">if</span> (!isInMPIDomain)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                    <span class="keywordflow">if</span> (particle-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">isMPIParticle</a>())</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;PMG leaves domain: Flush from boundary&quot;</span>);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                        deletePeriodicIDList.insert(ppid);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="comment">//Loop over all periodic ghost particles to see if their complexity changed</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> = 0; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a> &lt; numberOfPeriodicGhostParticles; <a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>++)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html">MpiPeriodicGhostParticleID</a>* pgid = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>];</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <a class="code" href="../../db/d52/classBaseParticle.html">BaseParticle</a>* pGhost = pgid-&gt;<a class="code" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">particle</a>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <span class="comment">//Check particle status</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keywordtype">bool</span> isReal = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aeb8cc96878302a0e07178700c6a4a5a1">checkIsReal</a>(pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>());</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keywordtype">bool</span> changed = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a86ef7fd21184c27a2500f48be3c31a2c">checkChanged</a>(pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a22155a8c2aa37b7432f8d723893bb854">getPreviousPeriodicComplexity</a>(), pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">getPeriodicComplexity</a>());</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            <span class="comment">//Update mixed particles, particles that also are in the mpi domain also need an update</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <span class="comment">//Note that these particles are not listed in the domain lists, they are taken care here.</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="comment">//Store old values and update status of pGhost</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="keywordtype">bool</span> isInMPIDomainOld = pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a302b30cf7f8716841aa39086a926a38a">isInMPIDomain</a>();</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordtype">bool</span> isMPIParticleOld = pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">isMPIParticle</a>();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">setMPIFlags</a>(pGhost);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <span class="keywordflow">if</span> (isInMPIDomainOld)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                <span class="comment">//Case 1: pGhost changed from real to mpi particle</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                <span class="keywordflow">if</span> (isMPIParticleOld != pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">isMPIParticle</a>())</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                    <span class="comment">//Case 1: turned from M ghost to M</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                    <span class="comment">//The correct flags have been set above already</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                    </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                    <span class="comment">//Case 2: Turned from M to M ghost</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                    <span class="keywordflow">if</span> (pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">isMPIParticle</a>())</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                    {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;PGM to PGMG: Deleting particle.&quot;</span>);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                        particlesToBeDeleted.insert(pGhost);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                        deletePeriodicGhostIDList.insert(pgid);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                    </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                <span class="comment">//Case 2: pGhost left the mpi domain</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                <span class="keywordflow">if</span> (pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a302b30cf7f8716841aa39086a926a38a">isInMPIDomain</a>() != isInMPIDomainOld)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                    <span class="comment">//Case 1: Moved inside the current domain</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                    <span class="comment">//The correct flags have been set above already</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                    </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                    <span class="comment">//Case 2: Moved to a neighbour domain</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                    <span class="keywordflow">if</span> (pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">isMPIParticle</a>())</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                    {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;PGMG moved out of domain: Deleting particle.&quot;</span>);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                        particlesToBeDeleted.insert(pGhost);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                        deletePeriodicGhostIDList.insert(pgid);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                        <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="comment">//Check if the particles need to be deleted based on their periodic complexity</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <span class="keywordflow">if</span> (changed)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                <span class="keywordflow">if</span> (isReal)</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                    <span class="comment">//Check if the complexity of the particle is truely real based on it&#39;s current position</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                    std::vector&lt;int&gt; <a class="code" href="../../d2/d2e/level1__cplx__impl_8h.html#aeb584bcbdf0247687a3737041f8b9783">pc</a> = <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity</a>(pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                    <span class="keywordtype">int</span> tpc = 0;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> = 0; <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a> &lt; <a class="code" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">getSize</a>(); <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>++)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                    {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                        <a class="code" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">objects_</a>[<a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>]-&gt;modifyPeriodicComplexity(<a class="code" href="../../d2/d2e/level1__cplx__impl_8h.html#aeb584bcbdf0247687a3737041f8b9783">pc</a>, tpc, pGhost, <a class="code" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                    }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#aeb8cc96878302a0e07178700c6a4a5a1">checkIsReal</a>(<a class="code" href="../../d2/d2e/level1__cplx__impl_8h.html#aeb584bcbdf0247687a3737041f8b9783">pc</a>))</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                    {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399abb1ca97ec761fc37101737ba0aa2e7c5">ERROR</a>, <span class="stringliteral">&quot;Round-off error detected.&quot;</span>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                        <span class="comment">//logger(WARN,&quot;Round-off error corrected, phew!&quot;);</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                    }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                    </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                    <span class="comment">//There are two cases</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                    <span class="comment">//Case 1: PGMG particles turning PMG; These are still not real</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                    <span class="comment">//Case 2: PGM particles turning PG; These are truely real</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                    <span class="keywordflow">if</span> (pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">isMPIParticle</a>())</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                    {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;PGMG turned PMG: delete it&quot;</span>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                        particlesToBeDeleted.insert(pGhost);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                    }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                        <span class="comment">//Turn the particle real</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                        <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Ghost particle changed to real at position: %&quot;</span>, pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                        pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">setInPeriodicDomain</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                        pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#ab5fb6e830e3cf1fa460960e73d754c14">setPeriodicGhostParticle</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                        <span class="comment">//Make sure this particle can be detected now by the parallel boundaries</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                        pGhost-&gt;<a class="code" href="../../db/d52/classBaseParticle.html#a6a75997983f8ec637736c26d2106c002">setInMPIDomain</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    <span class="comment">//Delete the particle</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                    <a class="code" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>(<a class="code" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>, <span class="stringliteral">&quot;Ghost particle changed complexity at position: %&quot;</span>, pGhost-&gt;<a class="code" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">getPosition</a>());</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                    particlesToBeDeleted.insert(pGhost);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="comment">//Delete the ID</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                deletePeriodicGhostIDList.insert(pgid);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>[<a class="code" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            }</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">//Delete IDs </span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> ppid_it : deletePeriodicIDList)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keyword">delete</span> ppid_it;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> pgid_it : deletePeriodicGhostIDList)</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="keyword">delete</span> pgid_it;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nextId = <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a65c7307974e718b196e60b49c1f865b0">getNextId</a>();</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    communicator.<a class="code" href="../../d3/d19/classMPIContainer.html#a0d83bd9e9eec09e5527f31cfef98bd2e">broadcast</a>(nextId);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">getDPMBase</a>()-&gt;<a class="code" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">particleHandler</a>.<a class="code" href="../../d2/dcc/classBaseHandler.html#a9d107f49cb39fb16e74f8bdf4a5498bc">setNextId</a>(nextId);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;}</div>
<div class="ttc" id="aLogger_8h_html_a3f6a0b3e19111b9f95366ceb239de399abb1ca97ec761fc37101737ba0aa2e7c5"><div class="ttname"><a href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399abb1ca97ec761fc37101737ba0aa2e7c5">Log::ERROR</a></div><div class="ttdeci">@ ERROR</div></div>
<div class="ttc" id="aclassBaseHandler_html_a9d107f49cb39fb16e74f8bdf4a5498bc"><div class="ttname"><a href="../../d2/dcc/classBaseHandler.html#a9d107f49cb39fb16e74f8bdf4a5498bc">BaseHandler::setNextId</a></div><div class="ttdeci">void setNextId(unsigned int id)</div><div class="ttdef"><b>Definition:</b> BaseHandler.h:242</div></div>
<div class="ttc" id="aclassBaseParticle_html_a302b30cf7f8716841aa39086a926a38a"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a302b30cf7f8716841aa39086a926a38a">BaseParticle::isInMPIDomain</a></div><div class="ttdeci">bool isInMPIDomain()</div><div class="ttdoc">Indicates if the particle is in the communication zone of the mpi domain.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:259</div></div>
<div class="ttc" id="aclassBaseParticle_html_a55535b51c5e7c9d735fd3edfaff4f2b4"><div class="ttname"><a href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">BaseParticle::isMPIParticle</a></div><div class="ttdeci">bool isMPIParticle() const</div><div class="ttdoc">Indicates if this particle is a ghost in the MPI domain.</div><div class="ttdef"><b>Definition:</b> BaseParticle.cc:164</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a050c02d31e678f698fe2e26d2d57db99"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a050c02d31e678f698fe2e26d2d57db99">PeriodicBoundaryHandler::updateMaserParticle</a></div><div class="ttdeci">void updateMaserParticle(BaseParticle *particle)</div><div class="ttdoc">Updates the maser flag of particles leaving the maser.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1842</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a86ef7fd21184c27a2500f48be3c31a2c"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a86ef7fd21184c27a2500f48be3c31a2c">PeriodicBoundaryHandler::checkChanged</a></div><div class="ttdeci">bool checkChanged(std::vector&lt; int &gt; previousComplexity, std::vector&lt; int &gt; complexity)</div><div class="ttdoc">checks of two periodic complexities differ</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:990</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_aeb8cc96878302a0e07178700c6a4a5a1"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#aeb8cc96878302a0e07178700c6a4a5a1">PeriodicBoundaryHandler::checkIsReal</a></div><div class="ttdeci">bool checkIsReal(std::vector&lt; int &gt; complexity)</div><div class="ttdoc">checks if a periodic complexity is real</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:966</div></div>
<div class="ttc" id="alevel1__cplx__impl_8h_html_aeb584bcbdf0247687a3737041f8b9783"><div class="ttname"><a href="../../d2/d2e/level1__cplx__impl_8h.html#aeb584bcbdf0247687a3737041f8b9783">pc</a></div><div class="ttdeci">int RealScalar int RealScalar int RealScalar * pc</div><div class="ttdef"><b>Definition:</b> level1_cplx_impl.h:124</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/ddc/benchVecAdd_8cpp.html#af9816f50f32fc22762a8289c3cc44f22">b</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a0d83bd9e9eec09e5527f31cfef98bd2e">MPIContainer::broadcast()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a86ef7fd21184c27a2500f48be3c31a2c">checkChanged()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aeb8cc96878302a0e07178700c6a4a5a1">checkIsReal()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a70cb0d543c069807e92deaaeae3e6d58">computePeriodicComplexity()</a>, <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399abb1ca97ec761fc37101737ba0aa2e7c5">ERROR</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#aa7d73e1a8818f17c2bdbad2264a141ca">BaseHandler&lt; BasePeriodicBoundary &gt;::getDPMBase()</a>, <a class="el" href="../../d5/d3f/classBaseObject.html#a3a9b12be437a2032f675e057aba1aabc">BaseObject::getId()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a67c27b9fc211923833bb4db3f5b9dc4b">getMPIFlags()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a65c7307974e718b196e60b49c1f865b0">BaseHandler&lt; T &gt;::getNextId()</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a1157f20c9d9c5066cfd2886c1794f2b7">MPIContainer::getNumberOfProcessors()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#af1d384723b9bcfa6b122779bd53fef4a">BaseParticle::getPeriodicComplexity()</a>, <a class="el" href="../../d8/d84/classBaseInteractable.html#ab3ce403f3f719eb6427284211cfa4bcb">BaseInteractable::getPosition()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a22155a8c2aa37b7432f8d723893bb854">BaseParticle::getPreviousPeriodicComplexity()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a8fcc1d0188f3626c74f7e0dc1170673c">BaseHandler&lt; BasePeriodicBoundary &gt;::getSize()</a>, <a class="el" href="../../d5/de3/BiCGSTAB__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="el" href="../../d3/d19/classMPIContainer.html#a9e4c3007337c1e544e923b535f7be533">MPIContainer::Instance()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a302b30cf7f8716841aa39086a926a38a">BaseParticle::isInMPIDomain()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a55535b51c5e7c9d735fd3edfaff4f2b4">BaseParticle::isMPIParticle()</a>, <a class="el" href="../../df/d79/Logger_8cc.html#a6bb54690071023a814dfcb33b0a5d9a4">logger</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a37a9a52ffe0bf56dd613681a7c4fc4dd">BaseHandler&lt; BasePeriodicBoundary &gt;::objects_</a>, <a class="el" href="../../d0/db0/Tutorial__Map__using_8cpp.html#a7fe964f6b1afd4591f637999272ab9a2">p</a>, <a class="el" href="../../d7/db8/classMpiPeriodicParticleIDBase.html#ae1012d7ceded3e14e852de43d977f176">MpiPeriodicParticleIDBase::particle</a>, <a class="el" href="../../d5/d89/classDPMBase.html#aa22f67770bd177c2527680ef54b3a9f2">DPMBase::particleHandler</a>, <a class="el" href="../../d2/d2e/level1__cplx__impl_8h.html#aeb584bcbdf0247687a3737041f8b9783">pc</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af19018297a60b632fde532b4188a7a2f">periodicGhostList_</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1e855677695cd60089c35a3c9356a608">periodicParticleList_</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a6a75997983f8ec637736c26d2106c002">BaseParticle::setInMPIDomain()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#a36a61c1de5f94daa02a99c530ef16367">BaseParticle::setInPeriodicDomain()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a25a29feb7749e56a8bbedf07fe62dc00">setMPIFlags()</a>, <a class="el" href="../../d2/dcc/classBaseHandler.html#a9d107f49cb39fb16e74f8bdf4a5498bc">BaseHandler&lt; T &gt;::setNextId()</a>, <a class="el" href="../../db/d52/classBaseParticle.html#ab5fb6e830e3cf1fa460960e73d754c14">BaseParticle::setPeriodicGhostParticle()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a050c02d31e678f698fe2e26d2d57db99">updateMaserParticle()</a>, and <a class="el" href="../../dd/da4/Logger_8h.html#a3f6a0b3e19111b9f95366ceb239de399aec1f06e9fb39c4ef0729b3c7c9c8e8cc">VERBOSE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a76c0adeaa55a505950b5a5a550d6b507">updateStatus()</a>.</p>

</div>
</div>
<a id="a76c0adeaa55a505950b5a5a550d6b507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76c0adeaa55a505950b5a5a550d6b507">&#9670;&nbsp;</a></span>updateStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriodicBoundaryHandler::updateStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/db3/stdlist__overload_8cpp.html#a69b63b72995af592c652824ddc454356">std::set</a>&lt; <a class="el" href="../../db/d52/classBaseParticle.html">BaseParticle</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>particlesToBeDeleted</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the positions/velocity of ghost particles and accordingly the status of these particles. </p>
<p>This function updates the status of periodic particles and periodic ghost particles. This is done in two steps. The first step is to update the ghost particles with the position of their corresponding real particles. Based on this new position their status will be updated. Occasionally a particle needs to be removed and because this particle might also be listed in the communication boundaries, it will be deleted after those lists have been flushed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">particlesToBeDeleted</td><td>A list of particles that need to be deleted, but can't yet be deleted to avoid segmentation faults </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">//Step 1: collect position and velocity data of the real particle and send the data</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">//Step 2: finalise the data transision</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">//Step 3: Update the status of the ghost and real particles</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus</a>(particlesToBeDeleted);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_a9a95ef3390d944a93898b505708c2767"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">PeriodicBoundaryHandler::preparePositionAndVelocityUpdate</a></div><div class="ttdeci">void preparePositionAndVelocityUpdate()</div><div class="ttdoc">Collects the position and velocity data from periodic boundaries.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1606</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_ae8748c02dc79845aaa2875fcc37901f6"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">PeriodicBoundaryHandler::updateParticleStatus</a></div><div class="ttdeci">void updateParticleStatus(std::set&lt; BaseParticle * &gt; &amp;particlesToBeDeleted)</div><div class="ttdoc">Updates the status of periodic particles and ghost particles.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1014</div></div>
<div class="ttc" id="aclassPeriodicBoundaryHandler_html_afb953b6065b97b77a5ddf6da7ce7cd2f"><div class="ttname"><a href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">PeriodicBoundaryHandler::finalisePositionAndVelocityUpdate</a></div><div class="ttdeci">void finalisePositionAndVelocityUpdate()</div><div class="ttdoc">Communicates position and velocity data from periodic boundaries and updates ghost particles.</div><div class="ttdef"><b>Definition:</b> PeriodicBoundaryHandler.cc:1670</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d89/classDPMBase.html#aba8d8e66bd2d0a936243a8fb17aa3de9">DPMBase::performGhostParticleUpdate()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a77291fc44b9ae334533736b973d7b366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77291fc44b9ae334533736b973d7b366">&#9670;&nbsp;</a></span>interactionDataReceive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;void*&gt; PeriodicBoundaryHandler::interactionDataReceive_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the interaction data that is going to be received. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9890abeac910b34f5569ab438eda54d5">processReceivedInteractionData()</a>.</p>

</div>
</div>
<a id="a344413d2630f097557e5bd488da18425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a344413d2630f097557e5bd488da18425">&#9670;&nbsp;</a></span>interactionDataSend_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;void*&gt; PeriodicBoundaryHandler::interactionDataSend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the interaction data that is going to be send. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">collectInteractionData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">processLocalInteractionData()</a>.</p>

</div>
</div>
<a id="a22a0aefd5a6cd2ea66c44b765e1a7144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22a0aefd5a6cd2ea66c44b765e1a7144">&#9670;&nbsp;</a></span>interactionDistance_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/de4/GeneralDefine_8h.html#ac48214003841d463b1dea3233e0788a7">Mdouble</a> PeriodicBoundaryHandler::interactionDistance_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The interaction distance between a position and the boundary for which particles start to participate with a boundary or not. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a3e83ab31122d45f62e58a0480462949a">computePeriodicComplexity()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aa6e34f04d7bb223780b914c549f8fbaa">getInteractionDistance()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a348b964949571fab41e63edfcfca0b5f">operator=()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac58ea0561b4acc4330ab70ec79405ba7">PeriodicBoundaryHandler()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af4057be23ea84ee972e42a4c0ab80a99">setInteractionDistance()</a>.</p>

</div>
</div>
<a id="a71164088eccf5e5bff3589c4a99ad0a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71164088eccf5e5bff3589c4a99ad0a3">&#9670;&nbsp;</a></span>newInteractionList_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d7/d95/classBaseInteraction.html">BaseInteraction</a>*&gt; &gt; PeriodicBoundaryHandler::newInteractionList_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A list that stores the new interactions that have to be send to target processor, corresponding to sendTargetList_ </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">collectInteractionData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">findNewInteractions()</a>.</p>

</div>
</div>
<a id="a7fe72b6c83450e2d79ca0a564f2f3c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe72b6c83450e2d79ca0a564f2f3c51">&#9670;&nbsp;</a></span>newPeriodicParticleList_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a5651a54bbb22de568575ca5fd2bc71e7">PeriodicList</a>&gt; PeriodicBoundaryHandler::newPeriodicParticleList_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A vector the size of the number of processors, each entry containing a vector of newly found periodic particles that need to be send to other processors </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">communicateTargetDomains()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">findNewInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afcd663632174014fefc7b437a2952f58">findNewParticle()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a310274fe4f9a3ce533d1a50aca45da59">initialise()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">processPeriodicParticles()</a>.</p>

</div>
</div>
<a id="afb6714f6062ff52e99afa55cea019eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb6714f6062ff52e99afa55cea019eda">&#9670;&nbsp;</a></span>numberOfNewInteractionsReceive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; PeriodicBoundaryHandler::numberOfNewInteractionsReceive_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the number of new interactions to be received from target processor corresponding to receiveTargetList_. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9890abeac910b34f5569ab438eda54d5">processReceivedInteractionData()</a>.</p>

</div>
</div>
<a id="aefb9a655cc97a054443e9c42e6ef6856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefb9a655cc97a054443e9c42e6ef6856">&#9670;&nbsp;</a></span>numberOfNewInteractionsSend_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; PeriodicBoundaryHandler::numberOfNewInteractionsSend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the number of new interactions to be send to target processor corresponding to sendTargetList_. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">collectInteractionData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">findNewInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">processLocalInteractionData()</a>.</p>

</div>
</div>
<a id="a449bae002a6f996c55660bfdff97e2cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a449bae002a6f996c55660bfdff97e2cc">&#9670;&nbsp;</a></span>numberOfNewPeriodicGhostParticlesReceive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; PeriodicBoundaryHandler::numberOfNewPeriodicGhostParticlesReceive_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A vector that stores how many new ghost particles will be received from other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>.</p>

</div>
</div>
<a id="a55e04cf035880b2473905910fd6e294e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e04cf035880b2473905910fd6e294e">&#9670;&nbsp;</a></span>numberOfNewPeriodicGhostParticlesSend_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; PeriodicBoundaryHandler::numberOfNewPeriodicGhostParticlesSend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A vector that stores how many particles are going to be send to other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">communicateTargetDomains()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles()</a>.</p>

</div>
</div>
<a id="ab67cb0fad070436e7304b10c63e7fce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67cb0fad070436e7304b10c63e7fce3">&#9670;&nbsp;</a></span>periodicGhostComplexityReceive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; &gt; PeriodicBoundaryHandler::periodicGhostComplexityReceive_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for periodic complexity that is being received from other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>.</p>

</div>
</div>
<a id="af9bd41dfb6481378ff63de04f61df79b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9bd41dfb6481378ff63de04f61df79b">&#9670;&nbsp;</a></span>periodicGhostComplexitySend_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; &gt; PeriodicBoundaryHandler::periodicGhostComplexitySend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for periodic complexity that is being send to other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="af19018297a60b632fde532b4188a7a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19018297a60b632fde532b4188a7a2f">&#9670;&nbsp;</a></span>periodicGhostList_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a635a1dfa2b7eb20c456fd98cb48f1616">PeriodicGhostList</a>&gt; PeriodicBoundaryHandler::periodicGhostList_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A vector the size of the number of processors, each entry containing a vector of ghost periodioc particle ID's to keep track of periodic ghost particles and their corresponding real particles. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1ece233a096b3f023fb9daef7c09bbd2">cleanCommunicationLists()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac427546a49d70cbfdb6334bf9627258f">clearCommunicationLists()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af603886bc708208dd31daac7960baf58">flushParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6e249d01e036b968af0eb8e956bd4335">getNumberOfPeriodicGhostParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a71ea983f65c3f2c6170064e61b10c0e2">getNumberOfTruePeriodicGhostParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a310274fe4f9a3ce533d1a50aca45da59">initialise()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="ae28535947c53535345e889562aa070f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28535947c53535345e889562aa070f1">&#9670;&nbsp;</a></span>periodicGhostParticleReceive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../df/d55/classMPIParticle.html">MPIParticle</a>&gt; &gt; PeriodicBoundaryHandler::periodicGhostParticleReceive_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for particles that are being received from other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>.</p>

</div>
</div>
<a id="acebdc8f6a820ff0e9e5cdf76fbbe06e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acebdc8f6a820ff0e9e5cdf76fbbe06e4">&#9670;&nbsp;</a></span>periodicGhostParticleSend_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../df/d55/classMPIParticle.html">MPIParticle</a>&gt; &gt; PeriodicBoundaryHandler::periodicGhostParticleSend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for particles that are being send to other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>.</p>

</div>
</div>
<a id="a1e855677695cd60089c35a3c9356a608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e855677695cd60089c35a3c9356a608">&#9670;&nbsp;</a></span>periodicParticleList_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h.html#a5651a54bbb22de568575ca5fd2bc71e7">PeriodicList</a>&gt; PeriodicBoundaryHandler::periodicParticleList_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A vector the size of the number of processors, each entry containing a vector of periodic particle ID's to keep track of periodic particles and their corresponding ghosts. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a1ece233a096b3f023fb9daef7c09bbd2">cleanCommunicationLists()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac427546a49d70cbfdb6334bf9627258f">clearCommunicationLists()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#af603886bc708208dd31daac7960baf58">flushParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a310274fe4f9a3ce533d1a50aca45da59">initialise()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">processPeriodicParticles()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ae8748c02dc79845aaa2875fcc37901f6">updateParticleStatus()</a>.</p>

</div>
</div>
<a id="aec54174b3b6b52738646b576fc91ee5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec54174b3b6b52738646b576fc91ee5b">&#9670;&nbsp;</a></span>receiveTargetList_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; PeriodicBoundaryHandler::receiveTargetList_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A list that keeps track which target processors the current processor is receiving new particles from. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">communicateTargetDomains()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ac91ed0066f892cf3ad6a530d1d21fdf9">processReceivedGhostParticleData()</a>.</p>

</div>
</div>
<a id="afcad85ddabc2c7b68d4cb4434fec52cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcad85ddabc2c7b68d4cb4434fec52cd">&#9670;&nbsp;</a></span>sendTargetList_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d2a/level1__real__impl_8h.html#a4e8e1c1bb9d4e05fc671fc133ec9dc9b">int</a>&gt; PeriodicBoundaryHandler::sendTargetList_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A list that keeps track to which targets this processor is sending new particles to. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afe3c06da2bc716774764d1e1a5be99b3">collectGhostParticleData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ab7c015999e4ff5044de41c88a3f85ee6">collectInteractionData()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a56430d2a59f476c983cd9037d7c3b4d7">communicateNumberOfNewParticlesAndInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a324ff716c33092bfb574bdbe30f330ed">communicateTargetDomains()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#acecb2eb7cbcd69b025c33fe60076bc46">finaliseNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aab43137fc1f5f3106435e15b72e96102">findNewInteractions()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a6a2c8607a6aa6691aebbc8131d8651b4">performNewParticleTransmission()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#ade3bb036c2d726dcacdd0d1b648edd32">processLocalGhostParticles()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a24f5118b9078766197f4d7d561a46cfc">processLocalInteractionData()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a57fa1344e246ab98b77863458947d130">processPeriodicParticles()</a>.</p>

</div>
</div>
<a id="a0b60fb40c96132c28c0e00449b85804c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b60fb40c96132c28c0e00449b85804c">&#9670;&nbsp;</a></span>updatePositionDataReceive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d8/dfe/classMPIParticlePosition.html">MPIParticlePosition</a>&gt; &gt; PeriodicBoundaryHandler::updatePositionDataReceive_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for position data that is being received from other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles()</a>.</p>

</div>
</div>
<a id="a8bf0ba961a5a5ae651e924256b19f227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bf0ba961a5a5ae651e924256b19f227">&#9670;&nbsp;</a></span>updatePositionDataSend_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d8/dfe/classMPIParticlePosition.html">MPIParticlePosition</a>&gt; &gt; PeriodicBoundaryHandler::updatePositionDataSend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for position data that is being send to other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate()</a>.</p>

</div>
</div>
<a id="ac6c4d5cf26f5c95e1fb999c87d7a10cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c4d5cf26f5c95e1fb999c87d7a10cc">&#9670;&nbsp;</a></span>updateVelocityDataReceive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d9/d6d/classMPIParticleVelocity.html">MPIParticleVelocity</a>&gt; &gt; PeriodicBoundaryHandler::updateVelocityDataReceive_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for velocity data that is being received from other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate()</a>, <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#aae31864154621c4dfa5d244fc2326ad8">updateParticles()</a>.</p>

</div>
</div>
<a id="af243c7a13194e6db6cb6ff78d2926909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af243c7a13194e6db6cb6ff78d2926909">&#9670;&nbsp;</a></span>updateVelocityDataSend_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="../../d9/d6d/classMPIParticleVelocity.html">MPIParticleVelocity</a>&gt; &gt; PeriodicBoundaryHandler::updateVelocityDataSend_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data container for velocity data that is being send to other processors. </p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#afb953b6065b97b77a5ddf6da7ce7cd2f">finalisePositionAndVelocityUpdate()</a>, and <a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html#a9a95ef3390d944a93898b505708c2767">preparePositionAndVelocityUpdate()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../dc/d19/PeriodicBoundaryHandler_8h_source.html">PeriodicBoundaryHandler.h</a></li>
<li><a class="el" href="../../da/dd6/PeriodicBoundaryHandler_8cc.html">PeriodicBoundaryHandler.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d95/classPeriodicBoundaryHandler.html">PeriodicBoundaryHandler</a></li>
    <li class="footer">Generated on Wed Aug 27 2025 17:05:35 for MercuryDPM by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
